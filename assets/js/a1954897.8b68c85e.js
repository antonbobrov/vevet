"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[4943],{4786:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"ProgressPreloader/index","title":"ProgressPreloader","description":"Page preloader for tracking and displaying the loading progress of resources (images, videos, custom elements).","source":"@site/docs/ProgressPreloader/index.mdx","sourceDirName":"ProgressPreloader","slug":"/ProgressPreloader/","permalink":"/docs/ProgressPreloader/","draft":false,"unlisted":false,"editUrl":"https://github.com/antonbobrov/vevet/tree/master/docusaurus/docs/ProgressPreloader/index.mdx","tags":[],"version":"current","sidebarPosition":1100,"frontMatter":{"sidebar_position":1100,"toc_min_heading_level":2,"toc_max_heading_level":6},"sidebar":"tutorialSidebar","previous":{"title":"Demos","permalink":"/docs/Preloader/demos"},"next":{"title":"Props","permalink":"/docs/ProgressPreloader/props"}}');var o=n(4848),i=n(8453);const l={sidebar_position:1100,toc_min_heading_level:2,toc_max_heading_level:6},t="ProgressPreloader",d={},a=[{value:"Basic Demo",id:"basic-demo",level:2},{value:"More demos",id:"more-demos",level:2},{value:"Features",id:"features",level:2},{value:"Initialization",id:"initialization",level:2},{value:"Best Practices",id:"best-practices",level:2}];function c(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"progresspreloader",children:"ProgressPreloader"})}),"\n",(0,o.jsxs)(r.p,{children:["Page preloader for ",(0,o.jsx)(r.strong,{children:"tracking and displaying"})," the loading progress of resources (images, videos, custom elements)."]}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Takes images and videos into account"}),"\n",(0,o.jsx)(r.li,{children:"Supports virtual resources"}),"\n",(0,o.jsx)(r.li,{children:"Calculates smooth loading progress for better animations."}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"basic-demo",children:"Basic Demo"}),"\n",(0,o.jsx)("iframe",{height:"600",style:{width:"100%"},scrolling:"no",title:"Vevet Demo",src:"https://codepen.io/anton-bobrov/embed/VYYZdQG?default-tab=result",frameborder:"no",loading:"lazy",allowtransparency:"true",allowfullscreen:"true",children:(0,o.jsxs)(r.p,{children:["See the Pen ",(0,o.jsx)("a",{href:"https://codepen.io/anton-bobrov/pen/VYYZdQG",children:"Vevet Demo"})," by Anton Bobrov."]})}),"\n",(0,o.jsx)(r.h2,{id:"more-demos",children:"More demos"}),"\n",(0,o.jsxs)(r.p,{children:["To explore more demos, click ",(0,o.jsx)(r.a,{href:"./demos",children:"here"}),"."]}),"\n",(0,o.jsx)(r.h2,{id:"features",children:"Features"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"Smooth progress calculation based on observed loading state."}),"\n",(0,o.jsx)(r.li,{children:"Custom resource weight."}),"\n",(0,o.jsx)(r.li,{children:"Virtual resources for manual or async progress control."}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"initialization",children:"Initialization"}),"\n",(0,o.jsx)(r.admonition,{type:"caution",children:(0,o.jsx)(r.p,{children:"The module does not provide styling for the container."})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-html",children:'<div id="preloader">\n  <div id="progress">00%</div>\n</div>\n'})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-css",children:"#preloader {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n"})}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-js",children:'import { ProgressPreloader } from "vevet";\n\nconst preloader = new ProgressPreloader(\n  {\n    container: document.getElementById("preloader"),\n    hide: 700\n  },\n  {\n    onProgress: () => {\n      const { progress } = preloader;\n      const percent = clamp(progress * 100, 0, 99);\n      const html = `${percent.toFixed(0)}%`;\n\n      progressElement.innerHTML = html;\n    }\n  }\n);\n'})}),"\n",(0,o.jsx)(r.p,{children:"Add a custom resource:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-html",children:'<div class="js-preload" data-weight="10"></div>\n\n\x3c!-- Update its \'loaded\' attribute --\x3e\n<div class="js-preload" data-weight="10" data-loaded="7"></div>\n'})}),"\n",(0,o.jsx)(r.p,{children:"Add a virtual resource:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-js",children:"preloader.addResource('my-resource', 20);\npreloader.resolveResource('my-resource', 15);\n"})}),"\n",(0,o.jsx)(r.p,{children:"Destroy the preloader:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-js",children:"preloader.destroy();\n"})}),"\n",(0,o.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["The preloader does ",(0,o.jsx)(r.strong,{children:"not"})," perform resource loading \u2014 it only tracks loading progress."]}),"\n",(0,o.jsx)(r.li,{children:"Preloading lazy images is not supported \u2014 they are ignored automatically."}),"\n",(0,o.jsx)(r.li,{children:"Avoid assigning extremely high resource weight values; balanced weights create smoother progress."}),"\n",(0,o.jsx)(r.li,{children:"Virtual resources are ideal for async operations (API, WebGL, timers)."}),"\n",(0,o.jsxs)(r.li,{children:["Use ",(0,o.jsx)(r.code,{children:"lerp < 1"})," for cinematic UI preloaders; use ",(0,o.jsx)(r.code,{children:"lerp: 1"}),' for strict "technical" progress indicators.']}),"\n",(0,o.jsxs)(r.li,{children:["Avoid triggering ",(0,o.jsx)(r.code,{children:"destroy()"})," before the preloader reaches ",(0,o.jsx)(r.code,{children:"loadProgress = 1"}),", unless you intend to cancel preloading completely."]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>t});var s=n(6540);const o={},i=s.createContext(o);function l(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);