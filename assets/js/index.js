/*! For license information please see index.js.LICENSE.txt */
(()=>{var e,t,r={345:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnimationFrame:()=>Oe,Application:()=>Tr,Callbacks:()=>L,Component:()=>te,Ctx2D:()=>zo,Ctx2DPrerender:()=>ei,CustomCursor:()=>ic,Dragger:()=>to,DraggerDirection:()=>jo,DraggerMove:()=>fo,GeneralTypes:()=>a,Module:()=>V,MutableProp:()=>I,Page:()=>Gr,PageLoad:()=>Or,Plugin:()=>Ar,Preloader:()=>Sn,ProgressPreloader:()=>Hn,ScrollBar:()=>bi,ScrollEventsBase:()=>Ci,ScrollSectionProgress:()=>Cs,ScrollView:()=>$i,SmoothScroll:()=>Ie,SmoothScrollDragPlugin:()=>bs,SmoothScrollKeyboardPlugin:()=>ns,SplitText:()=>Qs,StaticTimeline:()=>tt,Timeline:()=>yt,Viewport:()=>dr,WheelHandler:()=>hn,utils:()=>sc});var n={};r.r(n),r.d(n,{mergeWithoutArrays:()=>p,randID:()=>u,timeoutCallback:()=>h});var o={};r.r(o),r.d(o,{clamp:()=>re,clampScope:()=>ce,inScope:()=>se,lerp:()=>ne,scoped:()=>oe,spreadScope:()=>ie,wrap:()=>ae});var i={};r.r(i),r.d(i,{intersectionObserverSupported:()=>ze,onScroll:()=>Ae});var s={};r.r(s),r.d(s,{getValues:()=>Fe,to:()=>vt,toElement:()=>bt});var c={};r.r(c),r.d(c,{load:()=>kt,pathsToProps:()=>Et,sizesToSrcSet:()=>jt});var a={};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",t="".concat(+new Date,"_").concat(Math.round(1e3*Math.random()));return"".concat(e,"_").concat(t)}r.r(a);var l=r(554),f=r.n(l);function p(e,t){return f()(e,t,(function(e,t){if(Array.isArray(e))return t}))}function h(e,t){var r;return 0===t?e():r=setTimeout((function(){e()}),t),{clear:function(){r&&clearTimeout(r)}}}function d(e,t){return y(e,t)}function y(e,t){return e===t||null!==e&&y(e.parentNode,t)}function v(e){return e instanceof HTMLElement||e instanceof Element}function b(e){return e instanceof Window}function _(e,t){if(b(e))return e;if(v(e))return e;if(void 0!==t){const r=_(t);if(r)return r.querySelector(e)}return document.querySelector(e)}function g(e,t){if(e instanceof NodeList)return e;if(v(e))return[e];if(Array.isArray(e))return e;if(void 0!==t){const r=_(t);if(r)return r.querySelectorAll(e)}return document.querySelectorAll(e)}function m(e,t,r){const n=t.split(" ");for(let o=0;o<n.length;o++)void 0===r?e.classList.toggle(n[o]):r?e.classList.add(n[o]):e.classList.remove(n[o])}function w(e,t={}){const r=document.createElement(e);if(t.class&&function(e,t){if(e instanceof Element)m(e,t,!0);else for(let r=0;r<e.length;r++)m(e[r],t,!0)}(r,t.class),t.id&&r.setAttribute("id",t.id),t.attr)for(let n=0,o=t.attr.length;n<o;n++){const e=t.attr[n];r.setAttribute(e[0],e[1])}if(t.parent&&t.parent.appendChild(r),t.html&&(r.innerHTML=t.html),t.children)for(let n=0,o=t.children.length;n<o;n++)r.appendChild(t.children[n]);return r}const O=[];function P(e,t,r,n){if(void 0!==n){const o={passive:!1,once:!1};n.once&&(o.once=!0),n.passive&&(o.passive=!0),e.addEventListener(t,r,o)}else e.addEventListener(t,r);const o=`${Math.random()}-${+new Date}`;return O.push({id:o,el:e,target:t,callback:r}),{id:o,remove:k.bind(this,o)}}function k(e){const t=[];for(let r=0,n=O.length;r<n;r++){const n=O[r];n.id===e?n.el.removeEventListener(n.target,n.callback):t.push(n)}}var j=r(796),E=r.n(j);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];x(this,e),C(this,"_app",void 0),C(this,"_callbacks",void 0),this._app=window.vevetApp,this._callbacks=[],t&&this._init()}var t,r,n;return t=e,r=[{key:"callbacks",get:function(){return this._callbacks}},{key:"_init",value:function(){this._constructor(),this._setEvents()}},{key:"_constructor",value:function(){}},{key:"_setEvents",value:function(){}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=u("callback"),o={id:n,on:!0,data:T({target:e,do:t},r)};return this._callbacks.push(o),this._onAdd(n),{id:n,remove:this.remove.bind(this,n)}}},{key:"_onAdd",value:function(e){}},{key:"remove",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1,o=this._callbacks.filter((function(o){return o.id!==e||!(!o.data.protected||r)||(t._onRemove(e),n=!0,!1)}));return this._callbacks=o,n}},{key:"_onRemove",value:function(e){}},{key:"removeAll",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._callbacks.length>0;)this.remove(this._callbacks[0].id,e)}},{key:"turn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.get(e);return!!r&&(r.on=t,this._onTurn(e),!0)}},{key:"_onTurn",value:function(e){}},{key:"get",value:function(e){var t=this._callbacks.filter((function(t){return t.id===e}));return t.length>0&&t[0]}},{key:"_trigger",value:function(e,t){if(e.on){var r=e.data,n=r.timeout,o=r.once,i=e.data.do;n?h(t?this._triggerFunc.bind(this,i,t):this._triggerFunc.bind(this,i,!1),n):t?this._triggerFunc(i,t):this._triggerFunc(i,!1),o&&this.remove(e.id)}}},{key:"_triggerFunc",value:function(e,t){t?e(t):e()}},{key:"tbt",value:function(e,t){var r=this;this._callbacks.forEach((function(n){n.data.target===e&&r._trigger(n,t)}))}},{key:"destroy",value:function(){this.removeAll(!0)}}],r&&R(t.prototype,r),n&&R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Responsive Prop";D(this,e),W(this,"_initProp",void 0),W(this,"_onResponsive",void 0),W(this,"_onChange",void 0),W(this,"_name",void 0),W(this,"_app",void 0),W(this,"_refProp",void 0),W(this,"_prop",void 0),W(this,"_responsiveRules",[]),W(this,"_viewportCallback",void 0),this._initProp=t,this._onResponsive=r,this._onChange=n,this._name=o,this._app=window.vevetApp,this._refProp=p({},t),this._prop=p({},t)}var t,r,n;return t=e,r=[{key:"prop",get:function(){return this._prop}},{key:"addResponsiveProp",value:function(e){this._responsiveRules.push(e),void 0===this._viewportCallback&&(this._viewportCallback=this._app.viewport.add("w",this._responseProp.bind(this,!0),{name:this._name})),this._responseProp()}},{key:"_responseProp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._responsiveRules,r=this._app,n=r.viewport,o=n.width,i=!1,s=p({},this._refProp);t.forEach((function(e){var t=e.settings,c=e.breakpoint;if("number"==typeof c)o<=e.breakpoint&&(i=p(s,t));else if("string"==typeof c){var a=c.toLowerCase();("d"===a&&n.isDesktop||"t"===a&&n.isTablet||"p"===a&&n.isPhone)&&(i=p(s,t)),("phone"===a&&r.isPhone||"tablet"===a&&r.isTablet||"mobile"===a&&r.isMobile)&&(i=p(s,t))}})),this._prop=p(this._prop,i||this._refProp),e&&this._onResponsive()}},{key:"changeProp",value:function(e){this._prop=p(this._prop,e),this._refProp=p(this._refProp,e),this._onChange(e)}},{key:"destroy",value:function(){this._viewportCallback&&this._viewportCallback.remove()}}],r&&M(t.prototype,r),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(){throw new Error('Vevet.Application does not exist yet. \nCall "new Vevet.Application()" before using all the stuff')}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=function(){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];F(this,e),N(this,"_mutableProp",void 0),N(this,"_callbacks",void 0),N(this,"_listeners",void 0),N(this,"_app",void 0),N(this,"_inited",!1),N(this,"_destroyed",void 0),N(this,"_viewportCallbacks",[]),window.vevetApp?this._app=window.vevetApp:B(),this._destroyed=!1,this._listeners=[],this._callbacks=new L;var n=p(this._getDefaultProp(),t||{});this._mutableProp=new I(n,this._onPropResponsive.bind(this),this._onPropChange.bind(this),this.name),r&&this.init()}var t,r,n;return t=e,r=[{key:"_getDefaultProp",value:function(){return{parent:!1}}},{key:"prop",get:function(){return this._mutableProp.prop}},{key:"callbacks",get:function(){return this._callbacks}},{key:"prefix",get:function(){return""}},{key:"name",get:function(){return this.constructor.name}},{key:"inited",get:function(){return this._inited}},{key:"destroyed",get:function(){return this._destroyed}},{key:"addResponsiveProp",value:function(e){if(this._inited)throw new Error("Responsive properties cannot be added because the class instance is already initialized");this._mutableProp.addResponsiveProp(e)}},{key:"changeProp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._mutableProp.changeProp(e),this._callbacks.tbt("changeProp",!1)}},{key:"_onPropResponsive",value:function(){this._onPropMutate()}},{key:"_onPropChange",value:function(e){this._onPropMutate()}},{key:"_onPropMutate",value:function(){}},{key:"init",value:function(){var e=this;this._inited||(this._inited=!0,this._constructor(),this._setEvents(),this.prop.parent&&this.prop.parent.addCallback("destroy",(function(){e.destroy()})))}},{key:"_constructor",value:function(){}},{key:"_setEvents",value:function(){}},{key:"addViewportCallback",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._app.viewport.add(e,t,z(z({},r),{},{name:this.constructor.name}));return this._viewportCallbacks.push(n),n}},{key:"addCallback",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.callbacks.add(e,t,r);return n}},{key:"addEventListeners",value:function(e,t,r,n){var o=P(e,t,r,n);return this._listeners.push(o),o}},{key:"destroy",value:function(){this.destroyed||this._destroy()}},{key:"_destroy",value:function(){this._callbacks.tbt("destroy",!1),this._callbacks.destroy(),this._mutableProp.destroy(),this._viewportCallbacks.forEach((function(e){e.remove()})),this._listeners.forEach((function(e){e.remove()})),this._destroyed=!0}}],r&&H(t.prototype,r),n&&H(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(){return $="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Y(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},$.apply(this,arguments)}function Y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Z(e)););return e}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var o=Z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}function K(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(i,e);var t,r,n,o=J(i);function i(){var e;Q(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ee(G(e=o.call.apply(o,[this].concat(r))),"_plugins",void 0),e}return t=i,(r=[{key:"addPlugin",value:function(e){void 0===this._plugins&&(this._plugins=[]),this._plugins.push(e),e.inited||e.initPlugin(this)}},{key:"_destroyPlugins",value:function(){this._plugins&&this._plugins.forEach((function(e){e.destroy()}))}},{key:"_destroy",value:function(){$(Z(i.prototype),"_destroy",this).call(this),this._destroyPlugins()}}])&&U(t.prototype,r),n&&U(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(V);function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1];return e<t[0]?t[0]:e>t[1]?t[1]:e}function ne(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,o=e*(1-r)+t*r,i=Math.abs(t-o);return i<=n?t:o}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],r=(e-t[0])/(t[1]-t[0]);return r}function ie(e,t){for(var r=[],n=1/(e-t*(e-1)),o=0;o<e;o+=1){var i=n*(1-t)*o,s=i+n;r.push([i,s])}return r}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1];return e>=t[0]&&e<=t[1]}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return re(oe(e,t),r)}function ae(e,t,r){var n=t-e;return function(e,t){return e||0===e?t(e):t}(r,(function(t){return(n+(t-e)%n)%n+e}))}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(){return de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=ye(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},de.apply(this,arguments)}function ye(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=me(e);if(t){var o=me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _e(this,r)}}function _e(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(i,e);var t,r,n,o=be(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pe(this,i),we(ge(t=o.call(this,e,!1)),"_isPlaying",void 0),we(ge(t),"_frame",void 0),we(ge(t),"_frameIndex",void 0),we(ge(t),"_timeStamp",void 0),we(ge(t),"_prevFrameTime",void 0),t._isPlaying=!1,t._frame=null,t._frameIndex=-1,t._timeStamp=null,t._prevFrameTime=null,r&&t.init(),t}return t=i,(r=[{key:"isPlaying",get:function(){return this._isPlaying}},{key:"_getDefaultProp",value:function(){return fe(fe({},de(me(i.prototype),"_getDefaultProp",this).call(this)),{},{fps:140,run:!1})}},{key:"_constructor",value:function(){de(me(i.prototype),"_constructor",this).call(this),this._create()}},{key:"_create",value:function(){this.prop.run&&this.play()}},{key:"_onPropMutate",value:function(){this._frameIndex=-1,this._timeStamp=null,this._prevFrameTime=null,this.prop.run?this._play():this._pause()}},{key:"play",value:function(){this.destroyed||this.prop.run||this.changeProp({run:!0})}},{key:"_play",value:function(){this.isPlaying||(this._isPlaying=!0,this._frame=window.requestAnimationFrame(this._animate.bind(this)))}},{key:"pause",value:function(){this.prop.run&&this.changeProp({run:!1})}},{key:"_pause",value:function(){this.isPlaying&&(this._frame&&(window.cancelAnimationFrame(this._frame),this._frame=null),this._isPlaying=!1)}},{key:"_animate",value:function(e){if(this._isPlaying){this._frame=window.requestAnimationFrame(this._animate.bind(this));var t=+new Date;null==this._timeStamp&&(this._timeStamp=e),null==this._prevFrameTime&&(this._prevFrameTime=t);var r=Math.floor((e-this._timeStamp)/(1e3/this.prop.fps));if(!(r<=this._frameIndex)){this._frameIndex=r;var n=t-this._prevFrameTime,o=re(0===n?1e3/60:Math.floor(1e3/n),[1,1/0]);this.callbacks.tbt("frame",{fps:this.prop.fps,realFPS:o,prevFrameDuration:t-this._prevFrameTime}),this._prevFrameTime=+new Date}}}},{key:"_destroy",value:function(){this.pause(),de(me(i.prototype),"_destroy",this).call(this)}}])&&he(t.prototype,r),n&&he(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(){return Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=xe(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Te.apply(this,arguments)}function xe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Me(e)););return e}function Re(e,t){return Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Re(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Me(e);if(t){var o=Me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Le(this,r)}}function Le(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(i,e);var t,r,n,o=Ce(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ee(this,i),We(De(t=o.call(this,e,!1)),"_outer",void 0),We(De(t),"_container",void 0),We(De(t),"_containerExists",void 0),We(De(t),"_elements",void 0),We(De(t),"_elementsLength",void 0),We(De(t),"_targetLeft",void 0),We(De(t),"_targetTop",void 0),We(De(t),"_scrollLeft",void 0),We(De(t),"_scrollTop",void 0),We(De(t),"_scrollWidth",void 0),We(De(t),"_scrollHeight",void 0),We(De(t),"_clientWidth",void 0),We(De(t),"_clientHeight",void 0),We(De(t),"_instant",void 0),We(De(t),"_animationFrame",void 0),We(De(t),"_outerAnimationFrameEvent",void 0),We(De(t),"_currentFPS",void 0);var n=t.prop.selectors;if(t._targetLeft=0,t._targetTop=0,t._scrollLeft=0,t._scrollTop=0,t._scrollWidth=0,t._scrollHeight=0,t._clientWidth=0,t._clientHeight=0,t._instant=!1,t._animationFrame=void 0,t._outerAnimationFrameEvent=void 0,t._currentFPS=60,t._outer=_(n.outer),!(t._outer instanceof HTMLElement))throw new Error("".concat(n.outer," is not a HTMLElement"));t._outer.classList.add(t.prefix);var s=_(".".concat(t.prefix,"__container"),t.outer);return v(s)?(t._container=s,t._containerExists=!0):(t._container=w("div",{class:"".concat(t.prefix,"__container"),parent:t.outer,children:Array.from(t.outer.children)}),t._containerExists=!1),n.elements?t._elements=Array.from(g(n.elements,t._outer)):t._elements=[t._container],t._elementsLength=t._elements.length,t.prop.useWillChange&&t._elements.forEach((function(e){e.style.willChange="transform"})),r&&t.init(),t}return t=i,r=[{key:"prefix",get:function(){return"".concat(this._app.prefix,"smooth-scroll")}},{key:"outer",get:function(){return this._outer}},{key:"container",get:function(){return this._container}},{key:"elements",get:function(){return this._elements}},{key:"targetLeft",get:function(){return this._targetLeft},set:function(e){this.targetLeftBound=e,this._enable()}},{key:"targetLeftBound",get:function(){return this._targetLeft},set:function(e){var t=this.prop.overscroll&&this.prop.isHorizontal?-this.prop.overscroll.max:0,r=this.maxScrollableWidth+(this.prop.overscroll&&this.prop.isHorizontal?this.prop.overscroll.max:0);this._targetLeft=re(e,[t,r])}},{key:"targetTop",get:function(){return this._targetTop},set:function(e){this.targetTopBound=e,this._enable()}},{key:"targetTopBound",get:function(){return this._targetTop},set:function(e){var t=this.prop.overscroll&&!this.prop.isHorizontal?-this.prop.overscroll.max:0,r=this.maxScrollableHeight+(this.prop.overscroll&&!this.prop.isHorizontal?this.prop.overscroll.max:0);this._targetTop=re(e,[t,r])}},{key:"scrollLeft",get:function(){return this._scrollLeft},set:function(e){this.targetLeftBound=e,this._scrollLeft=this._targetLeft,this._enable()}},{key:"scrollTop",get:function(){return this._scrollTop},set:function(e){this.targetTopBound=e,this._scrollTop=this._targetTop,this._enable()}},{key:"scrollWidth",get:function(){return this._scrollWidth}},{key:"scrollHeight",get:function(){return this._scrollHeight}},{key:"clientWidth",get:function(){return this._clientWidth}},{key:"clientHeight",get:function(){return this._clientHeight}},{key:"maxScrollableWidth",get:function(){return this.scrollWidth-this.clientWidth}},{key:"maxScrollableHeight",get:function(){return this.scrollHeight-this.clientHeight}},{key:"_getDefaultProp",value:function(){return je(je({},Te(Me(i.prototype),"_getDefaultProp",this).call(this)),{},{selectors:{outer:"#".concat(this.prefix),elements:!1},enabled:!0,animationFrame:!1,recalculateSizes:!0,resizeTimeout:0,useWheel:!0,autoStop:!0,isHorizontal:!1,stopPropagation:!0,useWillChange:!0,render:{lerp:.1,lerpToFixed:2,approximation:.1,normalizeLerp:!1},overscroll:{friction:.5,max:250}})}},{key:"_constructor",value:function(){Te(Me(i.prototype),"_constructor",this).call(this),this._toggle()}},{key:"_setEvents",value:function(){var e=this;this.resize(),this.addViewportCallback("",(function(){e.resize(!0)}),{timeout:this.prop.resizeTimeout}),this.addEventListeners(this.outer,"wheel",(function(t){e._handleWheel(t)})),this.addEventListeners(this.outer,"scroll",(function(){e.outer.scrollTop=0,e.outer.scrollLeft=0}))}},{key:"_onPropMutate",value:function(){Te(Me(i.prototype),"_onPropMutate",this).call(this),this.resize(),this._toggle()}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.container,r=this.outer;this._clientWidth=r.clientWidth,this._clientHeight=r.clientHeight,this._scrollWidth=re(t.clientWidth,[this.clientWidth,1/0]),this._scrollHeight=re(t.clientHeight,[this.clientHeight,1/0]),e&&(this._instant=!0),e&&(this.targetLeft=parseInt(this.targetLeft.toFixed(0),10),this.targetTop=parseInt(this.targetTop.toFixed(0),10));var n=this.maxScrollableHeight>0||this.maxScrollableWidth>0;r.classList.toggle("has-scroll",n),r.classList.toggle("no-scroll",!n),this._updateElementsProp(),this.callbacks.tbt("resize",!1)}},{key:"_recalculateSizes",value:function(){var e=this.container,t=e.clientHeight,r=e.clientWidth;t===this.scrollHeight&&r===this.scrollWidth||this.resize()}},{key:"_updateElementsProp",value:function(){for(var e=0;e<this._elementsLength;e+=1){var t=this._elements[e];t.smoothScrollLeft=this.scrollLeft,t.smoothScrollTop=this.scrollTop;var r=t.getAttribute("".concat(this.prefix,"-ease"));if(r)try{t.smoothScrollLerpEase=parseFloat(r)}catch(n){}}}},{key:"_handleWheel",value:function(e){var t=this.prop;if(t.enabled&&t.useWheel){(t.stopPropagation||!t.stopPropagation&&(this.scrollLeft>0&&this.scrollLeft<this.maxScrollableWidth||this.scrollTop>0&&this.scrollTop<this.maxScrollableHeight))&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault());var r=E()(e);this.targetLeftBound+=t.isHorizontal?r.pixelY:r.pixelX,this.targetTopBound+=t.isHorizontal?r.pixelX:r.pixelY,this._enable(),this.callbacks.tbt("wheel",e)}}},{key:"_toggle",value:function(){this.prop.enabled?this._enable():this._disable()}},{key:"_enable",value:function(){var e=this;this.prop.enabled&&(this.prop.animationFrame&&!this._outerAnimationFrameEvent?this._outerAnimationFrameEvent=this.prop.animationFrame.addCallback("frame",(function(t){e._currentFPS=t.realFPS,e.render()})):(this._animationFrame||(this._animationFrame=new Oe,this._animationFrame.addCallback("frame",(function(t){e._currentFPS=t.realFPS,e.render()}))),this._animationFrame.play()))}},{key:"_disable",value:function(){this._outerAnimationFrameEvent&&this.prop.animationFrame&&this._outerAnimationFrameEvent.remove(),this._animationFrame&&this._animationFrame.pause()}},{key:"render",value:function(){var e=this.prop;e.recalculateSizes&&this._recalculateSizes(),this._calcScroll(),this._calcElements(),this._renderElements(),this._instant&&(this._instant=!1),this.callbacks.tbt("scroll",!1);var t=Math.abs(this.targetTop-this.scrollTop);0===Math.abs(this.targetLeft-this.scrollLeft)&&0===t&&e.autoStop&&(this._disable(),this.callbacks.tbt("approximate",!1))}},{key:"_calcScroll",value:function(){var e=this.prop.overscroll;e&&(this.targetLeft<0?this.targetLeftBound=this._lerp(this.targetLeftBound,0,e.friction):this.targetLeft>this.maxScrollableWidth&&(this.targetLeftBound=this._lerp(this.targetLeftBound,this.maxScrollableWidth,e.friction)),this.targetTop<0?this.targetTopBound=this._lerp(this.targetTopBound,0,e.friction):this.targetTop>this.maxScrollableHeight&&(this.targetTopBound=this._lerp(this.targetTopBound,this.maxScrollableHeight,e.friction))),this._scrollLeft=this._lerp(this.scrollLeft,this.targetLeft),this._scrollTop=this._lerp(this.scrollTop,this.targetTop)}},{key:"_calcElements",value:function(){for(var e=this._getLerpEase(),t=0;t<this._elementsLength;t+=1){var r=this._elements[t],n=this._getLerpEase(r);n===e?(r.smoothScrollLeft=this._scrollLeft,r.smoothScrollTop=this._scrollTop):(r.smoothScrollLeft=this._lerp(r.smoothScrollLeft,this._targetLeft,n),r.smoothScrollTop=this._lerp(r.smoothScrollTop,this._targetTop,n))}}},{key:"_lerp",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getLerpEase(),n=this.prop.render,o=n.lerpToFixed,i=n.approximation,s=this._instant?1:r,c=ne(e,t,s,i);if("number"==typeof o){var a=Math.round(Math.abs(o));return parseFloat(c.toFixed(a))}return c}},{key:"_getLerpEase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.prop.render,r=t.lerp,n=t.normalizeLerp,o=n?60/this._currentFPS:1;return e&&e.smoothScrollLerpEase||r*o}},{key:"_renderElements",value:function(){for(var e=0;e<this._elementsLength;e+=1){var t=this._elements[e],r=-t.smoothScrollLeft,n=-t.smoothScrollTop;t.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0, ".concat(r,", ").concat(n,", 0,1)")}}},{key:"scrollTo",value:function(){var e=arguments;if(1===e.length&&"object"===Pe(e[0])){var t=e[0],r=t.top,n=t.left,o=t.behavior;void 0!==n&&("smooth"===o?this.targetLeftBound=n:this.scrollLeft=n),void 0!==r&&("smooth"===o?this.targetTopBound=r:this.scrollTop=r),"smooth"===o&&this._enable()}"number"!=typeof e[0]&&"number"!=typeof e[1]||("number"==typeof e[0]&&(this.scrollLeft=e[0]),"number"==typeof e[1]&&(this.scrollTop=e[1]))}},{key:"_destroy",value:function(){if(Te(Me(i.prototype),"_destroy",this).call(this),this._disable(),this._animationFrame&&this._animationFrame.destroy(),!this._containerExists){for(;this._container.firstChild;)this._outer.appendChild(this._container.firstChild);this._container.remove()}this._outer.classList.remove(this.prefix),this._elements.forEach((function(e){e.style.transform="",e.style.willChange=""}))}}],r&&Se(t.prototype,r),n&&Se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te),Be=[];function Ae(e){var t=e.container,r=e.callback,n=e.isPassive,o=void 0!==n&&n,i=Be.find((function(e){return e.container===t&&e.isPassive===o})),s=u("scroll-event");if(i)i.callbacks.push({id:s,callback:r});else{i={id:u("scroll-event-instance"),container:t,callbacks:[{id:s,callback:r}],isPassive:o,listeners:[]},Be.push(i);var c=i.listeners;if(t instanceof Ie)c.push(t.addCallback("scroll",(function(){for(var e=t.scrollTop,r=t.scrollLeft,n=0;n<i.callbacks.length;n+=1)i.callbacks[n].callback({scrollTop:e,scrollLeft:r})})));else{var a=t instanceof Window,l=_(t);c.push(P(l,"scroll",(function(){for(var e=a?l.pageYOffset:l.scrollTop,t=a?l.pageXOffset:l.scrollLeft,r=0;r<i.callbacks.length;r+=1)i.callbacks[r].callback({scrollTop:e,scrollLeft:t})}),{passive:o}))}}return{remove:function(){var e=i.callbacks.filter((function(e){return e.id!==s}));i.callbacks=e,0===e.length&&(i.listeners.forEach((function(e){e.remove()})),Be=Be.filter((function(e){return e.id!==i.id})))}}}function ze(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(e){var t=e instanceof Window?e.pageYOffset:e.scrollTop,r=e instanceof Window?e.pageXOffset:e.scrollLeft;return{scrollTop:t,scrollLeft:r}}}var He=r(286);function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $e(e,t){return $e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$e(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ze(e);if(t){var o=Ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qe(this,r)}}function qe(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Je(e)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(){return Ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ge(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ke.apply(this,arguments)}function Ge(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ze(e)););return e}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}(i,e);var t,r,n,o=Ye(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Qe(this,i),et(Je(t=o.call(this,e,!1)),"_progress",void 0),et(Je(t),"_easing",void 0),et(Je(t),"_nestedTimelines",void 0),t._progress=0,t._easing=0,t._nestedTimelines=[],r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Xe(Xe({},Ke(Ze(i.prototype),"_getDefaultProp",this).call(this)),{},{easing:this._app.prop.easing,scope:[0,1],useNestedEasingProgress:!1})}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this._handleProgress()}},{key:"easing",get:function(){return this._easing}},{key:"addNestedTimeline",value:function(e){this._nestedTimelines.push(e)}},{key:"_handleProgress",value:function(){this._easing=(0,He.Z)(this._progress,this.prop.easing),this._callbacks.tbt("progress",{progress:this._progress,easing:this._easing}),this._renderNestedTimelines()}},{key:"_renderNestedTimelines",value:function(){var e=this._nestedTimelines.length;if(0!==e)for(var t=this.prop.useNestedEasingProgress?this.easing:this.progress,r=0,n=e;r<n;r+=1){var o=this._nestedTimelines[r],i=re(oe(t,o.prop.nestedScope),[0,1]);o.progress=i}}},{key:"_destroy",value:function(){Ke(Ze(i.prototype),"_destroy",this).call(this),this._nestedTimelines.forEach((function(e){e.destroy()}))}}])&&Ue(t.prototype,r),n&&Ue(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ht(e);if(t){var o=ht(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ut(this,r)}}function ut(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lt(e)}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(){return ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=pt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ft.apply(this,arguments)}function pt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ht(e)););return e}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(i,e);var t,r,n,o=at(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return it(this,i),dt(lt(t=o.call(this,e,!1)),"_isPlaying",void 0),dt(lt(t),"_isReversed",void 0),dt(lt(t),"_isPaused",void 0),dt(lt(t),"_animationFrame",void 0),dt(lt(t),"_animationFrameLastTime",void 0),t._isPlaying=!1,t._isReversed=!1,t._isPaused=!1,t._animationFrame=void 0,t._animationFrameLastTime=0,r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return ot(ot({},ft(ht(i.prototype),"_getDefaultProp",this).call(this)),{},{duration:1e3,reset:!1,destroyOnEnd:!1})}},{key:"isPlaying",get:function(){return void 0!==this._animationFrame}},{key:"isReversed",get:function(){return this._isReversed}},{key:"isPaused",get:function(){return this._isPaused}},{key:"play",value:function(){this._destroyed||(this.prop.reset&&1===this.progress&&(this._progress=0),this._isReversed=!1,this._isPaused=!1,this.isPlaying||(this._animationFrameLastTime=+new Date,this._animate()))}},{key:"reverse",value:function(){this._destroyed||(this.prop.reset&&0===this.progress&&(this._progress=1),this._isReversed=!0,this._isPaused=!1,this.isPlaying||(this._animationFrameLastTime=+new Date,this._animate()))}},{key:"pause",value:function(){this._destroyed||(this._isPaused=!0,this._animationFrame&&window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}},{key:"_animate",value:function(){if(!this._isPaused){var e=this.isReversed,t=+new Date,r=Math.abs(this._animationFrameLastTime-t);this._animationFrameLastTime=t;var n=r/this.prop.duration/(e?-1:1),o=re(this.progress+n,[0,1]);if(this.progress=o,1===o&&!e||0===o&&e)return this._isReversed=!1,this._isPaused=!1,void(this._animationFrame=void 0);this._animationFrame=window.requestAnimationFrame(this._animate.bind(this))}}},{key:"_handleProgress",value:function(){ft(ht(i.prototype),"_handleProgress",this).call(this);var e=this._progress;0===e?this.callbacks.tbt("start",!1):1===e&&(this.callbacks.tbt("end",!1),this.prop.destroyOnEnd&&this.destroy())}},{key:"_destroy",value:function(){this.pause(),ft(ht(i.prototype),"_destroy",this).call(this)}}])&&st(t.prototype,r),n&&st(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(tt);function vt(e){var t=e.container,r=void 0===t?window:t,n=e.top,o=void 0===n?0:n,i=e.left,s=void 0===i?0:i,c=e.duration,a=void 0===c?250:c;return new Promise((function(e,t){var n=Fe(r);if(n){var i=new yt({duration:a});return i.addCallback("progress",(function(e){r&&r.scrollTo({top:n.scrollTop+(o-n.scrollTop)*e.easing,left:n.scrollLeft+(s-n.scrollLeft)*e.easing,behavior:"auto"})})),i.addCallback("end",(function(){e()})),void i.play()}t()}))}function bt(e){var t=e.container,r=void 0===t?window:t,n=e.el,o=e.top,i=void 0===o?0:o,s=e.left,c=void 0===s?0:s,a=e.duration,u=void 0===a?250:a;return new Promise((function(e,t){var o=Fe(r);if(o){var s=_(n);if(s){var a=s.getBoundingClientRect(),l=re(a.top+o.scrollTop-i,[0,1/0]),f=re(a.left+o.scrollLeft-c,[0,1/0]);vt({container:r,top:l,left:f,duration:u}).then((function(){e()})).catch((function(){t()}))}}else t()}))}class _t extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class gt{static fn(e){return(...t)=>new gt(((r,n,o)=>{t.push(o),e(...t).then(r,n)}))}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(((t,r)=>{this._reject=r;const n=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};Object.defineProperties(n,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e((e=>{this._isCanceled&&n.shouldReject||(this._isPending=!1,t(e))}),(e=>{this._isPending=!1,r(e)}),n)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(const e of this._cancelHandlers)e()}catch(t){return void this._reject(t)}this._rejectOnCancel&&this._reject(new _t(e))}}get isCanceled(){return this._isCanceled}}function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){Ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.setPrototypeOf(gt.prototype,Promise.prototype);var Pt=[];function kt(e,t){var r=wt(wt({},{crossOrigin:null,useCache:!1}),t),n="string"==typeof e?e:e.src;return new gt((function(t,o){var i=r.useCache&&Pt.find((function(e){return e.src===n}));if(i)t(i.image);else{if("string"==typeof e){var s=new Image;return s.crossOrigin=r.crossOrigin,s.onload=function(){r.useCache&&Pt.push({src:n,image:s}),t(s)},s.onerror=function(){o()},void(s.src=e)}e instanceof HTMLImageElement&&(e.complete?t(e):(e.addEventListener("load",(function(){r.useCache&&Pt.push({src:n,image:e}),t(e)})),e.addEventListener("error",(function(){o()}))))}}))}function jt(e){return Object.keys(e).map((function(t){var r=e[t];if(r)return"".concat(r," ").concat(t,"w")})).filter((function(e){return!!e})).join(", ")}function Et(e){var t=window.vevetApp,r=e.original;e.thumb&&(r=e.thumb),t&&t.supportsWebp&&e.thumbWebp&&(r=e.thumbWebp);var n="";return t&&t.supportsWebp&&"sizesWebp"in e&&e.sizesWebp?n=jt(e.sizesWebp):"sizes"in e&&e.sizes&&(n=jt(e.sizes)),{src:r,srcSet:n}}var St=/iPhone/i,Tt=/iPod/i,xt=/iPad/i,Rt=/\biOS-universal(?:.+)Mac\b/i,Ct=/\bAndroid(?:.+)Mobile\b/i,Lt=/Android/i,Dt=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Mt=/Silk/i,Wt=/Windows Phone/i,It=/\bWindows(?:.+)ARM\b/i,Bt=/BlackBerry/i,At=/BB10/i,zt=/Opera Mini/i,Ft=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ht=/Mobile(?:.+)Firefox\b/i,Nt=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function Vt(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var o=function(e){return function(t){return t.test(e)}}(r),i={apple:{phone:o(St)&&!o(Wt),ipod:o(Tt),tablet:!o(St)&&(o(xt)||Nt(t))&&!o(Wt),universal:o(Rt),device:(o(St)||o(Tt)||o(xt)||o(Rt)||Nt(t))&&!o(Wt)},amazon:{phone:o(Dt),tablet:!o(Dt)&&o(Mt),device:o(Dt)||o(Mt)},android:{phone:!o(Wt)&&o(Dt)||!o(Wt)&&o(Ct),tablet:!o(Wt)&&!o(Dt)&&!o(Ct)&&(o(Mt)||o(Lt)),device:!o(Wt)&&(o(Dt)||o(Mt)||o(Ct)||o(Lt))||o(/\bokhttp\b/i)},windows:{phone:o(Wt),tablet:o(It),device:o(Wt)||o(It)},other:{blackberry:o(Bt),blackberry10:o(At),opera:o(zt),firefox:o(Ht),chrome:o(Ft),device:o(Bt)||o(At)||o(zt)||o(Ht)||o(Ft)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}var Xt,Qt,Ut=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},$t=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},Yt=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},qt=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},Jt=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Kt=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Gt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Zt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],er=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function tr(e){return e?nr(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Kt:"undefined"!=typeof navigator?nr(navigator.userAgent):"undefined"!=typeof process&&process.version?new Yt(process.version.slice(1)):null}function rr(e){return""!==e&&Zt.reduce((function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]}),!1)}function nr(e){var t=rr(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new Jt;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=Ut(Ut([],o,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),s=function(e){for(var t=0,r=er.length;t<r;t++){var n=er[t],o=n[0];if(n[1].exec(e))return o}return null}(e),c=Gt.exec(e);return c&&c[1]?new qt(r,i,s,c[1]):new $t(r,i,s)}function or(e){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(e)}function ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sr(){return sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=cr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},sr.apply(this,arguments)}function cr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pr(e)););return e}function ar(e,t){return ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ar(e,t)}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pr(e);if(t){var o=pr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lr(this,r)}}function lr(e,t){if(t&&("object"===or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fr(e)}function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.Desktop="desktop",e.Tablet="tablet",e.Phone="phone"}(Xt||(Xt={})),function(e){e.Landscape="landscape",e.Portrait="portrait"}(Qt||(Qt={}));var dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(i,e);var t,r,n,o=ur(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),hr(fr(e=o.call(this,!1)),"_width",void 0),hr(fr(e),"_height",void 0),hr(fr(e),"_prevSize",void 0),hr(fr(e),"_isDesktop",void 0),hr(fr(e),"_isTablet",void 0),hr(fr(e),"_isPhone",void 0),hr(fr(e),"_resizeTimeout",void 0),e._width=0,e._height=0,e._prevSize={w:0,h:0},e._isDesktop=!1,e._isTablet=!1,e._isPhone=!1,e._init(),e}return t=i,r=[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"vw",get:function(){return this.width/100}},{key:"vh",get:function(){return this.height/100}},{key:"prevSize",get:function(){return this._prevSize}},{key:"isLandscape",get:function(){return this.width>this.height}},{key:"isPortrait",get:function(){return this.width<this.height}},{key:"isDesktop",get:function(){return this._isDesktop}},{key:"isTablet",get:function(){return this._isTablet}},{key:"isPhone",get:function(){return this._isPhone}},{key:"dpr",get:function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1}},{key:"lowerDesktopDPR",get:function(){return this._app.isDesktop?1:this.dpr}},{key:"_constructor",value:function(){sr(pr(i.prototype),"_constructor",this).call(this),this._setValues()}},{key:"_setEvents",value:function(){var e=this;window.addEventListener("resize",(function(){e._resizeTimeout&&e._resizeTimeout.clear(),e._resizeTimeout=h((function(){e._onResize()}),e._app.prop.viewportResizeTimeout)}))}},{key:"_setValues",value:function(){var e=this._app,t=e.html,r=e.prop;this._width=t.clientWidth,this._height=t.clientHeight,this._prevSize={w:this._width,h:this._height};var n=this.width;this._isDesktop=n>=r.tablet,this._isTablet=n<=r.tablet&&n>r.phone,this._isPhone=n<=r.phone,this._updateClasses(),this._updateCSSVars()}},{key:"_updateClasses",value:function(){var e=[Xt.Desktop,Xt.Tablet,Xt.Phone];this.isDesktop?this._updateBreakpointClasses(Xt.Desktop,e):this.isTablet?this._updateBreakpointClasses(Xt.Tablet,e):this._updateBreakpointClasses(Xt.Phone,e);var t=[Qt.Landscape,Qt.Portrait];this.isLandscape?this._updateBreakpointClasses(Qt.Landscape,t):this.isPortrait?this._updateBreakpointClasses(Qt.Portrait,t):this._updateBreakpointClasses("",t)}},{key:"_updateBreakpointClasses",value:function(e,t){var r=this._app.html,n=this._app.prefix;t.forEach((function(t){t===e?r.classList.add("".concat(n,"viewport-").concat(t)):r.classList.remove("".concat(n,"viewport-").concat(t))}))}},{key:"_updateCSSVars",value:function(){var e=this._app.html;e.style.setProperty("--vw","".concat(this.vw,"px")),e.style.setProperty("--vh","".concat(this.vh,"px"))}},{key:"_onResize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._prevSize.w,r=this._prevSize.h;this._setValues();var n=this.width,o=this.height,i={widthChanged:n!==t,heightChanged:o!==r,orientationChanged:n>o!=t>r};(e||n!==t&&o===r)&&this.tbt("w_",i),(e||o!==r&&n===t)&&this.tbt("h_",i),(e||n!==t&&o!==r)&&(this.tbt("wh",i),this.tbt("hw",i)),(e||n!==t)&&this.tbt("w",i),(e||o!==r)&&this.tbt("h",i),this.tbt("",i)}},{key:"forceResize",value:function(){this._onResize(!0)}}],r&&ir(t.prototype,r),n&&ir(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(L);function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function br(e,t){return br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},br(e,t)}function _r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wr(e);if(t){var o=wr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gr(this,r)}}function gr(e,t){if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mr(e)}function mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}var Or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&br(e,t)}(i,e);var t,r,n,o=_r(i);function i(){var e,t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,!1),t=mr(e),n=void 0,(r="_loaded")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e._loaded=!1,e._init(),e}return t=i,(r=[{key:"loaded",get:function(){return this._loaded}},{key:"_setEvents",value:function(){var e=this;"complete"===document.readyState?this._handleLoaded():window.addEventListener("load",(function(){e._handleLoaded()}))}},{key:"_handleLoaded",value:function(){var e=this._app,t=e.prefix;this._loaded=!0,e.html.classList.remove("".concat(t,"loading")),e.body.classList.remove("".concat(t,"loading")),e.html.classList.add("".concat(t,"loaded")),this.tbt("",!1)}},{key:"onLoaded",value:function(e){if(!this.loaded)return this.add("",e.bind(this));e()}}])&&vr(t.prototype,r),n&&vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(L);function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tr=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(jr(this,e),Sr(this,"_prop",void 0),Sr(this,"_prefix",void 0),Sr(this,"_isPhone",void 0),Sr(this,"_isTablet",void 0),Sr(this,"_isMobile",void 0),Sr(this,"_isDesktop",void 0),Sr(this,"_osName",void 0),Sr(this,"_browserName",void 0),Sr(this,"_supportsWebp",void 0),Sr(this,"_pages",[]),Sr(this,"_page",!1),Sr(this,"_pageLoad",void 0),Sr(this,"_viewport",void 0),window.vevetApp)throw new Error("Vevet Application already exists!");this._prop=kr(kr({},this.defaultProp),r),this._prefix=this.prop.prefix,this._sayHi(),window.vevetApp=this;var n=Vt();this._isPhone=n.phone,this.html.classList.toggle("".concat(this.prefix,"phone"),this._isPhone),this._isTablet=n.tablet,this.html.classList.toggle("".concat(this.prefix,"tablet"),this._isTablet),this._isMobile=n.phone||n.tablet,this.html.classList.toggle("".concat(this.prefix,"mobile"),this._isMobile),this._isDesktop=!this._isMobile,this.html.classList.toggle("".concat(this.prefix,"desktop"),this._isDesktop);var o=tr();if(null!=o&&o.os){var i=o.os.split(" ")[0].toLowerCase();this.html.classList.add("".concat(this.prefix,"os-").concat(i)),this._osName=i}else this._osName="";if(null!=o&&o.name){var s=o.name.toLowerCase();this.html.classList.add("".concat(this.prefix,"browser-").concat(s)),this._browserName=s}else this._browserName="";if(this._pageLoad=new Or,this._viewport=new dr,this.prop.webpSupport){var c=new Image;c.onload=function(){t._supportsWebp=1===c.width},c.onerror=function(){t._supportsWebp=!1},c.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}else this._supportsWebp=!1}var t,r,n;return t=e,(r=[{key:"prop",get:function(){return this._prop}},{key:"defaultProp",get:function(){return{sayHi:!0,tablet:1199,phone:899,prefix:"v-",easing:[.25,.1,.25,1],viewportResizeTimeout:0,webpSupport:!1}}},{key:"prefix",get:function(){return this._prefix}},{key:"isPhone",get:function(){return this._isPhone}},{key:"isTablet",get:function(){return this._isTablet}},{key:"isMobile",get:function(){return this._isMobile}},{key:"isDesktop",get:function(){return this._isDesktop}},{key:"osName",get:function(){return this._osName}},{key:"browserName",get:function(){return this._browserName}},{key:"supportsWebp",get:function(){return this._supportsWebp}},{key:"doc",get:function(){return document}},{key:"html",get:function(){return document.documentElement}},{key:"body",get:function(){return document.body}},{key:"pages",get:function(){return this._pages}},{key:"page",get:function(){return this._page},set:function(e){this._page=e}},{key:"onPageCreated",value:function(){var e=this;return new gt((function(t){e._page?e._page.onCreate().then((function(){t(e.page)})):setTimeout((function(){e.onPageCreated().then((function(){t(e.page)}))}),30)}))}},{key:"onPageShown",value:function(){var e=this;return new gt((function(t){e.onPageCreated().then((function(){e._page&&e._page.onShow().then((function(){t(e.page)}))}))}))}},{key:"pageLoad",get:function(){return this._pageLoad}},{key:"onPageLoaded",value:function(){var e=this;return new gt((function(t){e._pageLoad.onLoaded((function(){t()}))}))}},{key:"viewport",get:function(){return this._viewport}},{key:"_sayHi",value:function(){if(this.prop.sayHi){var e=["padding: 1rem 1.5rem;","background: #5F2580;","font: 1rem/1 Arial;","color: #ffffff;"].join("");console.log("%c%s",e,"Vevet")}}}])&&Er(t.prototype,r),n&&Er(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cr(){return Cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Lr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Cr.apply(this,arguments)}function Lr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Br(e)););return e}function Dr(e,t){return Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dr(e,t)}function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Br(e);if(t){var o=Br(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Wr(this,r)}}function Wr(e,t){if(t&&("object"===xr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}var Ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dr(e,t)}(i,e);var t,r,n,o=Mr(i);function i(e){var t,r,n,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e,!1),r=Ir(t),s=void 0,(n="_component")in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,t}return t=i,(r=[{key:"component",get:function(){return this._component}},{key:"init",value:function(){if(!this._component)throw new Error("Component is not set. Be sure that initlugin is called before.");Cr(Br(i.prototype),"init",this).call(this)}},{key:"initPlugin",value:function(e){this._inited||(this._component=e,this.init())}}])&&Rr(t.prototype,r),n&&Rr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(V);function zr(e){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach((function(t){Kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xr(){return Xr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Qr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Xr.apply(this,arguments)}function Qr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jr(e)););return e}function Ur(e,t){return Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ur(e,t)}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Jr(e);if(t){var o=Jr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yr(this,r)}}function Yr(e,t){if(t&&("object"===zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}function Kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}(i,e);var t,r,n,o=$r(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Nr(this,i),Kr(qr(t=o.call(this,e,!1)),"_blocked",void 0),Kr(qr(t),"_created",void 0),Kr(qr(t),"_shown",void 0),Kr(qr(t),"_hidden",void 0),Kr(qr(t),"_viaAJAX",void 0),t._blocked=!1,t._created=!1,t._shown=!1,t._hidden=!1,t._destroyed=!1,t._viaAJAX=!1,r&&t.init(),t}return t=i,r=[{key:"blocked",get:function(){return this._blocked}},{key:"created",get:function(){return this._created}},{key:"shown",get:function(){return this._shown}},{key:"hidden",get:function(){return this._hidden}},{key:"viaAJAX",get:function(){return this._viaAJAX}},{key:"pageClassName",get:function(){return"".concat(this._app.prefix,"page-").concat(this.prop.name)}},{key:"_getDefaultProp",value:function(){return Hr(Hr({},Xr(Jr(i.prototype),"_getDefaultProp",this).call(this)),{},{name:"home"})}},{key:"create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,n){e.canCreate().then((function(){e.created||e.blocked?n():(e._blocked=!0,e._shown=!1,e._hidden=!1,e._destroyed=!1,e._viaAJAX=t,e._app.page=e,e._app.html.classList.add(e.pageClassName),e._create().then((function(){e.callbacks.tbt("create",!1),e._blocked=!1,e._created=!0,r()})).catch((function(){n()})))})).catch((function(){n()}))}))}},{key:"_create",value:function(){return new Promise((function(e){e()}))}},{key:"canCreate",value:function(){var e=this;return new Promise((function(t,r){e.created?r():t()}))}},{key:"show",value:function(){var e=this;return new Promise((function(t,r){e.canShow().then((function(){e.shown||e.blocked?r():(e._blocked=!0,e._created=!0,e._hidden=!1,e._destroyed=!1,e._show().then((function(){e.callbacks.tbt("show",!1),e._blocked=!1,e._shown=!0,t()})).catch((function(){r()})))})).catch((function(){r()}))}))}},{key:"_show",value:function(){return new Promise((function(e){e()}))}},{key:"canShow",value:function(){var e=this;return new Promise((function(t,r){!e.created||e.shown?r():t()}))}},{key:"hide",value:function(){var e=this;return new Promise((function(t,r){e.canHide().then((function(){e.hidden||e.blocked?r():(e._blocked=!0,e._created=!0,e._shown=!1,e._destroyed=!1,e._hide().then((function(){e.callbacks.tbt("hide",!1),e._blocked=!1,e._hidden=!0,t()})).catch((function(){r()})))})).catch((function(){r()}))}))}},{key:"_hide",value:function(){return new Promise((function(e){e()}))}},{key:"canHide",value:function(){var e=this;return new Promise((function(t,r){e.created&&e.shown&&!e.hidden?t():r()}))}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,r){e.canDestroy().then((function(){e.destroyed||e.blocked?r():(e._blocked=!0,e._created=!1,e._shown=!1,e._hidden=!0,e._app.page=!1,e._app.html.classList.remove(e.pageClassName),e._destroy().then((function(){e._blocked=!1,e._destroyed=!0,t()})).catch((function(){r()})))})).catch((function(){r()}))}))}},{key:"_destroy",value:function(){var e=this;return new Promise((function(t){Xr(Jr(i.prototype),"_destroy",e).call(e),t()}))}},{key:"canDestroy",value:function(){var e=this;return new Promise((function(t,r){e.created&&e.hidden&&!e.destroyed?t():r()}))}},{key:"onCreate",value:function(){var e=this;return new gt((function(t){e.created?t():e.addCallback("create",(function(){t()}),{once:!0})}))}},{key:"onShow",value:function(){var e=this;return new gt((function(t){e.shown?t():e.addCallback("show",(function(){t()}),{once:!0})}))}},{key:"onHide",value:function(){var e=this;return new gt((function(t){e.hidden?t():e.addCallback("hide",(function(){t()}),{once:!0})}))}}],r&&Vr(t.prototype,r),n&&Vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zr(e)}function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach((function(t){pn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function on(e,t){return on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},on(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fn(e);if(t){var o=fn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cn(this,r)}}function cn(e,t){if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return an(e)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(){return un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=ln(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},un.apply(this,arguments)}function ln(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fn(e)););return e}function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fn(e)}function pn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(i,e);var t,r,n,o=sn(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return rn(this,i),pn(an(t=o.call(this,e,!1)),"_wheelListener",void 0),pn(an(t),"_lockWheel",void 0),pn(an(t),"_lockWheelTimeout",void 0),t._wheelListener=void 0,t._lockWheel=!1,r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return tn(tn({},un(fn(i.prototype),"_getDefaultProp",this).call(this)),{},{container:!1,enabled:!0,stopPropagation:!1,threshold:20})}},{key:"container",get:function(){return this.prop.container?this.prop.container:window}},{key:"_setEvents",value:function(){un(fn(i.prototype),"_setEvents",this).call(this),this.container instanceof Window?this._toggleWheelEvent():(this._listeners.push(P(this.container,"mouseenter",this._handleMouseEnter.bind(this))),this._listeners.push(P(this.container,"mouseleave",this._handleMouseLeave.bind(this))))}},{key:"_onPropMutate",value:function(){un(fn(i.prototype),"_onPropMutate",this).call(this),this._toggleWheelEvent()}},{key:"_handleMouseEnter",value:function(){this.prop.enabled&&this._createWheelEvent()}},{key:"_handleMouseLeave",value:function(){this._destroyWheelEvent()}},{key:"_toggleWheelEvent",value:function(){this.prop.enabled?this._createWheelEvent():this._destroyWheelEvent()}},{key:"_createWheelEvent",value:function(){this._wheelListener||(this._lockWheel=!1,this._lockWheelTimeout&&clearTimeout(this._lockWheelTimeout),this._wheelListener=P(this.container,"wheel",this._handleWheel.bind(this)))}},{key:"_destroyWheelEvent",value:function(){this._wheelListener&&(this._wheelListener.remove(),this._wheelListener=void 0)}},{key:"_handleWheel",value:function(e){var t=this;if(this._wheelListener){if(this.prop.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this._lockWheel)return this._lockWheelTimeout&&clearTimeout(this._lockWheelTimeout),void(this._lockWheelTimeout=setTimeout((function(){t._lockWheel=!1}),300));var r=E()(e),n=this.prop.threshold,o=!1;r.pixelY>n?(this._callbacks.tbt("down",!1),o=!0):r.pixelY<-1*n&&(this._callbacks.tbt("up",!1),o=!0),r.pixelX>n?(this._callbacks.tbt("right",!1),o=!0):r.pixelX<-1*n&&(this._callbacks.tbt("left",!1),o=!0),o&&(this._lockWheel=!0)}}},{key:"_destroy",value:function(){un(fn(i.prototype),"_destroy",this).call(this),this._destroyWheelEvent()}}])&&nn(t.prototype,r),n&&nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(V);function dn(e){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(r),!0).forEach((function(t){En(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gn(e,t){return gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gn(e,t)}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=jn(e);if(t){var o=jn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wn(this,r)}}function wn(e,t){if(t&&("object"===dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return On(e)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pn(){return Pn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=kn(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Pn.apply(this,arguments)}function kn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jn(e)););return e}function jn(e){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jn(e)}function En(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}(i,e);var t,r,n,o=mn(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(bn(this,i),En(On(t=o.call(this,e,!1)),"_container",void 0),En(On(t),"_startTime",void 0),En(On(t),"_endTime",void 0),En(On(t),"_toBeHidden",void 0),En(On(t),"_isHidden",void 0),En(On(t),"_pageLoadEvent",void 0),t.prop.container){var n=_(t.prop.container);n instanceof HTMLElement&&(t._container=n)}return t._container&&t._container.classList.add(t.prefix),t._startTime=+new Date,t._endTime=1/0,t._toBeHidden=!1,t._isHidden=!1,r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return vn(vn({},Pn(jn(i.prototype),"_getDefaultProp",this).call(this)),{},{container:"#".concat(this.prefix),hide:250})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"preloader")}},{key:"container",get:function(){return this._container}},{key:"startTime",get:function(){return this._startTime}},{key:"endTime",get:function(){return this._endTime}},{key:"totalTime",get:function(){return this._endTime-this._startTime}},{key:"isHidden",get:function(){return this._isHidden}},{key:"_setEvents",value:function(){var e=this;Pn(jn(i.prototype),"_setEvents",this).call(this),this._onLoaded().then((function(){e._endTime=+new Date,e._handleLoaded()}))}},{key:"_onLoaded",value:function(){var e=this;return new gt((function(t){e._app.pageLoad.loaded?t():e._pageLoadEvent=e._app.pageLoad.add("",(function(){t()}))}))}},{key:"_handleLoaded",value:function(){this.callbacks.tbt("loaded",!1),"boolean"!=typeof this.prop.hide&&this.hideContainer()}},{key:"hideContainer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"boolean"!=typeof this.prop.hide?this.prop.hide:250;return this.callbacks.tbt("hide",!1),this._toBeHidden=!0,new gt((function(r){var n=e._container;if(!n)return e._handleHidden(),void r();n.style.transition="opacity ".concat(t,"ms, visibility ").concat(t,"ms"),n.style.opacity="0",n.style.visibility="hidden",h((function(){n.style.display="none",e._handleHidden(),r()}),t)}))}},{key:"_handleHidden",value:function(){this._isHidden=!0,this.callbacks.tbt("hidden",!1)}},{key:"onHide",value:function(e){if(!this._toBeHidden)return this.callbacks.add("hide",(function(){e()}));e()}},{key:"onHidden",value:function(e){if(!this._isHidden)return this.callbacks.add("hidden",(function(){e()}));e()}},{key:"_destroy",value:function(){var e;Pn(jn(i.prototype),"_destroy",this).call(this),null===(e=this._pageLoadEvent)||void 0===e||e.remove()}}],r&&_n(t.prototype,r),n&&_n(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function Tn(e){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(e)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){Fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ln(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dn(e,t){return Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dn(e,t)}function Mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zn(e);if(t){var o=zn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Wn(this,r)}}function Wn(e,t){if(t&&("object"===Tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(){return Bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=An(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Bn.apply(this,arguments)}function An(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zn(e)););return e}function zn(e){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zn(e)}function Fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dn(e,t)}(i,e);var t,r,n,o=Mn(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Cn(this,i),Fn(In(t=o.call(this,e,!1)),"_imgs",void 0),Fn(In(t),"_videos",void 0),Fn(In(t),"_customResources",void 0),Fn(In(t),"_resourcesTotal",void 0),Fn(In(t),"_resourcesLoaded",void 0),Fn(In(t),"_progress",void 0),Fn(In(t),"_animationFrame",void 0),Fn(In(t),"_endTimeline",void 0),t._imgs=[],t._videos=[],t._customResources=[],t._resourcesTotal=1+t.prop.resources,t._resourcesLoaded=0,t._progress=0,r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return Rn(Rn({},Bn(zn(i.prototype),"_getDefaultProp",this).call(this)),{},{resources:0,loaders:{img:!0,video:!0,custom:".js-preload",ignoreClassName:"js-preload-ignore"},calc:{lerp:.1,forceEnd:500}})}},{key:"imgs",get:function(){return this._imgs}},{key:"videos",get:function(){return this._videos}},{key:"customResources",get:function(){return this._customResources}},{key:"resourcesTotal",get:function(){return this._resourcesTotal}},{key:"resourcesLoaded",get:function(){return this._resourcesLoaded}},{key:"loadProgress",get:function(){return this.resourcesLoaded/this.resourcesTotal}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this._handleProgress()}},{key:"_constructor",value:function(){Bn(zn(i.prototype),"_constructor",this).call(this),this._getResources()}},{key:"_setEvents",value:function(){var e=this;Bn(zn(i.prototype),"_setEvents",this).call(this);var t=this.prop.calc.lerp;"number"==typeof t&&(this._animationFrame=new Oe,this._animationFrame.addCallback("frame",(function(){e.progress=ne(e.progress,e.loadProgress,t)})),this._animationFrame.play()),this._preloadResources(),this._app.onPageLoaded().then((function(){e._handleLoadedResource()}))}},{key:"_onLoaded",value:function(){var e=this;return new gt((function(t){var r=!1;e.callbacks.add("progress",(function(e){e.progress>=1&&!r&&(t(),r=!0)}),{protected:!0})}))}},{key:"_getResources",value:function(){var e=this,t=this.prop.loaders;t.img&&g("img").forEach((function(r){r.classList.contains(t.ignoreClassName)||(e._imgs.push(r),e._resourcesTotal+=1)})),t.video&&g("video").forEach((function(r){r.classList.contains(t.ignoreClassName)||(e._videos.push(r),e._resourcesTotal+=1)})),t.custom&&(Array.from(g(t.custom)).forEach((function(t){var r=parseInt(t.getAttribute("data-load-count")||"1",10);r=Number.isNaN(r)?1:re(r,[1,1/0]);for(var n=1;n<=r;n+=1){var o=n/r;e._customResources.push({el:t,targetProgress:o})}})),this._resourcesTotal+=this._customResources.length)}},{key:"_preloadResources",value:function(){var e=this;0===this._resourcesTotal&&(this._resourcesTotal=1,this._handleLoadedResource()),this._imgs.forEach((function(t){if(t.complete)e._handleLoadedResource();else{var r=new Image;t.addEventListener("load",(function(){e._handleLoadedResource()})),t.addEventListener("error",(function(){e._handleLoadedResource()})),r.src=t.currentSrc||t.src}})),this._videos.forEach((function(t){if(t.readyState>0)e._handleLoadedResource();else{if("none"===t.preload)return void e._handleLoadedResource();t.addEventListener("error",(function(){e._handleLoadedResource()})),t.addEventListener("loadedmetadata",(function(){e._handleLoadedResource()}))}})),this._customResources.forEach((function(t){e._seekCustomResourceLoaded(t).then((function(){e._handleLoadedResource()}))}))}},{key:"_seekCustomResourceLoaded",value:function(e){var t=this;return new Promise((function(r){var n=e.el,o=e.targetProgress,i=0;if(void 0!==n.isComplete?"boolean"==typeof n.isComplete?n.isComplete&&(i=o):"number"==typeof n.isComplete&&(i=n.isComplete):void 0!==n.isLoaded&&("boolean"==typeof n.isLoaded?n.isLoaded&&(i=o):"number"==typeof n.isLoaded&&(i=n.isLoaded)),0===i){var s=n.getAttribute("data-is-loaded");if(null!==s&&""!==s){var c=parseFloat(s);i=Number.isNaN(c)?o:c}}i>=o?r():setTimeout((function(){t.destroyed||t._seekCustomResourceLoaded(e).then((function(){r()}))}),50)}))}},{key:"addResourcesLoaded",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;t<e;t+=1)this._handleLoadedResource()}},{key:"addResourcesTotal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._resourcesTotal+=e}},{key:"_handleLoadedResource",value:function(){this.loadProgress>=1||(this._resourcesLoaded+=1,this.callbacks.tbt("resourceLoad",!1),this._animationFrame||(this.progress=this.loadProgress))}},{key:"_handleProgress",value:function(){var e=this;if(this.callbacks.tbt("progress",{progress:this._progress}),this.progress>=1)this._animationFrame&&(this._animationFrame.destroy(),this._animationFrame=void 0);else if("number"==typeof this.prop.calc.forceEnd&&this.loadProgress>=1&&!this._endTimeline){this._animationFrame&&(this._animationFrame.destroy(),this._animationFrame=void 0),this._endTimeline=new yt({duration:this.prop.calc.forceEnd});var t=this.progress;this._endTimeline.addCallback("progress",(function(r){var n=1-t;e.progress=t+n*r.progress})),this._endTimeline.play()}}},{key:"_destroy",value:function(){Bn(zn(i.prototype),"_destroy",this).call(this),this._animationFrame&&this._animationFrame.destroy()}}],r&&Ln(t.prototype,r),n&&Ln(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Sn);function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(r),!0).forEach((function(t){eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $n(e,t){return $n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$n(e,t)}function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zn(e);if(t){var o=Zn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qn(this,r)}}function qn(e,t){if(t&&("object"===Nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}function Jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(){return Kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Gn(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Kn.apply(this,arguments)}function Gn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zn(e)););return e}function Zn(e){return Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zn(e)}function eo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$n(e,t)}(i,e);var t,r,n,o=Yn(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Qn(this,i),eo(Jn(t=o.call(this,e,!1)),"_container",void 0),eo(Jn(t),"_runtimeEvents",void 0),eo(Jn(t),"_isDragging",void 0),eo(Jn(t),"_pointerID",void 0),eo(Jn(t),"_coords",void 0),eo(Jn(t),"_prevCoords",void 0),eo(Jn(t),"_startCoords",void 0),t._container=_(t.prop.container),!v(t._container)&&!b(t._container))throw new Error("No container");return t._runtimeEvents=[],t._isDragging=!1,t._pointerID=null,t._coords={x:0,y:0},t._prevCoords={x:0,y:0},t._startCoords={x:0,y:0},r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Xn(Xn({},Kn(Zn(i.prototype),"_getDefaultProp",this).call(this)),{},{container:"#".concat(this.prefix),usePassive:!1,enabled:!0})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"dragger")}},{key:"container",get:function(){return this._container}},{key:"isDragging",get:function(){return this._isDragging}},{key:"coords",get:function(){return this._coords}},{key:"startCoords",get:function(){return this._startCoords}},{key:"_setEvents",value:function(){var e=this.container,t=this.prop.usePassive;this.addEventListeners(e,"mousedown",this._handleStart.bind(this),{passive:t}),this.addEventListeners(e,"touchstart",this._handleStart.bind(this),{passive:t})}},{key:"_addRuntimeEvents",value:function(){var e=this.prop.usePassive;this._runtimeEvents.push(P(window,"mouseup",this._handleEnd.bind(this),{passive:e})),this._runtimeEvents.push(P(window,"touchend",this._handleEnd.bind(this),{passive:e})),this._runtimeEvents.push(P(window,"touchcancel",this.cancel.bind(this),{passive:e})),this._runtimeEvents.push(P(window,"blur",this.cancel.bind(this),{passive:e}))}},{key:"_removeRuntimeEvents",value:function(){this._runtimeEvents.forEach((function(e){e.remove()})),this._runtimeEvents=[]}},{key:"_normalizeEvent",value:function(e){if(e.type.includes("touch")){var t=e,r=t.targetTouches[0]||t.changedTouches[0];return{x:r.clientX,y:r.clientY,id:r.identifier}}var n=e;return{x:n.clientX,y:n.clientY,id:null}}},{key:"_handleStart",value:function(e){if(!this.prop.enabled)return!1;if(this.isDragging)return!1;var t=this._normalizeEvent(e);if("mousedown"===e.type){if(1!==e.which)return!1;e.stopPropagation()}return this._isDragging=!0,this._pointerID=t.id,this._coords={x:t.x,y:t.y},this._prevCoords={x:t.x,y:t.y},this._startCoords={x:t.x,y:t.y},this._addRuntimeEvents(),this.callbacks.tbt("start",{evt:e}),!0}},{key:"_handleEnd",value:function(e){var t=this._normalizeEvent(e);return!(!this.isDragging||t.id!==this._pointerID||(this.cancel(),0))}},{key:"cancel",value:function(){this._removeRuntimeEvents(),this._isDragging=!1,this.callbacks.tbt("end",!1)}},{key:"_destroy",value:function(){Kn(Zn(i.prototype),"_destroy",this).call(this),this._removeRuntimeEvents()}}])&&Un(t.prototype,r),n&&Un(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function ro(e){return ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(e)}function no(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function io(){return io="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=so(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},io.apply(this,arguments)}function so(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lo(e)););return e}function co(e,t){return co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},co(e,t)}function ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=lo(e);if(t){var o=lo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return uo(this,r)}}function uo(e,t){if(t&&("object"===ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lo(e){return lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lo(e)}var fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&co(e,t)}(i,e);var t,r,n,o=ao(i);function i(){return no(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"stepCoords",get:function(){return{x:this._coords.x-this._prevCoords.x,y:this._coords.y-this._prevCoords.y}}},{key:"_addRuntimeEvents",value:function(){io(lo(i.prototype),"_addRuntimeEvents",this).call(this);var e=this.prop.usePassive;this._runtimeEvents.push(P(window,"mousemove",this._handleMove.bind(this),{passive:e})),this._runtimeEvents.push(P(window,"touchmove",this._handleMove.bind(this),{passive:e}))}},{key:"_handleMove",value:function(e){var t=this._normalizeEvent(e);return!(!this.isDragging||t.id!==this._pointerID||(this._prevCoords={x:this._coords.x,y:this._coords.y},this._coords={x:t.x,y:t.y},this.callbacks.tbt("move",{evt:e,start:this.startCoords,coords:this.coords,step:this.stepCoords}),0))}},{key:"_destroy",value:function(){io(lo(i.prototype),"_destroy",this).call(this)}}])&&oo(t.prototype,r),n&&oo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(to);function po(e){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(e)}function ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(r),!0).forEach((function(t){vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function go(){return go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=mo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},go.apply(this,arguments)}function mo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ko(e)););return e}function wo(e,t){return wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wo(e,t)}function Oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ko(e);if(t){var o=ko(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Po(this,r)}}function Po(e,t){if(t&&("object"===po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ko(e)}var jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wo(e,t)}(i,e);var t,r,n,o=Oo(i);function i(){return bo(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"_getDefaultProp",value:function(){return yo(yo({},go(ko(i.prototype),"_getDefaultProp",this).call(this)),{},{min:75})}},{key:"_handleEnd",value:function(e){var t=go(ko(i.prototype),"_handleEnd",this).call(this,e);if(!t)return t;var r=this._normalizeEvent(e),n=this.startCoords,o=Math.abs(this.prop.min);return n.y>r.y&&Math.abs(r.y-n.y)>=o&&this.callbacks.tbt("up",!1),n.y<r.y&&Math.abs(r.y-n.y)>=o&&this.callbacks.tbt("down",!1),n.x>r.x&&Math.abs(r.x-n.x)>=o&&this.callbacks.tbt("left",!1),n.x<r.x&&Math.abs(r.x-n.x)>=o&&this.callbacks.tbt("right",!1),!0}}])&&_o(t.prototype,r),n&&_o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(to);function Eo(e){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(e)}function So(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?So(Object(r),!0).forEach((function(t){Ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):So(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Co(){return Co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Lo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Co.apply(this,arguments)}function Lo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bo(e)););return e}function Do(e,t){return Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Do(e,t)}function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Bo(e);if(t){var o=Bo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Wo(this,r)}}function Wo(e,t){if(t&&("object"===Eo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bo(e)}function Ao(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Do(e,t)}(i,e);var t,r,n,o=Mo(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xo(this,i),Ao(Io(t=o.call(this,e,!1)),"_canvas",void 0),Ao(Io(t),"_ctx",void 0),Ao(Io(t),"_width",void 0),Ao(Io(t),"_height",void 0),Ao(Io(t),"_dpr",void 0),t._width=0,t._height=0,t._dpr=1;var n=t.prop,s=n.append,c=n.container,a=s&&c?c:void 0;return t._canvas=w("canvas",{parent:a}),t._ctx=t._canvas.getContext("2d"),t.prop.initialResize&&t.resize(),r&&t.init(),t}return t=i,(r=[{key:"container",get:function(){return this.prop.container}},{key:"canvas",get:function(){return this._canvas}},{key:"ctx",get:function(){return this._ctx}},{key:"width",get:function(){return this._width}},{key:"nonDPRWidth",get:function(){return this.width/this.dpr}},{key:"clientWidth",get:function(){return this.width/this.dpr}},{key:"height",get:function(){return this._height}},{key:"nonDPRHeight",get:function(){return this.height/this.dpr}},{key:"clientHeight",get:function(){return this.height/this.dpr}},{key:"dpr",get:function(){return this._dpr}},{key:"canRender",get:function(){return this.width>0&&this.height>0}},{key:"_getDefaultProp",value:function(){return To(To({},Co(Bo(i.prototype),"_getDefaultProp",this).call(this)),{},{container:!1,append:!0,updateOnResize:!1,initialResize:!0,resizeTimeout:0,width:!1,height:!1,dpr:!1})}},{key:"_setEvents",value:function(){var e=this;if(Co(Bo(i.prototype),"_setEvents",this).call(this),!1!==this.prop.updateOnResize){var t="boolean"==typeof this.prop.updateOnResize?"":this.prop.updateOnResize;this.addViewportCallback(t,(function(){e.resize()}),{timeout:this.prop.resizeTimeout}),this.resize()}}},{key:"_onPropMutate",value:function(){Co(Bo(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"resize",value:function(){var e=this.prop,t=this.canvas;if(t){var r=this._app.viewport;"number"==typeof e.dpr?this._dpr=e.dpr:this._dpr=r.dpr;var n=this._dpr,o=0,i=0;"number"==typeof e.width&&"number"==typeof e.height?(o=e.width,i=e.height):this.container?(o=this.container.clientWidth,i=this.container.clientHeight):(o=r.width,i=r.height),o*=n,i*=n,this._width=o,this._height=i,t.width=o,t.height=i,this.callbacks.tbt("resize",!1)}}},{key:"_destroy",value:function(){Co(Bo(i.prototype),"_destroy",this).call(this),this.canvas&&this.canvas.remove()}}])&&Ro(t.prototype,r),n&&Ro(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function Fo(e){const t=function(e){if("container"in e)return{width:e.container.clientWidth,height:e.container.clientHeight};return{width:e.width,height:e.height}}(e),r=function(e){const{source:t}=e;if(e.sourceWidth&&e.sourceHeight)return{width:e.sourceWidth,height:e.sourceHeight};if(t instanceof HTMLVideoElement)return{width:t.videoWidth,height:t.videoHeight};if(t instanceof HTMLImageElement)return{width:t.naturalWidth,height:t.naturalHeight};return{width:t.width,height:t.height}}(e);let n;return"cover"===e.rule?n=function(e,t,r){let n=t.width*Ho(e),o=r.height*n/r.width;o/Ho(e)<t.height&&(o=t.height*Ho(e),n=r.width*o/r.height);const i=(t.width-n)/2,s=(t.height-o)/2;return{width:n,height:o,x:i,y:s}}(e,t,r):"contain"===e.rule?n=function(e,t,r){let n=0,o=0;const i=r.width/r.height;t.width>t.height?(o=t.height,n=o*i,n>t.width&&(n=t.width,o=n/i)):t.height>=t.width&&(n=t.width,o=n/i,o>t.height&&(o=t.height,n=o*i));n*=Ho(e),o*=Ho(e);const s=(t.width-n)/2,c=(t.height-o)/2;return{width:n,height:o,x:s,y:c}}(e,t,r):"top-left"===e.rule?n=function(e,t){const r=t.width*Ho(e),n=t.height*Ho(e);return{width:r,height:n,x:0,y:0}}(e,r):"top-right"===e.rule?n=function(e,t,r){const n=r.width*Ho(e),o=r.height*Ho(e),i=t.width-r.width;return{width:n,height:o,x:i,y:0}}(e,t,r):"bottom-left"===e.rule?n=function(e,t,r){const n=r.width*Ho(e),o=r.height*Ho(e),i=t.height-r.height;return{width:n,height:o,x:0,y:i}}(e,t,r):"bottom-right"===e.rule?n=function(e,t,r){const n=r.width*Ho(e),o=r.height*Ho(e),i=t.width-r.width,s=t.height-r.height;return{width:n,height:o,x:i,y:s}}(e,t,r):"center"===e.rule&&(n=function(e,t,r){const n=r.width*Ho(e),o=r.height*Ho(e),i=(t.width-r.width)/2,s=(t.height-r.height)/2;return{width:n,height:o,x:i,y:s}}(e,t,r)),Object.assign(n,{sourceWidth:r.width,sourceHeight:r.height})}function Ho(e){return void 0!==e.scale?e.scale:1}function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function Vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(r),!0).forEach((function(t){Qo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yo(){return Yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=qo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Yo.apply(this,arguments)}function qo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zo(e)););return e}function Jo(e,t){return Jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jo(e,t)}function Ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zo(e);if(t){var o=Zo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Go(this,r)}}function Go(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zo(e)}var ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jo(e,t)}(i,e);var t,r,n,o=Ko(i);function i(){return Uo(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Xo(Xo({},Yo(Zo(i.prototype),"_getDefaultProp",this).call(this)),{},{media:!1,posRule:"cover"})}},{key:"resize",value:function(){Yo(Zo(i.prototype),"resize",this).call(this),this._prerender()}},{key:"_prerender",value:function(){if(0!==this.width&&0!==this.height){var e=this.prop.media;if(e){var t,r,n;e instanceof zo?(t=e.canvas,r=e.width,n=e.height):t=e;var o=Fo({source:t,sourceWidth:r,sourceHeight:n,rule:this.prop.posRule,scale:1,width:this.width,height:this.height});this._ctx.clearRect(0,0,this.width,this.height),this._ctx.drawImage(t,o.x,o.y,o.width,o.height),this.callbacks.tbt("prerender",!1)}}}}])&&$o(t.prototype,r),n&&$o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(zo);function ti(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ri(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ni=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ri(this,"_prop",void 0),ri(this,"_outer",void 0),ri(this,"_thumb",void 0),ri(this,"_outerHeight",void 0),ri(this,"_outerWidth",void 0),ri(this,"_thumbHeight",void 0),ri(this,"_thumbWidth",void 0),ri(this,"_scrollVal",void 0),ri(this,"_coordsAtDragStart",void 0),ri(this,"_listeners",void 0),ri(this,"_scrollEvent",void 0),ri(this,"_actionTimeout",void 0),ri(this,"_dragger",void 0),this._prop=t;var r=t.prefix,n=t.dir,o=t.domParent,i=t.container,s=t.autoHide;this._outerHeight=0,this._outerWidth=0,this._thumbHeight=0,this._thumbWidth=0,this._scrollVal=0,this._coordsAtDragStart={left:0,top:0},this._scrollEvent=void 0,this._actionTimeout=void 0,this._dragger=void 0;var c="".concat(r," ").concat(r,"_").concat(n);i instanceof Window&&(c+=" in-window"),this._outer=w("div",{parent:o,class:c}),this._thumb=w("div",{parent:this._outer,class:"".concat(r,"__thumb ").concat(r,"__thumb_").concat(n)}),s&&this.outer.classList.add("auto-hide"),this._listeners=[],this._setEvents()}var t,r,n;return t=e,(r=[{key:"outer",get:function(){return this._outer}},{key:"thumb",get:function(){return this._thumb}},{key:"prefix",get:function(){return this._prop.prefix}},{key:"isX",get:function(){return"x"===this.prop.dir}},{key:"isY",get:function(){return!this.isX}},{key:"scrollElement",get:function(){return this.prop.container instanceof Window?document.documentElement:this.prop.container}},{key:"scrollLine",get:function(){var e=this.scrollElement;return this.isX?e.scrollWidth-e.clientWidth:e.scrollHeight-e.clientHeight}},{key:"scrollWidth",get:function(){return this.scrollElement.scrollWidth}},{key:"scrollHeight",get:function(){return this.scrollElement.scrollHeight}},{key:"prop",get:function(){return this._prop}},{key:"scrollValues",get:function(){var e=this.prop.container,t=0,r=0;return e instanceof Window?(t=e.pageYOffset,r=e.pageXOffset):e instanceof Ie?(t=e.targetTop,r=e.targetLeft):(t=e.scrollTop,r=e.scrollLeft),{left:r,top:t}}},{key:"_setEvents",value:function(){var e=this;this._listeners.push(P(this.outer,"mouseenter",this._handleHover.bind(this,!0))),this._listeners.push(P(this.outer,"mouseleave",this._handleHover.bind(this,!1))),this._scrollEvent=Ae({container:this.prop.container,callback:function(t){e._handleScroll(t)}}),this.prop.isDraggable&&(this._dragger=new fo({container:this.thumb}),this._dragger.addCallback("start",(function(){e.thumb.classList.add("in-action"),e._disableScrollBehaviour(!0),e._coordsAtDragStart=e.scrollValues})),this._dragger.addCallback("move",(function(t){e._handleThumbDrag(t)})),this._dragger.addCallback("end",(function(){e.thumb.classList.remove("in-action"),e._disableScrollBehaviour(!1)})))}},{key:"_disableScrollBehaviour",value:function(e){var t=e?"auto":"unset";(this.prop.container instanceof Window||this.prop.container instanceof HTMLElement)&&(document.documentElement.style.scrollBehavior=t)}},{key:"_handleHover",value:function(e){this.outer.classList.toggle("is-hovered",e)}},{key:"_handleScroll",value:function(e){var t=this;this.prop.optimizeCalculations||this.resize();var r=!1;this.isX?(r=e.scrollLeft!==this._scrollVal,this._scrollVal=e.scrollLeft):(r=e.scrollTop!==this._scrollVal,this._scrollVal=e.scrollTop),r&&(this.prop.autoHide&&r&&(this.outer.classList.add("in-action"),this._actionTimeout&&(clearTimeout(this._actionTimeout),this._actionTimeout=void 0),this._actionTimeout=setTimeout((function(){t.outer.classList.remove("in-action")}),500)),this.prop.optimizeCalculations&&this._renderThumb())}},{key:"_handleThumbDrag",value:function(e){e.evt.preventDefault();var t=this.prop.container,r=(e.coords.x-e.start.x)/(this._outerWidth-this._thumbWidth)*this.scrollLine,n=(e.coords.y-e.start.y)/(this._outerHeight-this._thumbHeight)*this.scrollLine,o=this._coordsAtDragStart,i=o.left,s=o.top;this.isX?i+=r:s+=n,t.scrollTo({top:s,left:i,behavior:t instanceof Ie?this.prop.draggableScrollBehavior:"auto"})}},{key:"_renderThumb",value:function(){var e=re(this._scrollVal/this.scrollLine,[0,1]),t=this.isX?(this._outerWidth-this._thumbWidth)*e:0,r=this.isY?(this._outerHeight-this._thumbHeight)*e:0;this._thumb.style.transform="translate(".concat(t,"px, ").concat(r,"px)")}},{key:"resize",value:function(){var e=this.outer,t=this.thumb,r=this.scrollLine,n=this.prop.minSize;if(this._outerHeight=e.clientHeight,this._outerWidth=e.clientWidth,this.prop.autoSize)if(this.isX){var o=re(this._outerWidth/(this.scrollWidth/(this.scrollWidth-r)),[n,1/0]);t.style.width="".concat(o,"px")}else{var i=re(this._outerHeight/(this.scrollHeight/(this.scrollHeight-r)),[n,1/0]);t.style.height="".concat(i,"px")}this._thumbHeight=t.clientHeight,this._thumbWidth=t.clientWidth,e.classList.toggle("is-empty",0===r),this._renderThumb()}},{key:"destroy",value:function(){this._listeners.forEach((function(e){e.remove()})),this._scrollEvent&&this._scrollEvent.remove(),this._actionTimeout&&clearTimeout(this._actionTimeout),this._dragger&&this._dragger.destroy(),this._outer.remove()}}])&&ti(t.prototype,r),n&&ti(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oi(e){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oi(e)}function ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(r),!0).forEach((function(t){vi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ii(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ui(e,t){return ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ui(e,t)}function li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yi(e);if(t){var o=yi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fi(this,r)}}function fi(e,t){if(t&&("object"===oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}function pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hi(){return hi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=di(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},hi.apply(this,arguments)}function di(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yi(e)););return e}function yi(e){return yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yi(e)}function vi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ui(e,t)}(i,e);var t,r,n,o=li(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ci(this,i),vi(pi(t=o.call(this,e,!1)),"_container",void 0),vi(pi(t),"_scrollWrapper",void 0),vi(pi(t),"_xBar",void 0),vi(pi(t),"_yBar",void 0);var n=t.prop,s=n.autoHide,c=n.autoSize,a=n.minSize,u=n.optimizeCalculations,l=n.isDraggable,f=n.draggableScrollBehavior;if("string"==typeof t.prop.container){var p=_(t.prop.container);if(!p)throw new Error("No scroll container");t._container=p}else t._container=t.prop.container;if(t.container instanceof Element){var h=t.container.parentElement;h&&(t._scrollWrapper=w("div"),t._scrollWrapper.style.position="relative",t._scrollWrapper.style.display="inline-block",h.insertBefore(t._scrollWrapper,t.container),t._scrollWrapper.appendChild(t.container),t._scrollWrapper.classList.add("".concat(t.prefix,"-wrapper")))}var d={container:t.container,domParent:t.domParent,autoHide:s,autoSize:c,minSize:a,optimizeCalculations:u,prefix:t.prefix,isDraggable:l,draggableScrollBehavior:f};return t._xBar=new ni(si({dir:"x"},d)),t._yBar=new ni(si({dir:"y"},d)),t.scrollableElement.classList.add("".concat(t.prefix,"-parent")),r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return si(si({},hi(yi(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window,domParent:!1,draggable:!0,autoSize:!0,autoHide:!0,minSize:50,optimizeCalculations:!1,resizeTimeout:0,isDraggable:!0,draggableScrollBehavior:"smooth"})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"scrollbar")}},{key:"container",get:function(){return this._container}},{key:"scrollableElement",get:function(){var e=this.container;return e instanceof Window?this._app.body:e instanceof Element?e:e.outer}},{key:"domParent",get:function(){var e=this.prop.domParent,t=this.container;return e||(this._scrollWrapper?this._scrollWrapper:t instanceof Window?this._app.body:t instanceof Element?t:t.outer)}},{key:"_setEvents",value:function(){var e=this;hi(yi(i.prototype),"_setEvents",this).call(this);var t=this.container;t instanceof Ie?t.addCallback("resize",(function(){e.resize()}),{name:this.name}):this.addViewportCallback("",(function(){e.resize()}),{timeout:this.prop.resizeTimeout}),this.resize()}},{key:"_onPropMutate",value:function(){hi(yi(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"resize",value:function(){this._xBar.resize(),this._yBar.resize()}},{key:"_destroy",value:function(){if(hi(yi(i.prototype),"_destroy",this).call(this),this._xBar.destroy(),this._yBar.destroy(),this._scrollWrapper&&this.container instanceof Element){var e=this._scrollWrapper.parentElement;e&&e.insertBefore(this.container,this._scrollWrapper),this._scrollWrapper.remove()}this.scrollableElement.classList.remove("".concat(this.prefix,"-parent"))}}])&&ai(t.prototype,r),n&&ai(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function _i(e){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}function gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(r),!0).forEach((function(t){Ri(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pi(e,t){return Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pi(e,t)}function ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xi(e);if(t){var o=xi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ji(this,r)}}function ji(e,t){if(t&&("object"===_i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ei(e)}function Ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(){return Si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ti(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Si.apply(this,arguments)}function Ti(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xi(e)););return e}function xi(e){return xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xi(e)}function Ri(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pi(e,t)}(i,e);var t,r,n,o=ki(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return wi(this,i),Ri(Ei(t=o.call(this,e,!1)),"_scrollContainer",void 0),"string"==typeof t.prop.container?t._scrollContainer=_(t.prop.container):t._scrollContainer=t.prop.container,r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return mi(mi({},Si(xi(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window})}},{key:"scrollContainer",get:function(){return this._scrollContainer}},{key:"scrollableElement",get:function(){return this._scrollContainer instanceof Window?this._app.html:this._scrollContainer}},{key:"domParent",get:function(){var e=this.scrollContainer;return e instanceof Window?this._app.body:e instanceof Element?e:e.outer}},{key:"intersectionRoot",get:function(){var e=this.scrollContainer;return e instanceof Window?null:e instanceof Element?e:e.outer}},{key:"scrollContainerBounding",get:function(){if(this.intersectionRoot){var e=this.intersectionRoot.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:0,left:0,width:this._app.viewport.width,height:this._app.viewport.height}}}])&&Oi(t.prototype,r),n&&Oi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function Li(e){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(e)}function Di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(r),!0).forEach((function(t){Ui(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Di(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wi(e){return function(e){if(Array.isArray(e))return Ii(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ii(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ii(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zi(e,t){return zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zi(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qi(e);if(t){var o=Qi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hi(this,r)}}function Hi(e,t){if(t&&("object"===Li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ni(e)}function Ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vi(){return Vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Xi(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Vi.apply(this,arguments)}function Xi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qi(e)););return e}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}function Ui(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zi(e,t)}(i,e);var t,r,n,o=Fi(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Bi(this,i),Ui(Ni(t=o.call(this,e,!1)),"_scrollEvent",void 0),Ui(Ni(t),"_intersectionObserverIn",void 0),Ui(Ni(t),"_intersectionObserverOut",void 0),Ui(Ni(t),"_firstStart",void 0),Ui(Ni(t),"_elements",void 0),t._scrollEvent=void 0,t._intersectionObserverIn=void 0,t._intersectionObserverOut=void 0,t._firstStart=!0,t._elements=Wi(t.prop.elements),r&&t.init(),t}return t=i,r=[{key:"prefix",get:function(){return"".concat(this._app.prefix,"scroll-view")}},{key:"_getDefaultProp",value:function(){return Mi(Mi({},Vi(Qi(i.prototype),"_getDefaultProp",this).call(this)),{},{enabled:!0,container:window,elements:[],threshold:.9,states:"in",classToToggle:"viewed",useDelay:!1,useIntersectionObserver:!0,viewportTarget:"",resizeTimeout:0})}},{key:"elements",get:function(){return this._elements}},{key:"init",value:function(){Vi(Qi(i.prototype),"init",this).call(this)}},{key:"_setEvents",value:function(){var e=this;Vi(Qi(i.prototype),"_setEvents",this).call(this),this.resize(),this.addViewportCallback(this.prop.viewportTarget,(function(){e.resize()}),{timeout:this.prop.resizeTimeout})}},{key:"_onPropMutate",value:function(){Vi(Qi(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"resize",value:function(){this._removeViewEvents(),this.prop.enabled&&(this._setViewEvents(),this.seekBounding())}},{key:"_setViewEvents",value:function(){var e=this;if(ze()&&this.prop.useIntersectionObserver){var t=this.scrollContainerBounding,r=this._firstStart?0:t.width*(1-this.prop.threshold)*-1,n=this._firstStart?0:t.height*(1-this.prop.threshold)*-1;this._intersectionObserverIn=new IntersectionObserver(this._handleIntersectionObserverIn.bind(this),{root:this.intersectionRoot,threshold:0,rootMargin:"0px ".concat(r,"px ").concat(n,"px 0px")}),this.elements.forEach((function(t){var r;null===(r=e._intersectionObserverIn)||void 0===r||r.observe(t)})),"inout"===this.prop.states&&(this._intersectionObserverOut=new IntersectionObserver(this._handleIntersectionObserverOut.bind(this),{root:this.intersectionRoot,threshold:0,rootMargin:"0px 0px 0px 0px"}),this.elements.forEach((function(t){var r;null===(r=e._intersectionObserverOut)||void 0===r||r.observe(t)})))}else this._scrollEvent=Ae({container:this.prop.container,callback:this._handleScroll.bind(this)})}},{key:"_removeViewEvents",value:function(){var e,t;this._scrollEvent&&(this._scrollEvent.remove(),this._scrollEvent=void 0),null===(e=this._intersectionObserverIn)||void 0===e||e.disconnect(),this._intersectionObserverIn=void 0,null===(t=this._intersectionObserverOut)||void 0===t||t.disconnect(),this._intersectionObserverOut=void 0}},{key:"_handleIntersectionObserverIn",value:function(e){for(var t=!!this._firstStart&&this.scrollContainerBounding,r=0;r<e.length;r+=1){var n=e[r],o=0;this._firstStart&&t&&n.isIntersecting&&(o=this._elementInViewportData(n.target,t).delay),n.isIntersecting&&this._handleInOut(n.target,n.isIntersecting,o)}this._processUnusedElements(),this._firstStart&&(this._firstStart=!1,this.resize())}},{key:"_handleIntersectionObserverOut",value:function(e){for(var t=0;t<e.length;t+=1){var r=e[t];r.isIntersecting||this._handleInOut(r.target,r.isIntersecting,0)}}},{key:"_handleScroll",value:function(){this.seekBounding()}},{key:"seekBounding",value:function(){if(!ze()||!this.prop.useIntersectionObserver){for(var e=this.scrollContainerBounding,t=0;t<this.elements.length;t+=1){var r=this.elements[t],n=this._elementInViewportData(r,e),o=n.isIntersecting?n.delay:0;"boolean"==typeof n.isIntersecting&&this._handleInOut(r,n.isIntersecting,o)}this._processUnusedElements(),this._firstStart&&(this._firstStart=!1)}}},{key:"_elementInViewportData",value:function(e,t){var r,n=this.prop,o=n.threshold,i=n.states,s=n.useDelay,c=this._firstStart?1:o,a=e.getBoundingClientRect();a.top<t.top+t.height*c&&a.left<t.left+t.width*c?r="in"===i||!(a.right<t.left*c||a.bottom<t.top*c):(a.top>t.top+t.height||a.left>t.left+t.width)&&(r=!1);var u=0;return s&&this._firstStart&&(u=re("x"===s.dir?(a.left-t.left)/t.width:(a.top-t.top)/t.height,[0,1])*s.max),{isIntersecting:r,delay:u}}},{key:"_handleInOut",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.prop.states;e.scrollViewIn&&t||!e.scrollViewIn&&!t||(e.scrollViewIn=t,this.prop.classToToggle&&h((function(){e.classList.toggle(r.prop.classToToggle,t)}),n),!t||"in"!==o&&"inout"!==o?t||"inout"!==o||h((function(){r.callbacks.tbt("out",e)}),n):h((function(){r.callbacks.tbt("in",e)}),n))}},{key:"_processUnusedElements",value:function(){var e=this;"in"===this.prop.states&&(this._elements.filter((function(e){return e.scrollViewIn})).forEach((function(t){var r,n;null===(r=e._intersectionObserverIn)||void 0===r||r.unobserve(t),null===(n=e._intersectionObserverOut)||void 0===n||n.unobserve(t)})),this._elements=this._elements.filter((function(e){return!e.scrollViewIn})))}},{key:"addElement",value:function(e){var t,r,n=this;return e.scrollViewIn=void 0,this._elements.push(e),null===(t=this._intersectionObserverIn)||void 0===t||t.observe(e),null===(r=this._intersectionObserverOut)||void 0===r||r.observe(e),this.prop.enabled&&this.seekBounding(),{remove:function(){n.removeElement(e)}}}},{key:"removeElement",value:function(e){var t,r;e.scrollViewIn=void 0,this._elements=this._elements.filter((function(t){return t!==e})),null===(t=this._intersectionObserverIn)||void 0===t||t.unobserve(e),null===(r=this._intersectionObserverOut)||void 0===r||r.unobserve(e)}},{key:"removeElements",value:function(){var e=this;this._elements.forEach((function(t){e.removeElement(t)})),this._elements=[]}},{key:"_destroy",value:function(){Vi(Qi(i.prototype),"_destroy",this).call(this),this._removeViewEvents()}}],r&&Ai(t.prototype,r),n&&Ai(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ci);function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ki(){return Ki="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Gi(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ki.apply(this,arguments)}function Gi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rs(e)););return e}function Zi(e,t){return Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zi(e,t)}function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rs(e);if(t){var o=rs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ts(this,r)}}function ts(e,t){if(t&&("object"===Yi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(e)}var ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zi(e,t)}(i,e);var t,r,n,o=es(i);function i(){return qi(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"_setEvents",value:function(){var e=this;Ki(rs(i.prototype),"_setEvents",this).call(this),this.addEventListeners(window,"keydown",(function(t){e._handleKeydown(t)}))}},{key:"_handleKeydown",value:function(e){var t=this._component;if(t.prop.enabled)if(9!==e.keyCode){var r=document.activeElement;if(!r||!(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)){var n=this._app.viewport,o=t.outer.getBoundingClientRect();if(o.left<n.width&&o.right>0&&o.top<n.height&&o.bottom>0){var i=40;switch(e.keyCode){case 38:t.targetTop-=i;break;case 40:t.targetTop+=i;break;case 39:t.targetLeft+=i;break;case 37:t.targetLeft-=i;break;case 34:t.targetTop+=400;break;case 33:t.targetTop-=400;break;case 36:t.targetTop=0,t.targetLeft=0;break;case 35:t.targetTop=t.scrollHeight,t.targetLeft=t.scrollWidth;break;case 32:t.targetTop+=200}}}}else this._handleTab()}},{key:"_handleTab",value:function(){var e=this;h((function(){var t=e._component,r=document.activeElement;if(r instanceof HTMLElement&&d(r,t.outer)){var n=t.outer.getBoundingClientRect(),o=r.getBoundingClientRect(),i=t.scrollTop+(o.top-n.top)-(t.clientHeight/2-o.height/2),s=t.scrollLeft+(o.left-n.left)-(t.clientWidth/2-o.width/2);t.targetTop=i,t.targetLeft=s}}),120)}}])&&Ji(t.prototype,r),n&&Ji(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ar);function os(e){return os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(e)}function is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?is(Object(r),!0).forEach((function(t){ys(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):is(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function as(e,t){return as=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},as(e,t)}function us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ds(e);if(t){var o=ds(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ls(this,r)}}function ls(e,t){if(t&&("object"===os(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fs(e)}function fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(){return ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=hs(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ps.apply(this,arguments)}function hs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ds(e)););return e}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ds(e)}function ys(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vs="is-dragging",bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&as(e,t)}(i,e);var t,r,n,o=us(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ys(fs(t=o.call(this,e)),"_dragger",void 0),ys(fs(t),"_componentEvents",void 0),ys(fs(t),"_currentLerp",void 0),t._dragger=void 0,t._componentEvents=[],t._currentLerp=!1,t}return t=i,r=[{key:"_getDefaultProp",value:function(){return ss(ss({},ps(ds(i.prototype),"_getDefaultProp",this).call(this)),{},{enabled:!0,speed:1,lerp:!1,reverseDir:!1,stopPropagation:!1})}},{key:"isDragging",get:function(){return!!this._dragger&&this._dragger.isDragging}},{key:"_constructor",value:function(){ps(ds(i.prototype),"_constructor",this).call(this),this._toggleDragger()}},{key:"_onPropMutate",value:function(){ps(ds(i.prototype),"_onPropMutate",this).call(this),this._toggleDragger()}},{key:"_toggleDragger",value:function(){this.prop.enabled?this._addDragger():this._removeDragger()}},{key:"_addDragger",value:function(){var e=this;if(!this._dragger){var t=this.component;this._dragger=new fo({container:t.outer}),this._dragger.addCallback("start",this._handleDragStart.bind(this)),this._dragger.addCallback("move",(function(t){e._handleDragMove(t)})),this._dragger.addCallback("end",this._handleDragEnd.bind(this)),this._componentEvents.push(t.addCallback("wheel",(function(){var t;null===(t=e._dragger)||void 0===t||t.cancel()})))}}},{key:"_removeDragger",value:function(){this._dragger&&(this._dragger.destroy(),this._dragger=void 0,this._componentEvents.forEach((function(e){e.remove()})),this._componentEvents=[])}},{key:"_handleDragStart",value:function(){var e=this.component;if(e.prop.enabled&&!(e.maxScrollableWidth<=0&&e.maxScrollableHeight<=0)){var t=this.prop.lerp;"boolean"!=typeof t&&(this._currentLerp=e.prop.render.lerp,e.changeProp({render:{lerp:t}})),this._callbacks.tbt("start",!1)}}},{key:"_handleDragMove",value:function(e){var t=this.component;if(t.prop.enabled&&!(t.maxScrollableWidth<=0&&t.maxScrollableHeight<=0)){var r=e.evt,n=this.prop.stopPropagation;if(n){if(!r.cancelable)return;var o=Math.abs(e.coords.x-e.start.x),i=Math.abs(e.coords.y-e.start.y);(o>n.threshold&&"x"===n.dir||i>n.threshold&&"y"===n.dir)&&r.cancelable&&(r.preventDefault(),r.stopPropagation())}var s=this.prop,c=s.speed,a=s.reverseDir,u=e.step.x*c,l=e.step.y*c;t.targetLeft-=a?l:u,t.targetTop-=a?u:l,t.outer.classList.add(vs),t.container.classList.add(vs),this._callbacks.tbt("move",!1)}}},{key:"_handleDragEnd",value:function(){var e=this.component;e.outer.classList.remove(vs),e.container.classList.remove(vs),"boolean"!=typeof this._currentLerp&&(e.changeProp({render:{lerp:this._currentLerp}}),this._currentLerp=!1),this._callbacks.tbt("end",!1)}},{key:"_destroy",value:function(){ps(ds(i.prototype),"_destroy",this).call(this),this._removeDragger()}}],r&&cs(t.prototype,r),n&&cs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ar);function _s(e){return _s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(e)}function gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gs(Object(r),!0).forEach((function(t){Rs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Os(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ps(e,t){return Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ps(e,t)}function ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xs(e);if(t){var o=xs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return js(this,r)}}function js(e,t){if(t&&("object"===_s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Es(e)}function Es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ss(){return Ss="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ts(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ss.apply(this,arguments)}function Ts(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xs(e)););return e}function xs(e){return xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xs(e)}function Rs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ps(e,t)}(i,e);var t,r,n,o=ks(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ws(this,i),Rs(Es(t=o.call(this,e,!1)),"_scrollContainer",void 0),Rs(Es(t),"_section",void 0),Rs(Es(t),"_scrollEvent",void 0),Rs(Es(t),"_loadedEvent",void 0),Rs(Es(t),"_scopeScroll",void 0),Rs(Es(t),"_scopeIn",void 0),Rs(Es(t),"_scopeMove",void 0),Rs(Es(t),"_scopeOut",void 0),Rs(Es(t),"_progress",void 0),"string"==typeof t.prop.container?t._scrollContainer=_(t.prop.container):t._scrollContainer=t.prop.container,"string"==typeof t.prop.section?t._section=_(t.prop.section):t._section=t.prop.section,t._progress=-.001,t._scopeScroll=[0,0],t._scopeIn=[0,0],t._scopeMove=[0,0],t._scopeOut=[0,0],r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return ms(ms({},Ss(xs(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window,viewportTarget:"",resizeTimeout:0})}},{key:"scrollContainer",get:function(){return this._scrollContainer}},{key:"section",get:function(){return this._section}},{key:"scopeScroll",get:function(){return this._scopeScroll}},{key:"scopeIn",get:function(){return this._scopeIn}},{key:"scopeMove",get:function(){return this._scopeMove}},{key:"scopeOut",get:function(){return this._scopeOut}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e}},{key:"init",value:function(){Ss(xs(i.prototype),"init",this).call(this)}},{key:"_setEvents",value:function(){var e=this;Ss(xs(i.prototype),"_setEvents",this).call(this),this.addViewportCallback(this.prop.viewportTarget,(function(){e.resize()}),{timeout:this.prop.resizeTimeout}),this._loadedEvent=this._app.onPageLoaded(),this._loadedEvent.then((function(){e.resize()})).catch((function(){})),this._scrollEvent=Ae({container:this.prop.container,callback:this._handleScroll.bind(this)})}},{key:"_onPropMutate",value:function(){Ss(xs(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"progressIn",get:function(){return ce(this.progress,this.scopeIn)||0}},{key:"progressOut",get:function(){return ce(this.progress,this.scopeOut)||0}},{key:"progressMove",get:function(){return ce(this.progress,this.scopeMove)||0}},{key:"_handleScroll",value:function(){var e=Fe(this.scrollContainer);e&&this._render(e)}},{key:"resize",value:function(){var e=Fe(this.scrollContainer);if(e){var t=this.section.getBoundingClientRect(),r=this._app.viewport.height,n=e.scrollTop+t.top-r,o=e.scrollTop+t.top+t.height,i=o-n;this._scopeScroll=[n,o],this._scopeIn=[0,r/i],this._scopeOut=[1-r/i,1],this._scopeMove=[this._scopeIn[1],this._scopeOut[0]],this.callbacks.tbt("resize",!1),this._render(e,!0)}}},{key:"_render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._canRender(e,t);r&&this.callbacks.tbt("render",!1)}},{key:"_canRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;var r=e.scrollTop,n=this.progress,o=ce(r,[this._scopeScroll[0],this._scopeScroll[1]])||0;return this.progress=o,t||o!==n}},{key:"_destroy",value:function(){var e,t;Ss(xs(i.prototype),"_destroy",this).call(this),null===(e=this._scrollEvent)||void 0===e||e.remove(),null===(t=this._loadedEvent)||void 0===t||t.cancel()}}],r&&Os(t.prototype,r),n&&Os(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Ds(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(r),!0).forEach((function(t){Xs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ds(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Is(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bs(e,t){return Bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bs(e,t)}function As(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Vs(e);if(t){var o=Vs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zs(this,r)}}function zs(e,t){if(t&&("object"===Ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fs(e)}function Fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hs(){return Hs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ns(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Hs.apply(this,arguments)}function Ns(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vs(e)););return e}function Vs(e){return Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vs(e)}function Xs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bs(e,t)}(i,e);var t,r,n,o=As(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ws(this,i),Xs(Fs(t=o.call(this,e,!1)),"_initText",void 0),Xs(Fs(t),"_initHTML",void 0),Xs(Fs(t),"_isPrimarySplit",void 0),Xs(Fs(t),"_container",void 0),Xs(Fs(t),"_letters",void 0),Xs(Fs(t),"_words",void 0),Xs(Fs(t),"_lines",void 0),t.prop.container){var n=_(t.prop.container);n instanceof HTMLElement&&(t._container=n)}t._container.translate=!1,t._container&&t._container.classList.add(t.prefix),t._initHTML=t._container.innerHTML;var s=t._container[t.prop.textSource].trim();return t._initText=s||"no rendered text",t._initText=t._initText.replace(/\s+\n/gm,"\n"),t._initText=t._initText.replace(/<br>/gm,String.fromCharCode(10)),t._initText=t._initText.replace(/<br\/>/gm,String.fromCharCode(10)),t._initText=t._initText.replace(/<br \/>/gm,String.fromCharCode(10)),t._container.ariaLabel=t._initText,t._isPrimarySplit=!1,t._letters=[],t._words=[],t._lines=[],r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Ms(Ms({},Hs(Vs(i.prototype),"_getDefaultProp",this).call(this)),{},{container:"#".concat(this.prefix),textSource:"innerText",appendLetters:!0,appendLines:!1,viewportTarget:"",resizeTimeout:0})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"split-text")}},{key:"container",get:function(){return this._container}},{key:"letters",get:function(){return this._letters}},{key:"words",get:function(){return this._words}},{key:"lines",get:function(){return this._lines}},{key:"_setEvents",value:function(){var e=this;Hs(Vs(i.prototype),"_setEvents",this).call(this),this.splitText(),this.prop.appendLines&&this.addViewportCallback(this.prop.viewportTarget,(function(){e.splitText()}),{timeout:this.prop.resizeTimeout})}},{key:"splitText",value:function(){this._isPrimarySplit||(this.container.innerHTML="",this._splitIntoWords(),this._splitIntoLetters(),this._appendWords(),this._isPrimarySplit=!0),this.prop.appendLines&&this._splitIntoLines(),this.callbacks.tbt("split",!1)}},{key:"_splitIntoWords",value:function(){var e,t=this,r=this._initText.split(""),n=0;r.forEach((function(e){var r=t._words[n]||{content:"",hasNewLine:!1,el:w("span",{class:"".concat(t.prefix,"__word"),attr:[["aria-hidden","true"]]}),letters:[]};r.el.style.display="inline-block",t._words[n]=r;var o=e.charCodeAt(0),i=32===o||160===o,s=[45,8208,8211,8212,8722].includes(o),c=10===o;i&&(r.whitespace=document.createTextNode(" ")),c&&(r.br=w("br")),r.hasNewLine=c,i||c?n+=1:(r.content+=e,t.prop.appendLetters||(r.el.innerHTML=r.content),s&&(n+=1))})),this._words=this._words.filter((function(e,r){return 0!==e.content.length||(r>0&&(t._words[r-1].whitespace=e.whitespace,t._words[r-1].br=e.br),!1)})),this._words.forEach((function(t){e&&e.whitespace&&t.el.classList.add("pre-whitespace"),t.whitespace&&t.el.classList.add("has-whitespace"),e=t}))}},{key:"_appendWords",value:function(){var e=this;this._words.forEach((function(t){e.container.appendChild(t.el),t.whitespace&&e.container.appendChild(t.whitespace),t.br&&e.container.appendChild(t.br)}))}},{key:"_removeWords",value:function(){this._words.forEach((function(e){e.el.remove(),e.whitespace&&e.whitespace.remove(),e.br&&e.br.remove()}))}},{key:"_splitIntoLetters",value:function(){var e=this;this.prop.appendLetters&&(this._words.forEach((function(t){var r=t.content.split(""),n=[];r.forEach((function(r){var o={el:w("span",{class:"".concat(e.prefix,"__letter"),html:r,attr:[["aria-hidden","true"]]}),content:r,word:t};o.el.style.display="inline-block",e._letters.push(o),n.push(o)})),t.letters=n})),this._letters.forEach((function(e){e.word.el.appendChild(e.el)})))}},{key:"_splitIntoLines",value:function(){var e=this;this._removeLines();var t=!1,r=1/0,n=!1;this.words.forEach((function(o){var i=!1,s=o.el.offsetTop;i=!(!n||!n.br)||s!==r,n=o,r=s,i&&((t={el:w("span",{class:"".concat(e.prefix,"__line"),attr:[["aria-hidden","true"]]}),content:"",words:[]}).el.style.display="block",e._lines.push(t)),t&&t.words.push(o)})),this._lines.forEach((function(e){e.content=e.words.map((function(e){return e.content})).join(" ")})),this._lines.forEach((function(t){t.words.forEach((function(e){t.el.appendChild(e.el),e.br&&e.br.remove(),e.whitespace&&t.el.appendChild(e.whitespace)})),e.container.appendChild(t.el)}))}},{key:"_removeLines",value:function(){this._lines.forEach((function(e){e.el.remove()})),this._lines=[],this._appendWords()}},{key:"_destroy",value:function(){Hs(Vs(i.prototype),"_destroy",this).call(this),this._lines=[],this._words=[],this._letters=[],this._container.innerHTML=this._initHTML}}])&&Is(t.prototype,r),n&&Is(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te);function Us(e){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}function $s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(r),!0).forEach((function(t){oc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Js(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ks(e,t){return Ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ks(e,t)}function Gs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nc(e);if(t){var o=nc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Zs(this,r)}}function Zs(e,t){if(t&&("object"===Us(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ec(e)}function ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tc(){return tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=rc(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},tc.apply(this,arguments)}function rc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nc(e)););return e}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nc(e)}function oc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ks(e,t)}(i,e);var t,r,n,o=Gs(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];qs(this,i),oc(ec(t=o.call(this,e,!1)),"_container",void 0),oc(ec(t),"_containerIsWindow",void 0),oc(ec(t),"_outerCursor",void 0),oc(ec(t),"_innerCursor",void 0),oc(ec(t),"_animationFrame",void 0),oc(ec(t),"_currentFPS",void 0),oc(ec(t),"_canPlay",void 0),oc(ec(t),"_x",void 0),oc(ec(t),"_xTarget",void 0),oc(ec(t),"_y",void 0),oc(ec(t),"_yTarget",void 0);var n=_(t.prop.container);if(!n)throw new Error("No cursor container for ".concat(t.prop.container));return t._container=n,t._containerIsWindow=n instanceof Window,t._x=0,t._xTarget=0,t._y=0,t._yTarget=0,t._currentFPS=60,t._canPlay=t.prop.run,r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Ys(Ys({},tc(nc(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window,run:!0,hideNativeCursor:!1,render:{lerp:.2,lerpToFixed:2,normalizeLerp:!1},autoStop:!0})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"custom-cursor")}},{key:"container",get:function(){return this._container}},{key:"eventsContainer",get:function(){return this._container}},{key:"domContainer",get:function(){return this.container instanceof Window?this._app.html:this.container}},{key:"outerCursor",get:function(){return this._outerCursor}},{key:"innerCursor",get:function(){return this._innerCursor}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"_constructor",value:function(){tc(nc(i.prototype),"_constructor",this).call(this),this._createCursor()}},{key:"_setEvents",value:function(){var e=this;tc(nc(i.prototype),"_setEvents",this).call(this);var t=this.domContainer;this._animationFrame=new Oe,this._animationFrame.addCallback("frame",(function(t){e._currentFPS=t.realFPS,e.render()})),this._canPlay&&this.enable(),this.addEventListeners(t,"mouseenter",this._handleMouseEnter.bind(this)),this.addEventListeners(t,"mouseleave",this._handleMouseLeave.bind(this)),this.addEventListeners(t,"mousemove",this._handleMouseMove.bind(this)),this.addEventListeners(t,"mousedown",this._handleMouseDown.bind(this)),this.addEventListeners(t,"mouseup",this._handleMouseUp.bind(this)),this.addEventListeners(window,"blur",this._handleWindowBlur.bind(this))}},{key:"_createCursor",value:function(){var e=this.prefix,t=this.container,r=this.domContainer;this.prop.hideNativeCursor&&(r.style.cursor="none",r.classList.add("hide-defaut-cursor")),r.classList.add("".concat(e,"-container")),this._outerCursor=w("div",{class:"".concat(e," ").concat(t instanceof Window?"in-window":"in-element"," disabled"),parent:r}),this._innerCursor=w("div",{class:"".concat(e,"__inner disabled"),parent:this._outerCursor}),this.callbacks.tbt("create",{outerCursor:this.outerCursor,innerCursor:this.innerCursor})}},{key:"_destroyCursor",value:function(){var e=this.prefix,t=this.domContainer;t.style.cursor="",t.classList.remove("hide-defaut-cursor"),t.classList.remove("".concat(e,"-container")),this._outerCursor.remove(),this._innerCursor.remove()}},{key:"_handleMouseEnter",value:function(e){this._xTarget=e.clientX,this._x=this._xTarget,this._yTarget=e.clientY,this._y=this._yTarget,this.outerCursor.classList.add("in-action")}},{key:"_handleMouseLeave",value:function(){this.outerCursor.classList.remove("in-action")}},{key:"_handleMouseMove",value:function(e){this._xTarget=e.clientX,this._yTarget=e.clientY,this.outerCursor.classList.add("in-action"),this._canPlay&&this._animationFrame.play()}},{key:"_handleMouseDown",value:function(e){1===e.which&&(this.outerCursor.classList.add("click"),this.innerCursor.classList.add("click"))}},{key:"_handleMouseUp",value:function(){this.outerCursor.classList.remove("click"),this.innerCursor.classList.remove("click")}},{key:"_handleWindowBlur",value:function(){this._handleMouseUp()}},{key:"render",value:function(){var e=this.prop,t=this.domContainer,r=e.render,n=r.normalizeLerp,o=r.lerp,i=r.lerpToFixed,s=n?60/this._currentFPS:1;if(this._x=ne(this._x,this._xTarget,o*s,.02),this._y=ne(this._y,this._yTarget,o*s,.02),"number"==typeof i){var c=Math.round(Math.abs(i));this._x=parseFloat(this._x.toFixed(c)),this._y=parseFloat(this._y.toFixed(c))}var a=this._x,u=this._y;if(!this._containerIsWindow){var l=t.getBoundingClientRect();a-=l.left,u-=l.top}this.outerCursor.style.transform="translate(".concat(a,"px, ").concat(u,"px)"),e.autoStop&&this._x===this._xTarget&&this._y===this._yTarget&&this._animationFrame.pause(),this._callbacks.tbt("render",{x:a,y:u})}},{key:"enable",value:function(){this._canPlay=!0,this._animationFrame.isPlaying||(this.outerCursor.classList.remove("disabled"),this.innerCursor.classList.remove("disabled"),this._animationFrame.play())}},{key:"disable",value:function(){this._canPlay=!1,this._animationFrame.isPlaying&&(this.outerCursor.classList.add("disabled"),this.innerCursor.classList.add("disabled"),this._animationFrame.pause())}},{key:"_destroy",value:function(){tc(nc(i.prototype),"_destroy",this).call(this),this._destroyCursor(),this._animationFrame.destroy()}}])&&Js(t.prototype,r),n&&Js(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(te),sc={common:n,listeners:i,math:o,scroll:s,image:c}},286:(e,t,r)=>{"use strict";function n(e,t){const[r,n,i,s]=t;if(r===n&&i===s)return e;const c=[];for(let a=0;a<11;++a)c[a]=o(.1*a,r,i);return 0===e?0:1===e?1:o(function(e,t,r){const n=e[0],i=e[2];let s=0,c=1;for(;10!==c&&r[c]<=t;++c)s+=.1;--c;const u=(t-r[c])/(r[c+1]-r[c]),l=s+.1*u,f=a(l,n,i);if(f>=.001)return function(e,t,r,n){for(let i=0;i<4;++i){const i=a(t,r,n);if(0===i)return t;t-=(o(t,r,n)-e)/i}return t}(t,l,n,i);if(0===f)return l;return function(e,t,r,n,i){let s,c,a=0;do{c=t+(r-t)/2,s=o(c,n,i)-e,s>0?r=c:t=c}while(Math.abs(s)>1e-7&&++a<10);return c}(t,s,s+.1,n,i)}(t,e,c),n,s)}function o(e,t,r){return((i(t,r)*e+s(t,r))*e+c(t))*e}function i(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function c(e){return 3*e}function a(e,t,r){return 3*i(t,r)*e*e+2*s(t,r)*e+c(t)}var u;function l(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375}function f(e,t){switch(t){case u.easeInSine:return r=e,1-Math.cos(r*Math.PI/2);case u.easeOutSine:return function(e){return Math.sin(e*Math.PI/2)}(e);case u.easeInOutSine:return function(e){return-(Math.cos(Math.PI*e)-1)/2}(e);case u.easeInQuad:return function(e){return Math.pow(e,2)}(e);case u.easeOutQuad:return function(e){return 1-Math.pow(1-e,2)}(e);case u.easeInOutQuad:return function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}(e);case u.easeInCubic:return function(e){return Math.pow(e,3)}(e);case u.easeOutCubic:return function(e){return 1-Math.pow(1-e,3)}(e);case u.easeInOutCubic:return function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}(e);case u.easeInQuart:return function(e){return Math.pow(e,4)}(e);case u.easeOutQuart:return function(e){return 1-Math.pow(1-e,4)}(e);case u.easeInOutQuart:return function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2}(e);case u.easeInQuint:return function(e){return Math.pow(e,5)}(e);case u.easeOutQuint:return function(e){return 1-Math.pow(1-e,5)}(e);case u.easeInOutQuint:return function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}(e);case u.easeInExpo:return function(e){return 0===e?0:Math.pow(2,10*e-10)}(e);case u.easeOutExpo:return function(e){return 1===e?1:1-Math.pow(2,-10*e)}(e);case u.easeInOutExpo:return function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}(e);case u.easeInCirc:return function(e){return 1-Math.sqrt(1-Math.pow(e,2))}(e);case u.easeOutCirc:return function(e){return Math.sqrt(1-Math.pow(e-1,2))}(e);case u.easeInOutCirc:return function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}(e);case u.easeInBack:return function(e){return 2.70158*e*e*e-1.70158*e*e}(e);case u.easeOutBack:return function(e){const t=1.70158;return 1+2.70158*Math.pow(e-1,3)+t*Math.pow(e-1,2)}(e);case u.easeInOutBack:return function(e){const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2}(e);case u.easeInElastic:return function(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)}(e);case u.easeOutElastic:return function(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}(e);case u.easeInOutElastic:return function(e){const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}(e);case u.easeInBounce:return function(e){return 1-l(1-e)}(e);case u.easeOutBounce:return l(e);case u.easeInOutBounce:return function(e){return e<.5?(1-l(1-2*e))/2:(1+l(2*e-1))/2}(e);default:return e}var r}function p(e,t=!1){return t?Array.isArray(t)?n(e,t):"function"==typeof t?t(e):f(e,t):e}r.d(t,{o:()=>u,Z:()=>p}),function(e){e.easeInSine="easeInSine",e.easeOutSine="easeOutSine",e.easeInOutSine="easeInOutSine",e.easeInQuad="easeInQuad",e.easeOutQuad="easeOutQuad",e.easeInOutQuad="easeInOutQuad",e.easeInCubic="easeInCubic",e.easeOutCubic="easeOutCubic",e.easeInOutCubic="easeInOutCubic",e.easeInQuart="easeInQuart",e.easeOutQuart="easeOutQuart",e.easeInOutQuart="easeInOutQuart",e.easeInQuint="easeInQuint",e.easeOutQuint="easeOutQuint",e.easeInOutQuint="easeInOutQuint",e.easeInExpo="easeInExpo",e.easeOutExpo="easeOutExpo",e.easeInOutExpo="easeInOutExpo",e.easeInCirc="easeInCirc",e.easeOutCirc="easeOutCirc",e.easeInOutCirc="easeInOutCirc",e.easeInBack="easeInBack",e.easeOutBack="easeOutBack",e.easeInOutBack="easeInOutBack",e.easeInElastic="easeInElastic",e.easeOutElastic="easeOutElastic",e.easeInOutElastic="easeInOutElastic",e.easeInBounce="easeInBounce",e.easeOutBounce="easeOutBounce",e.easeInOutBounce="easeInOutBounce"}(u||(u={}))},554:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Function]",c="[object Object]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[s]=l["[object Map]"]=l["[object Number]"]=l[c]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,p="object"==typeof self&&self&&self.Object===Object&&self,h=f||p||Function("return this")(),d=t&&!t.nodeType&&t,y=d&&e&&!e.nodeType&&e,v=y&&y.exports===d,b=v&&f.process,_=function(){try{var e=y&&y.require&&y.require("util").types;return e||b&&b.binding&&b.binding("util")}catch(t){}}(),g=_&&_.isTypedArray;function m(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var w,O,P,k=Array.prototype,j=Function.prototype,E=Object.prototype,S=h["__core-js_shared__"],T=j.toString,x=E.hasOwnProperty,R=(w=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",C=E.toString,L=T.call(Object),D=RegExp("^"+T.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=v?h.Buffer:void 0,W=h.Symbol,I=h.Uint8Array,B=M?M.allocUnsafe:void 0,A=(O=Object.getPrototypeOf,P=Object,function(e){return O(P(e))}),z=Object.create,F=E.propertyIsEnumerable,H=k.splice,N=W?W.toStringTag:void 0,V=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),X=M?M.isBuffer:void 0,Q=Math.max,U=Date.now,$=ye(h,"Map"),Y=ye(Object,"create"),q=function(){function e(){}return function(t){if(!Se(t))return{};if(z)return z(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function G(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=this.__data__=new K(e);this.size=t.size}function ee(e,t){var r=Oe(e),n=!r&&we(e),o=!r&&!n&&ke(e),i=!r&&!n&&!o&&xe(e),s=r||n||o||i,c=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],a=c.length;for(var u in e)!t&&!x.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ve(u,a))||c.push(u);return c}function te(e,t,r){(void 0!==r&&!me(e[t],r)||void 0===r&&!(t in e))&&oe(e,t,r)}function re(e,t,r){var n=e[t];x.call(e,t)&&me(n,r)&&(void 0!==r||t in e)||oe(e,t,r)}function ne(e,t){for(var r=e.length;r--;)if(me(e[r][0],t))return r;return-1}function oe(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}J.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(Y){var r=t[e];return r===n?void 0:r}return x.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:x.call(t,e)},J.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Y&&void 0===t?n:t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,r=ne(t,e);return!(r<0)&&(r==t.length-1?t.pop():H.call(t,r,1),--this.size,!0)},K.prototype.get=function(e){var t=this.__data__,r=ne(t,e);return r<0?void 0:t[r][1]},K.prototype.has=function(e){return ne(this.__data__,e)>-1},K.prototype.set=function(e,t){var r=this.__data__,n=ne(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},G.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new($||K),string:new J}},G.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},G.prototype.get=function(e){return de(this,e).get(e)},G.prototype.has=function(e){return de(this,e).has(e)},G.prototype.set=function(e,t){var r=de(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new K,this.size=0},Z.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Z.prototype.get=function(e){return this.__data__.get(e)},Z.prototype.has=function(e){return this.__data__.has(e)},Z.prototype.set=function(e,t){var r=this.__data__;if(r instanceof K){var n=r.__data__;if(!$||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new G(n)}return r.set(e,t),this.size=r.size,this};var ie,se=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),s=i.length;s--;){var c=i[ie?s:++n];if(!1===t(o[c],c,o))break}return e};function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":N&&N in Object(e)?function(e){var t=x.call(e,N),r=e[N];try{e[N]=void 0;var n=!0}catch(i){}var o=C.call(e);n&&(t?e[N]=r:delete e[N]);return o}(e):function(e){return C.call(e)}(e)}function ae(e){return Te(e)&&ce(e)==i}function ue(e){return!(!Se(e)||function(e){return!!R&&R in e}(e))&&(je(e)?D:a).test(function(e){if(null!=e){try{return T.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function le(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=be(e),r=[];for(var n in e)("constructor"!=n||!t&&x.call(e,n))&&r.push(n);return r}function fe(e,t,r,n,o){e!==t&&se(t,(function(i,s){if(o||(o=new Z),Se(i))!function(e,t,r,n,o,i,s){var a=_e(e,r),u=_e(t,r),l=s.get(u);if(l)return void te(e,r,l);var f=i?i(a,u,r+"",e,t,s):void 0,p=void 0===f;if(p){var h=Oe(u),d=!h&&ke(u),y=!h&&!d&&xe(u);f=u,h||d||y?Oe(a)?f=a:Te(m=a)&&Pe(m)?f=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(a):d?(p=!1,f=function(e,t){if(t)return e.slice();var r=e.length,n=B?B(r):new e.constructor(r);return e.copy(n),n}(u,!0)):y?(p=!1,v=u,b=!0?(_=v.buffer,g=new _.constructor(_.byteLength),new I(g).set(new I(_)),g):v.buffer,f=new v.constructor(b,v.byteOffset,v.length)):f=[]:function(e){if(!Te(e)||ce(e)!=c)return!1;var t=A(e);if(null===t)return!0;var r=x.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&T.call(r)==L}(u)||we(u)?(f=a,we(a)?f=function(e){return function(e,t,r,n){var o=!r;r||(r={});var i=-1,s=t.length;for(;++i<s;){var c=t[i],a=n?n(r[c],e[c],c,r,e):void 0;void 0===a&&(a=e[c]),o?oe(r,c,a):re(r,c,a)}return r}(e,Re(e))}(a):Se(a)&&!je(a)||(f=function(e){return"function"!=typeof e.constructor||be(e)?{}:q(A(e))}(u))):p=!1}var v,b,_,g;var m;p&&(s.set(u,f),o(f,u,n,i,s),s.delete(u));te(e,r,f)}(e,t,s,r,fe,n,o);else{var a=n?n(_e(e,s),i,s+"",e,t,o):void 0;void 0===a&&(a=i),te(e,s,a)}}),Re)}function pe(e,t){return ge(function(e,t,r){return t=Q(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Q(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=n[o];return c[t]=r(s),m(e,this,c)}}(e,t,De),e+"")}var he=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:De;function de(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ye(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(r)?r:void 0}function ve(e,t){var r=typeof e;return!!(t=null==t?o:t)&&("number"==r||"symbol"!=r&&u.test(e))&&e>-1&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}function _e(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ge=function(e){var t=0,r=0;return function(){var n=U(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(he);function me(e,t){return e===t||e!=e&&t!=t}var we=ae(function(){return arguments}())?ae:function(e){return Te(e)&&x.call(e,"callee")&&!F.call(e,"callee")},Oe=Array.isArray;function Pe(e){return null!=e&&Ee(e.length)&&!je(e)}var ke=X||function(){return!1};function je(e){if(!Se(e))return!1;var t=ce(e);return t==s||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){return null!=e&&"object"==typeof e}var xe=g?function(e){return function(t){return e(t)}}(g):function(e){return Te(e)&&Ee(e.length)&&!!l[ce(e)]};function Re(e){return Pe(e)?ee(e,!0):le(e)}var Ce,Le=(Ce=function(e,t,r,n){fe(e,t,r,n)},pe((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=Ce.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!Se(r))return!1;var n=typeof t;return!!("number"==n?Pe(r)&&ve(t,r.length):"string"==n&&t in r)&&me(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var s=t[r];s&&Ce(e,s,r,o)}return e})));function De(e){return e}e.exports=Le},473:()=>{},796:(e,t,r)=>{e.exports=r(643)},264:e=>{"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=r},518:e=>{var t,r,n,o,i,s,c,a,u,l,f,p,h,d,y,v=!1;function b(){if(!v){v=!0;var e=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),_=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(p=/\b(iPhone|iP[ao]d)/.exec(e),h=/\b(iP[ao]d)/.exec(e),l=/Android/i.exec(e),d=/FBAN\/\w+;/i.exec(e),y=/Mobile/i.exec(e),f=!!/Win64/.exec(e),b){(t=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN)&&document&&document.documentMode&&(t=document.documentMode);var g=/(?:Trident\/(\d+.\d+))/.exec(e);s=g?parseFloat(g[1])+4:t,r=b[2]?parseFloat(b[2]):NaN,n=b[3]?parseFloat(b[3]):NaN,(o=b[4]?parseFloat(b[4]):NaN)?(b=/(?:Chrome\/(\d+\.\d+))/.exec(e),i=b&&b[1]?parseFloat(b[1]):NaN):i=NaN}else t=r=n=i=o=NaN;if(_){if(_[1]){var m=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!m||parseFloat(m[1].replace("_","."))}else c=!1;a=!!_[2],u=!!_[3]}else c=a=u=!1}}var _={ie:function(){return b()||t},ieCompatibilityMode:function(){return b()||s>t},ie64:function(){return _.ie()&&f},firefox:function(){return b()||r},opera:function(){return b()||n},webkit:function(){return b()||o},safari:function(){return _.webkit()},chrome:function(){return b()||i},windows:function(){return b()||a},osx:function(){return b()||c},linux:function(){return b()||u},iphone:function(){return b()||p},mobile:function(){return b()||p||h||l||y},nativeApp:function(){return b()||d},android:function(){return b()||l},ipad:function(){return b()||h}};e.exports=_},534:(e,t,r)=>{"use strict";var n,o=r(264);o.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,i=r in document;if(!i){var s=document.createElement("div");s.setAttribute(r,"return;"),i="function"==typeof s[r]}return!i&&n&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},643:(e,t,r)=>{"use strict";var n=r(518),o=r(534);function i(e){var t=0,r=0,n=0,o=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=10*t,o=10*r,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||o)&&e.deltaMode&&(1==e.deltaMode?(n*=40,o*=40):(n*=800,o*=800)),n&&!t&&(t=n<1?-1:1),o&&!r&&(r=o<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:o}}i.getEventType=function(){return n.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=i},379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},s=[],c=0;c<e.length;c++){var a=e[c],u=n.base?a[0]+n.base:a[0],l=i[u]||0,f="".concat(u," ").concat(l);i[u]=l+1;var p=r(f),h={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var d=o(h,n);n.byIndex=c,t.splice(c,0,{identifier:f,updater:d,references:1})}s.push(f)}return s}function o(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var c=r(i[s]);t[c].references--}for(var a=n(e,o),u=0;u<i.length;u++){var l=r(i[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=a}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(n){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return r[e](i,i.exports,o),i.loaded=!0,i.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>"assets/js/"+e+".js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="vevet:",o.l=(r,n,i,s)=>{if(e[r])e[r].push(n);else{var c,a;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){c=f;break}}c||(a=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",t+i),c.src=r),e[r]=[n];var p=(t,n)=>{c.onerror=c.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),a&&document.head.appendChild(c)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{var e={826:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=i);var s=o.p+o.u(t),c=new Error;o.l(s,(r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,n[1](c)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[s,c,a]=r,u=0;if(s.some((t=>0!==e[t]))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(a)a(o)}for(t&&t(r);u<s.length;u++)i=s[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkvevet=self.webpackChunkvevet||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=o(379),t=o.n(e),r=o(795),n=o.n(r),i=o(569),s=o.n(i),c=o(565),a=o.n(c),u=o(216),l=o.n(u),f=o(589),p=o.n(f),h=o(473),d=o.n(h),y={};y.styleTagTransform=p(),y.setAttributes=a(),y.insert=s().bind(null,"head"),y.domAPI=n(),y.insertStyleElement=l();t()(d(),y);d()&&d().locals&&d().locals;var v=o(345);switch(window.Vevet=v,window.history.scrollRestoration="manual",document.documentElement.getAttribute("data-page-name")){case"app-events-page-load":o.e(286).then(o.bind(o,814));break;case"handlers-wheel":o.e(852).then(o.bind(o,852));break;case"components-page":o.e(754).then(o.bind(o,754));break;case"components-animation-frame":o.e(287).then(o.bind(o,287));break;case"components-ctx2d":o.e(50).then(o.bind(o,50));break;case"components-ctx2d-prerender":o.e(838).then(o.bind(o,838));break;case"components-smooth-scroll":o.e(758).then(o.bind(o,758));break;case"components-scroll-view":o.e(138).then(o.bind(o,138));break;case"components-timeline":o.e(556).then(o.bind(o,556));break;case"components-static-timeline":o.e(981).then(o.bind(o,981));break;case"components-nested-timeline":o.e(19).then(o.bind(o,19));break;case"components-preloader":o.e(861).then(o.bind(o,861));break;case"components-progress-preloader":o.e(786).then(o.bind(o,786));break;case"components-dragger":o.e(917).then(o.bind(o,917));break;case"components-dragger-direction":o.e(419).then(o.bind(o,419));break;case"components-scrollbar":o.e(230).then(o.bind(o,230));break;case"components-text-split":o.e(471).then(o.bind(o,471));break;case"components-cursor-CustomCursor":o.e(823).then(o.bind(o,823))}})()})();