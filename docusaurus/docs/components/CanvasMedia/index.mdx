# CanvasMedia

The **CanvasMedia** class enables pre-rendering of media assets (such as images and videos) onto a canvas. This technique optimizes performance by reducing payload size and preparing media for further efficient use.

## Example

Explore a live example in CodePen:

<iframe 
  height="500"
  style={{
    width: '100%'
  }} 
  scrolling="no" 
  title="Vevet Example"
  src="https://codepen.io/anton-bobrov/embed/vEEBroM?default-tab=result"
  frameborder="no"
  loading="lazy"
  allowtransparency="true"
  allowfullscreen="true"
>
  See the Pen <a href="https://codepen.io/anton-bobrov/pen/vEEBroM">Vevet Example</a> by Anton Bobrov.
</iframe>



## Props

:::note
All **[Canvas' props](/docs/components/Canvas/#props)** are available in this class.
:::

### Static Props

Static properties are set during initialization and cannot be modified later.

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Default Value</th>
  </tr>
  
  <tr>
    <td>media</td>
    <td>The media element to be rendered. Accepts a Canvas instance or common media elements like images and videos.</td>
    <td>
      - `Canvas`
      - `HTMLImageElement`
      - `SVGImageElement`
      - `HTMLVideoElement`
      - `HTMLCanvasElement`
    </td>
    <td></td>
  </tr>
  
  <tr>
    <td>autoRenderVideo</td>
    <td>If `true`, video elements will automatically render on each frame update.</td>
    <td><code>boolean</code></td>
    <td><code>true</code></td>
  </tr>
</table>

### Mutable Props

Mutable properties may be changed in runtime via [.updateProps](#updateprops)

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Default Value</th>
  </tr>
  
  <tr>
    <td>rule</td>
    <td>Defines how the media element is positioned within the canvas.</td>
    <td>
      - `cover`
      - `contain`
      - `top-left`
      - `top-right`
      - `bottom-left`
      - `bottom-right`
      - `center`
    </td>
    <td><code>'cover'</code></td>
  </tr>
</table>



## Accessors

:::note
All **[Canvas' accessors](/docs/components/Canvas/#accessors)** are available in this class.
:::



## Methods

:::note
All **[Canvas' methods](/docs/components/Canvas/#methods)** are available in this class.
:::

### render

Pre-renders the media resource onto the canvas.

```ts
instance.render();
```



## Callbacks

:::note
All **[Canvas' callbacks](/docs/components/Canvas/#callbacks)** are available in this class.
:::

### render

Fires after the media element has been rendered onto the canvas.

```ts
const destruct = instance.on('render', () => console.log('Canvas rendered'));

// Cancel the callback
destruct();
```

