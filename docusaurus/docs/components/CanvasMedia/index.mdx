# CanvasMedia

The **CanvasMedia** class enables pre-rendering of media assets (such as images and videos) onto a canvas. This technique optimizes performance by reducing payload size and preparing media for further efficient use.

## Example

Explore a live example in CodeSandbox:

<iframe 
  src="https://codesandbox.io/embed/k3w98w?view=preview"
  style={{
    width: "100%",
    height: "500px",
    border: "0",
    borderRadius: "4px",
    overflow: "hidden"
  }}
  title="CodeSandbox Embed"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
/>



## Props

:::note
All **[Canvas' props](/docs/components/Canvas/#props)** are available in this class.
:::

### Static Props

Static properties are set during initialization and cannot be modified later.

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Default Value</th>
  </tr>
  
  <tr>
    <td>media</td>
    <td>The media element to be rendered. Accepts a Canvas instance or common media elements like images and videos.</td>
    <td>
      - `Canvas`
      - `HTMLImageElement`
      - `SVGImageElement`
      - `HTMLVideoElement`
      - `HTMLCanvasElement`
    </td>
    <td></td>
  </tr>
  
  <tr>
    <td>autoRenderVideo</td>
    <td>If `true`, video elements will automatically render on each frame update.</td>
    <td><code>boolean</code></td>
    <td><code>true</code></td>
  </tr>
</table>

### Mutable Props

Mutable properties may be changed in runtime via [.updateProps](#updateprops)

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Default Value</th>
  </tr>
  
  <tr>
    <td>rule</td>
    <td>Defines how the media element is positioned within the canvas.</td>
    <td>
      - `cover`
      - `contain`
      - `top-left`
      - `top-right`
      - `bottom-left`
      - `bottom-right`
      - `center`
    </td>
    <td><code>'cover'</code></td>
  </tr>
</table>



## Accessors

:::note
All **[Canvas' accessors](/docs/components/Canvas/#accessors)** are available in this class.
:::



## Methods

:::note
All **[Canvas' methods](/docs/components/Canvas/#methods)** are available in this class.
:::

### render

Pre-renders the media resource onto the canvas.

```ts
instance.render();
```



## Callbacks

:::note
All **[Canvas' callbacks](/docs/components/Canvas/#callbacks)** are available in this class.
:::

### render

Fires after the media element has been rendered onto the canvas.

```ts
const destruct = instance.on('render', () => console.log('Canvas rendered'));

// Cancel the callback
destruct();
```

