# InView

InView is a visibility detection utility that leverages the `IntersectionObserver` API to monitor when elements enter or leave the viewport. It provides customizable options for triggering events, delaying visibility changes, and dynamically adding CSS classes to elements based on their visibility state.

## Example

Explore a live example in CodePen:

<iframe 
  height="600"
  style={{
    width: '100%'
  }} 
  scrolling="no" 
  title="Vevet Example"
  src="https://codepen.io/anton-bobrov/embed/EaaYRmX?default-tab=result"
  frameborder="no"
  loading="lazy"
  allowtransparency="true"
  allowfullscreen="true"
>
  See the Pen <a href="https://codepen.io/anton-bobrov/pen/EaaYRmX">Vevet Example</a> by Anton Bobrov.
</iframe>



## Props

### Static Props

Static properties are set during initialization and cannot be modified later.

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Default Value</th>
  </tr>
  
  <tr>
    <td>hasOut</td>
    <td>Determines whether elements leaving the viewport should trigger an event.</td>
    <td><code>boolean</code></td>
    <td><code>true</code></td>
  </tr>
  
  <tr>
    <td>maxInitialDelay</td>
    <td>Sets the maximum delay (in milliseconds) for initial element visibility. Delay is calculated based on element position.</td>
    <td><code>number</code></td>
    <td><code>1000</code></td>
  </tr>
  
  <tr>
    <td>scrollDirection</td>
    <td>Defines the primary scrolling axis used for delay calculations.</td>
    <td><code>'horizontal' | 'vertical'</code></td>
    <td><code>'vertical'</code></td>
  </tr>
</table>

### Mutable Props

Mutable properties can be updated at runtime using `.updateProps()`.

<table>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Type</th>
    <th>Default Value</th>
  </tr>
  
  <tr>
    <td>enabled</td>
    <td>Enables or disables the `IntersectionObserver` instance.</td>
    <td><code>boolean</code></td>
    <td><code>true</code></td>
  </tr>
  
  <tr>
    <td>rootMargin</td>
    <td>Specifies the root margin offsets for the `IntersectionObserver`, allowing fine-tuned visibility detection.</td>
    <td><code>string</code></td>
    <td><code>'0% 0% -5% 0%'</code></td>
  </tr>
</table>



## Accessors

:::note
All **[Module's accessors](/docs/base/Module/#accessors)** are available in this class.
:::

### elements

Type: `Element[]`

Returns all elements currently being observed.

### isInitialStart

Type: `boolean`

Indicates whether the observation has started for the first time.

## Methods

:::note
All **[Module's methods](/docs/base/Module/#methods)** are available in this class.
:::

### addElement

Registers an element for visibility observation. If the element has a `data-in-view-class` attribute, the specified class will be applied upon entering the viewport.

```ts
const observable = instance.addElement(document.getElementById('element'));

// Stop observing the element
observable();
```

### removeElement

Removes an element from observation, preventing further visibility tracking.

```ts
instance.removeElement(document.getElementById('element'));
```

### updateProps

Dynamically updates instance properties.

```ts
instance.updateProps({
  enabled: false,
});
```

### destroy

Destroys the instance and removes all observers.

```ts
instance.destroy();
```



## Callbacks

:::note
All **[Module's callbacks](/docs/base/Module/#callbacks)** are available in this class.
:::

### in

Fires when an element enters the viewport.

```ts
const destruct = instance.on('in', ({ element }) => console.log(element, 'entered viewport'));

// Cancel the callback
destruct();
```

### out

Fires when an element leaves the viewport.

```ts
const destruct = instance.on('out', ({ element }) => console.log(element, 'left viewport'));

// Cancel the callback
destruct();
```