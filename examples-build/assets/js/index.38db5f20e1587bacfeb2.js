/*! For license information please see index.38db5f20e1587bacfeb2.js.LICENSE.txt */
(()=>{var e,t,r={532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnimationFrame:()=>je,Application:()=>Rr,Callbacks:()=>D,Component:()=>re,Ctx2D:()=>Ho,Ctx2DPrerender:()=>ri,CustomCursor:()=>cc,Dragger:()=>no,DraggerDirection:()=>So,DraggerMove:()=>ho,GeneralTypes:()=>a,Module:()=>X,MutableProp:()=>B,Page:()=>xn,PageLoad:()=>kr,Plugin:()=>Fr,Preloader:()=>en,ProgressPreloader:()=>yn,ScrollBar:()=>gi,ScrollEventsBase:()=>Di,ScrollSectionProgress:()=>Ds,ScrollView:()=>qi,SmoothScroll:()=>ze,SmoothScrollDragPlugin:()=>gs,SmoothScrollKeyboardPlugin:()=>is,SplitText:()=>$s,StaticTimeline:()=>nt,Timeline:()=>bt,Viewport:()=>vr,WheelHandler:()=>Vn,utils:()=>ac});var n={};r.r(n),r.d(n,{id:()=>l,mergeWithoutArrays:()=>h,timeoutCallback:()=>d});var o={};r.r(o),r.d(o,{clamp:()=>ne,clampScope:()=>ae,easing:()=>fe,inScope:()=>ce,lerp:()=>oe,scoped:()=>ie,spreadScope:()=>se,wrap:()=>ue});var i={};r.r(i),r.d(i,{intersectionObserverSupported:()=>Ne,onScroll:()=>He});var s={};r.r(s),r.d(s,{getValues:()=>Ve,to:()=>_t,toElement:()=>gt});var c={};r.r(c),r.d(c,{load:()=>Et,pathsToProps:()=>Tt,sizesToSrcSet:()=>St});var a={};r.r(a);var u=0;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return u+=1,"".concat(e,"_").concat(u)}var f=r(554),p=r.n(f);function h(e,t){return p()(e,t,(function(e,t){if(Array.isArray(e))return t}))}function d(e,t){var r;return 0===t?e():r=setTimeout((function(){e()}),t),{clear:function(){r&&clearTimeout(r)}}}function y(e,t){return v(e,t)}function v(e,t){return e===t||null!==e&&v(e.parentNode,t)}function b(e){return e instanceof HTMLElement||e instanceof Element}function _(e){return e instanceof Window}function g(e,t){if(_(e))return e;if(b(e))return e;if(void 0!==t){const r=g(t);if(r)return r.querySelector(e)}return document.querySelector(e)}function m(e,t){if(e instanceof NodeList)return e;if(b(e))return[e];if(Array.isArray(e))return e;if(void 0!==t){const r=g(t);if(r)return r.querySelectorAll(e)}return document.querySelectorAll(e)}function w(e,t,r){const n=t.split(" ");for(let o=0;o<n.length;o++)void 0===r?e.classList.toggle(n[o]):r?e.classList.add(n[o]):e.classList.remove(n[o])}function O(e,t={}){const r=document.createElement(e);if(t.class&&function(e,t){if(e instanceof Element)w(e,t,!0);else for(let r=0;r<e.length;r++)w(e[r],t,!0)}(r,t.class),t.id&&r.setAttribute("id",t.id),t.attr)for(let n=0,o=t.attr.length;n<o;n++){const e=t.attr[n];r.setAttribute(e[0],e[1])}if(t.parent&&t.parent.appendChild(r),t.html&&(r.innerHTML=t.html),t.children)for(let n=0,o=t.children.length;n<o;n++)r.appendChild(t.children[n]);return r}const P=[];function k(e,t,r,n){if(void 0!==n){const o={passive:!1,once:!1};n.once&&(o.once=!0),n.passive&&(o.passive=!0),e.addEventListener(t,r,o)}else e.addEventListener(t,r);const o=`${Math.random()}-${+new Date}`;return P.push({id:o,el:e,target:t,callback:r}),{id:o,remove:j.bind(this,o)}}function j(e){const t=[];for(let r=0,n=P.length;r<n;r++){const n=P[r];n.id===e?n.el.removeEventListener(n.target,n.callback):t.push(n)}}var E=r(796),S=r.n(E);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];R(this,e),L(this,"_app",void 0),L(this,"_callbacks",void 0),this._app=window.vevetApp,this._callbacks=[],t&&this._init()}var t,r,n;return t=e,r=[{key:"callbacks",get:function(){return this._callbacks}},{key:"_init",value:function(){this._constructor(),this._setEvents()}},{key:"_constructor",value:function(){}},{key:"_setEvents",value:function(){}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=l("callback"),o={id:n,on:!0,data:x({target:e,do:t},r)};return this._callbacks.push(o),this._onAdd(n),{id:n,remove:this.remove.bind(this,n)}}},{key:"_onAdd",value:function(e){}},{key:"remove",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1,o=this._callbacks.filter((function(o){return o.id!==e||!(!o.data.protected||r)||(t._onRemove(e),n=!0,!1)}));return this._callbacks=o,n}},{key:"_onRemove",value:function(e){}},{key:"removeAll",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._callbacks.length>0;)this.remove(this._callbacks[0].id,e)}},{key:"turn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.get(e);return!!r&&(r.on=t,this._onTurn(e),!0)}},{key:"_onTurn",value:function(e){}},{key:"get",value:function(e){var t=this._callbacks.filter((function(t){return t.id===e}));return t.length>0&&t[0]}},{key:"_trigger",value:function(e,t){if(e.on){var r=e.data,n=r.timeout,o=r.once,i=e.data.do;n?d(t?this._triggerFunc.bind(this,i,t):this._triggerFunc.bind(this,i,!1),n):t?this._triggerFunc(i,t):this._triggerFunc(i,!1),o&&this.remove(e.id)}}},{key:"_triggerFunc",value:function(e,t){t?e(t):e()}},{key:"tbt",value:function(e,t){var r=this;this._callbacks.forEach((function(n){n.data.target===e&&r._trigger(n,t)}))}},{key:"destroy",value:function(){this.removeAll(!0)}}],r&&C(t.prototype,r),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Responsive Prop";M(this,e),I(this,"_initProp",void 0),I(this,"_onResponsive",void 0),I(this,"_onChange",void 0),I(this,"_name",void 0),I(this,"_app",void 0),I(this,"_refProp",void 0),I(this,"_prop",void 0),I(this,"_responsiveRules",[]),I(this,"_viewportCallback",void 0),this._initProp=t,this._onResponsive=r,this._onChange=n,this._name=o,this._app=window.vevetApp,this._refProp=h({},t),this._prop=h({},t)}var t,r,n;return t=e,r=[{key:"prop",get:function(){return this._prop}},{key:"addResponsiveProp",value:function(e){this._responsiveRules.push(e),void 0===this._viewportCallback&&(this._viewportCallback=this._app.viewport.add("w",this._responseProp.bind(this,!0),{name:this._name})),this._responseProp()}},{key:"_responseProp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._responsiveRules,r=this._app,n=r.viewport,o=n.width,i=!1,s=h({},this._refProp);t.forEach((function(e){var t=e.settings,c=e.breakpoint;if("number"==typeof c)o<=e.breakpoint&&(i=h(s,t));else if("string"==typeof c){var a=c.toLowerCase();("d"===a&&n.isDesktop||"t"===a&&n.isTablet||"p"===a&&n.isPhone)&&(i=h(s,t)),("phone"===a&&r.isPhone||"tablet"===a&&r.isTablet||"mobile"===a&&r.isMobile)&&(i=h(s,t))}})),this._prop=h(this._prop,i||this._refProp),e&&this._onResponsive()}},{key:"changeProp",value:function(e){this._prop=h(this._prop,e),this._refProp=h(this._refProp,e),this._onChange(e)}},{key:"destroy",value:function(){this._viewportCallback&&this._viewportCallback.remove()}}],r&&W(t.prototype,r),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(){throw new Error('Vevet.Application does not exist yet. \nCall "new Vevet.Application()" before using all the stuff')}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=function(){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H(this,e),V(this,"_mutableProp",void 0),V(this,"_callbacks",void 0),V(this,"_listeners",void 0),V(this,"_app",void 0),V(this,"_inited",!1),V(this,"_destroyed",void 0),V(this,"_viewportCallbacks",[]),window.vevetApp?this._app=window.vevetApp:A(),this._destroyed=!1,this._listeners=[],this._callbacks=new D;var n=h(this._getDefaultProp(),t||{});this._mutableProp=new B(n,this._onPropResponsive.bind(this),this._onPropChange.bind(this),this.name),r&&this.init()}var t,r,n;return t=e,r=[{key:"_getDefaultProp",value:function(){return{parent:!1}}},{key:"prop",get:function(){return this._mutableProp.prop}},{key:"callbacks",get:function(){return this._callbacks}},{key:"prefix",get:function(){return""}},{key:"name",get:function(){return this.constructor.name}},{key:"inited",get:function(){return this._inited}},{key:"destroyed",get:function(){return this._destroyed}},{key:"addResponsiveProp",value:function(e){if(this._inited)throw new Error("Responsive properties cannot be added because the class instance is already initialized");this._mutableProp.addResponsiveProp(e)}},{key:"changeProp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._mutableProp.changeProp(e),this._callbacks.tbt("changeProp",!1)}},{key:"_onPropResponsive",value:function(){this._onPropMutate()}},{key:"_onPropChange",value:function(e){this._onPropMutate()}},{key:"_onPropMutate",value:function(){}},{key:"init",value:function(){var e=this;this._inited||(this._inited=!0,this._constructor(),this._setEvents(),this.prop.parent&&this.prop.parent.addCallback("destroy",(function(){e.destroy()})))}},{key:"_constructor",value:function(){}},{key:"_setEvents",value:function(){}},{key:"addViewportCallback",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._app.viewport.add(e,t,F(F({},r),{},{name:this.constructor.name}));return this._viewportCallbacks.push(n),n}},{key:"addCallback",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.callbacks.add(e,t,r);return n}},{key:"addEventListeners",value:function(e,t,r,n){var o=k(e,t,r,n);return this._listeners.push(o),o}},{key:"destroy",value:function(){this.destroyed||this._destroy()}},{key:"_destroy",value:function(){this._callbacks.tbt("destroy",!1),this._callbacks.destroy(),this._mutableProp.destroy(),this._viewportCallbacks.forEach((function(e){e.remove()})),this._listeners.forEach((function(e){e.remove()})),this._destroyed=!0}}],r&&N(t.prototype,r),n&&N(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=q(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Y.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ee(e);if(t){var o=ee(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return G(this,r)}}function G(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(i,e);var t,r,n,o=K(i);function i(){var e;U(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return te(Z(e=o.call.apply(o,[this].concat(r))),"_plugins",void 0),e}return t=i,(r=[{key:"addPlugin",value:function(e){void 0===this._plugins&&(this._plugins=[]),this._plugins.push(e),e.inited||e.initPlugin(this)}},{key:"_destroyPlugins",value:function(){this._plugins&&this._plugins.forEach((function(e){e.destroy()}))}},{key:"_destroy",value:function(){Y(ee(i.prototype),"_destroy",this).call(this),this._destroyPlugins()}}])&&$(t.prototype,r),n&&$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(X);function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1];return e<t[0]?t[0]:e>t[1]?t[1]:e}function oe(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,o=e*(1-r)+t*r,i=Math.abs(t-o);return i<=n?t:o}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],r=(e-t[0])/(t[1]-t[0]);return r}function se(e,t){for(var r=[],n=1/(e-t*(e-1)),o=0;o<e;o+=1){var i=n*(1-t)*o,s=i+n;r.push([i,s])}return r}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1];return e>=t[0]&&e<=t[1]}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return ne(ie(e,t),r)}function ue(e,t,r){var n=t-e;return function(e,t){return e||0===e?t(e):t}(r,(function(t){return(n+(t-e)%n)%n+e}))}var le=r(286);const fe=le.Z;function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function be(){return be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_e(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},be.apply(this,arguments)}function _e(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pe(e)););return e}function ge(e,t){return ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ge(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pe(e);if(t){var o=Pe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return we(this,r)}}function we(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(i,e);var t,r,n,o=me(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ye(this,i),ke(Oe(t=o.call(this,e,!1)),"_isPlaying",void 0),ke(Oe(t),"_frame",void 0),ke(Oe(t),"_frameIndex",void 0),ke(Oe(t),"_timeStamp",void 0),ke(Oe(t),"_prevFrameTime",void 0),t._isPlaying=!1,t._frame=null,t._frameIndex=-1,t._timeStamp=null,t._prevFrameTime=null,r&&t.init(),t}return t=i,(r=[{key:"isPlaying",get:function(){return this._isPlaying}},{key:"_getDefaultProp",value:function(){return de(de({},be(Pe(i.prototype),"_getDefaultProp",this).call(this)),{},{fps:140,run:!1})}},{key:"_constructor",value:function(){be(Pe(i.prototype),"_constructor",this).call(this),this._create()}},{key:"_create",value:function(){this.prop.run&&this.play()}},{key:"_onPropMutate",value:function(){this._frameIndex=-1,this._timeStamp=null,this._prevFrameTime=null,this.prop.run?this._play():this._pause()}},{key:"play",value:function(){this.destroyed||this.prop.run||this.changeProp({run:!0})}},{key:"_play",value:function(){this.isPlaying||(this._isPlaying=!0,this._frame=window.requestAnimationFrame(this._animate.bind(this)))}},{key:"pause",value:function(){this.prop.run&&this.changeProp({run:!1})}},{key:"_pause",value:function(){this.isPlaying&&(this._frame&&(window.cancelAnimationFrame(this._frame),this._frame=null),this._isPlaying=!1)}},{key:"_animate",value:function(e){if(this._isPlaying){this._frame=window.requestAnimationFrame(this._animate.bind(this));var t=+new Date;null==this._timeStamp&&(this._timeStamp=e),null==this._prevFrameTime&&(this._prevFrameTime=t);var r=Math.floor((e-this._timeStamp)/(1e3/this.prop.fps));if(!(r<=this._frameIndex)){this._frameIndex=r;var n=t-this._prevFrameTime,o=ne(0===n?1e3/60:Math.floor(1e3/n),[1,1/0]);this.callbacks.tbt("frame",{fps:this.prop.fps,realFPS:o,prevFrameDuration:t-this._prevFrameTime}),this._prevFrameTime=+new Date}}}},{key:"_destroy",value:function(){this.pause(),be(Pe(i.prototype),"_destroy",this).call(this)}}])&&ve(t.prototype,r),n&&ve(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(){return Ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Le(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ce.apply(this,arguments)}function Le(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Be(e)););return e}function De(e,t){return De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},De(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Be(e);if(t){var o=Be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return We(this,r)}}function We(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(i,e);var t,r,n,o=Me(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];xe(this,i),Ae(Ie(t=o.call(this,e,!1)),"_outer",void 0),Ae(Ie(t),"_container",void 0),Ae(Ie(t),"_containerExists",void 0),Ae(Ie(t),"_elements",void 0),Ae(Ie(t),"_elementsLength",void 0),Ae(Ie(t),"_targetLeft",void 0),Ae(Ie(t),"_targetTop",void 0),Ae(Ie(t),"_scrollLeft",void 0),Ae(Ie(t),"_scrollTop",void 0),Ae(Ie(t),"_scrollWidth",void 0),Ae(Ie(t),"_scrollHeight",void 0),Ae(Ie(t),"_clientWidth",void 0),Ae(Ie(t),"_clientHeight",void 0),Ae(Ie(t),"_instant",void 0),Ae(Ie(t),"_animationFrame",void 0),Ae(Ie(t),"_outerAnimationFrameEvent",void 0),Ae(Ie(t),"_currentFPS",void 0);var n=t.prop.selectors;if(t._targetLeft=0,t._targetTop=0,t._scrollLeft=0,t._scrollTop=0,t._scrollWidth=0,t._scrollHeight=0,t._clientWidth=0,t._clientHeight=0,t._instant=!1,t._animationFrame=void 0,t._outerAnimationFrameEvent=void 0,t._currentFPS=60,t._outer=g(n.outer),!(t._outer instanceof HTMLElement))throw new Error("".concat(n.outer," is not a HTMLElement"));t._outer.classList.add(t.prefix);var s=g(".".concat(t.prefix,"__container"),t.outer);return b(s)?(t._container=s,t._containerExists=!0):(t._container=O("div",{class:"".concat(t.prefix,"__container"),parent:t.outer,children:Array.from(t.outer.children)}),t._containerExists=!1),n.elements?t._elements=Array.from(m(n.elements,t._outer)):t._elements=[t._container],t._elementsLength=t._elements.length,t.prop.useWillChange&&t._elements.forEach((function(e){e.style.willChange="transform"})),r&&t.init(),t}return t=i,r=[{key:"prefix",get:function(){return"".concat(this._app.prefix,"smooth-scroll")}},{key:"outer",get:function(){return this._outer}},{key:"container",get:function(){return this._container}},{key:"elements",get:function(){return this._elements}},{key:"targetLeft",get:function(){return this._targetLeft},set:function(e){this.targetLeftBound=e,this._enable()}},{key:"targetLeftBound",get:function(){return this._targetLeft},set:function(e){var t=this.prop.overscroll&&this.prop.isHorizontal?-this.prop.overscroll.max:0,r=this.maxScrollableWidth+(this.prop.overscroll&&this.prop.isHorizontal?this.prop.overscroll.max:0);this._targetLeft=ne(e,[t,r])}},{key:"targetTop",get:function(){return this._targetTop},set:function(e){this.targetTopBound=e,this._enable()}},{key:"targetTopBound",get:function(){return this._targetTop},set:function(e){var t=this.prop.overscroll&&!this.prop.isHorizontal?-this.prop.overscroll.max:0,r=this.maxScrollableHeight+(this.prop.overscroll&&!this.prop.isHorizontal?this.prop.overscroll.max:0);this._targetTop=ne(e,[t,r])}},{key:"scrollLeft",get:function(){return this._scrollLeft},set:function(e){this.targetLeftBound=e,this._scrollLeft=this._targetLeft,this._enable()}},{key:"scrollTop",get:function(){return this._scrollTop},set:function(e){this.targetTopBound=e,this._scrollTop=this._targetTop,this._enable()}},{key:"scrollWidth",get:function(){return this._scrollWidth}},{key:"scrollHeight",get:function(){return this._scrollHeight}},{key:"clientWidth",get:function(){return this._clientWidth}},{key:"clientHeight",get:function(){return this._clientHeight}},{key:"maxScrollableWidth",get:function(){return this.scrollWidth-this.clientWidth}},{key:"maxScrollableHeight",get:function(){return this.scrollHeight-this.clientHeight}},{key:"_getDefaultProp",value:function(){return Te(Te({},Ce(Be(i.prototype),"_getDefaultProp",this).call(this)),{},{selectors:{outer:"#".concat(this.prefix),elements:!1},enabled:!0,animationFrame:!1,recalculateSizes:!0,resizeTimeout:0,useWheel:!0,autoStop:!0,isHorizontal:!1,stopPropagation:!0,useWillChange:!0,render:{lerp:.1,lerpToFixed:2,approximation:.1,normalizeLerp:!1},overscroll:{friction:.5,max:250}})}},{key:"_constructor",value:function(){Ce(Be(i.prototype),"_constructor",this).call(this),this._toggle()}},{key:"_setEvents",value:function(){var e=this;this.resize(),this.addViewportCallback("",(function(){e.resize(!0)}),{timeout:this.prop.resizeTimeout}),this.addEventListeners(this.outer,"wheel",(function(t){e._handleWheel(t)})),this.addEventListeners(this.outer,"scroll",(function(){e.outer.scrollTop=0,e.outer.scrollLeft=0}))}},{key:"_onPropMutate",value:function(){Ce(Be(i.prototype),"_onPropMutate",this).call(this),this.resize(),this._toggle()}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.container,r=this.outer;this._clientWidth=r.clientWidth,this._clientHeight=r.clientHeight,this._scrollWidth=ne(t.clientWidth,[this.clientWidth,1/0]),this._scrollHeight=ne(t.clientHeight,[this.clientHeight,1/0]),e&&(this._instant=!0),e&&(this.targetLeft=parseInt(this.targetLeft.toFixed(0),10),this.targetTop=parseInt(this.targetTop.toFixed(0),10));var n=this.maxScrollableHeight>0||this.maxScrollableWidth>0;r.classList.toggle("has-scroll",n),r.classList.toggle("no-scroll",!n),this._updateElementsProp(),this.callbacks.tbt("resize",!1)}},{key:"_recalculateSizes",value:function(){var e=this.container,t=e.clientHeight,r=e.clientWidth;t===this.scrollHeight&&r===this.scrollWidth||this.resize()}},{key:"_updateElementsProp",value:function(){for(var e=0;e<this._elementsLength;e+=1){var t=this._elements[e];t.smoothScrollLeft=this.scrollLeft,t.smoothScrollTop=this.scrollTop;var r=t.getAttribute("".concat(this.prefix,"-ease"));if(r)try{t.smoothScrollLerpEase=parseFloat(r)}catch(n){}}}},{key:"_handleWheel",value:function(e){var t=this.prop;if(t.enabled&&t.useWheel){(t.stopPropagation||!t.stopPropagation&&(this.scrollLeft>0&&this.scrollLeft<this.maxScrollableWidth||this.scrollTop>0&&this.scrollTop<this.maxScrollableHeight))&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault());var r=S()(e);this.targetLeftBound+=t.isHorizontal?r.pixelY:r.pixelX,this.targetTopBound+=t.isHorizontal?r.pixelX:r.pixelY,this._enable(),this.callbacks.tbt("wheel",e)}}},{key:"_toggle",value:function(){this.prop.enabled?this._enable():this._disable()}},{key:"_enable",value:function(){var e=this;this.prop.enabled&&(this.prop.animationFrame&&!this._outerAnimationFrameEvent?this._outerAnimationFrameEvent=this.prop.animationFrame.addCallback("frame",(function(t){e._currentFPS=t.realFPS,e.render()})):(this._animationFrame||(this._animationFrame=new je,this._animationFrame.addCallback("frame",(function(t){e._currentFPS=t.realFPS,e.render()}))),this._animationFrame.play()))}},{key:"_disable",value:function(){this._outerAnimationFrameEvent&&this.prop.animationFrame&&this._outerAnimationFrameEvent.remove(),this._animationFrame&&this._animationFrame.pause()}},{key:"render",value:function(){var e=this.prop;e.recalculateSizes&&this._recalculateSizes(),this._calcScroll(),this._calcElements(),this._renderElements(),this._instant&&(this._instant=!1),this.callbacks.tbt("scroll",!1);var t=Math.abs(this.targetTop-this.scrollTop);0===Math.abs(this.targetLeft-this.scrollLeft)&&0===t&&e.autoStop&&(this._disable(),this.callbacks.tbt("approximate",!1))}},{key:"_calcScroll",value:function(){var e=this.prop.overscroll;e&&(this.targetLeft<0?this.targetLeftBound=this._lerp(this.targetLeftBound,0,e.friction):this.targetLeft>this.maxScrollableWidth&&(this.targetLeftBound=this._lerp(this.targetLeftBound,this.maxScrollableWidth,e.friction)),this.targetTop<0?this.targetTopBound=this._lerp(this.targetTopBound,0,e.friction):this.targetTop>this.maxScrollableHeight&&(this.targetTopBound=this._lerp(this.targetTopBound,this.maxScrollableHeight,e.friction))),this._scrollLeft=this._lerp(this.scrollLeft,this.targetLeft),this._scrollTop=this._lerp(this.scrollTop,this.targetTop)}},{key:"_calcElements",value:function(){for(var e=this._getLerpEase(),t=0;t<this._elementsLength;t+=1){var r=this._elements[t],n=this._getLerpEase(r);n===e?(r.smoothScrollLeft=this._scrollLeft,r.smoothScrollTop=this._scrollTop):(r.smoothScrollLeft=this._lerp(r.smoothScrollLeft,this._targetLeft,n),r.smoothScrollTop=this._lerp(r.smoothScrollTop,this._targetTop,n))}}},{key:"_lerp",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getLerpEase(),n=this.prop.render,o=n.lerpToFixed,i=n.approximation,s=this._instant?1:r,c=oe(e,t,s,i);if("number"==typeof o){var a=Math.round(Math.abs(o));return parseFloat(c.toFixed(a))}return c}},{key:"_getLerpEase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.prop.render,r=t.lerp,n=t.normalizeLerp,o=n?60/this._currentFPS:1;return e&&e.smoothScrollLerpEase||r*o}},{key:"_renderElements",value:function(){for(var e=0;e<this._elementsLength;e+=1){var t=this._elements[e],r=-t.smoothScrollLeft,n=-t.smoothScrollTop;t.style.transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0, ".concat(r,", ").concat(n,", 0,1)")}}},{key:"scrollTo",value:function(){var e=arguments;if(1===e.length&&"object"===Ee(e[0])){var t=e[0],r=t.top,n=t.left,o=t.behavior;void 0!==n&&("smooth"===o?this.targetLeftBound=n:this.scrollLeft=n),void 0!==r&&("smooth"===o?this.targetTopBound=r:this.scrollTop=r),"smooth"===o&&this._enable()}"number"!=typeof e[0]&&"number"!=typeof e[1]||("number"==typeof e[0]&&(this.scrollLeft=e[0]),"number"==typeof e[1]&&(this.scrollTop=e[1]))}},{key:"_destroy",value:function(){if(Ce(Be(i.prototype),"_destroy",this).call(this),this._disable(),this._animationFrame&&this._animationFrame.destroy(),!this._containerExists){for(;this._container.firstChild;)this._outer.appendChild(this._container.firstChild);this._container.remove()}this._outer.classList.remove(this.prefix),this._elements.forEach((function(e){e.style.transform="",e.style.willChange=""}))}}],r&&Re(t.prototype,r),n&&Re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re),Fe=[];function He(e){var t=e.container,r=e.callback,n=e.isPassive,o=void 0!==n&&n,i=Fe.find((function(e){return e.container===t&&e.isPassive===o})),s=l("scroll-event");if(i)i.callbacks.push({id:s,callback:r});else{i={id:l("scroll-event-instance"),container:t,callbacks:[{id:s,callback:r}],isPassive:o,listeners:[]},Fe.push(i);var c=i.listeners;if(t instanceof ze)c.push(t.addCallback("scroll",(function(){for(var e=t.scrollTop,r=t.scrollLeft,n=0;n<i.callbacks.length;n+=1)i.callbacks[n].callback({scrollTop:e,scrollLeft:r})})));else{var a=t instanceof Window,u=g(t);c.push(k(u,"scroll",(function(){for(var e=a?u.pageYOffset:u.scrollTop,t=a?u.pageXOffset:u.scrollLeft,r=0;r<i.callbacks.length;r+=1)i.callbacks[r].callback({scrollTop:e,scrollLeft:t})}),{passive:o}))}}return{remove:function(){var e=i.callbacks.filter((function(e){return e.id!==s}));i.callbacks=e,0===e.length&&(i.listeners.forEach((function(e){e.remove()})),Fe=Fe.filter((function(e){return e.id!==i.id})))}}}function Ne(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(e){var t=e instanceof Window?e.pageYOffset:e.scrollTop,r=e instanceof Window?e.pageXOffset:e.scrollLeft;return{scrollTop:t,scrollLeft:r}}}function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qe(e,t){return qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qe(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=tt(e);if(t){var o=tt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ke(this,r)}}function Ke(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ge(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(){return Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=et(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Ze.apply(this,arguments)}function et(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tt(e)););return e}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(i,e);var t,r,n,o=Je(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return $e(this,i),rt(Ge(t=o.call(this,e,!1)),"_progress",void 0),rt(Ge(t),"_easing",void 0),rt(Ge(t),"_nestedTimelines",void 0),t._progress=0,t._easing=0,t._nestedTimelines=[],r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return Ue(Ue({},Ze(tt(i.prototype),"_getDefaultProp",this).call(this)),{},{easing:this._app.prop.easing,scope:[0,1],useNestedEasingProgress:!1})}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this._handleProgress()}},{key:"easing",get:function(){return this._easing}},{key:"addNestedTimeline",value:function(e){this._nestedTimelines.push(e)}},{key:"_handleProgress",value:function(){this._easing=(0,le.Z)(this._progress,this.prop.easing),this._callbacks.tbt("progress",{progress:this._progress,easing:this._easing}),this._renderNestedTimelines()}},{key:"_renderNestedTimelines",value:function(){var e=this._nestedTimelines.length;if(0!==e)for(var t=this.prop.useNestedEasingProgress?this.easing:this.progress,r=0,n=e;r<n;r+=1){var o=this._nestedTimelines[r],i=ne(ie(t,o.prop.nestedScope),[0,1]);o.progress=i}}},{key:"_destroy",value:function(){Ze(tt(i.prototype),"_destroy",this).call(this),this._nestedTimelines.forEach((function(e){e.destroy()}))}}],r&&Ye(t.prototype,r),n&&Ye(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e,t){return ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ut(e,t)}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yt(e);if(t){var o=yt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ft(this,r)}}function ft(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pt(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(){return ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=dt(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ht.apply(this,arguments)}function dt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yt(e)););return e}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ut(e,t)}(i,e);var t,r,n,o=lt(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ct(this,i),vt(pt(t=o.call(this,e,!1)),"_isPlaying",void 0),vt(pt(t),"_isReversed",void 0),vt(pt(t),"_isPaused",void 0),vt(pt(t),"_animationFrame",void 0),vt(pt(t),"_animationFrameLastTime",void 0),t._isPlaying=!1,t._isReversed=!1,t._isPaused=!1,t._animationFrame=void 0,t._animationFrameLastTime=0,r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return st(st({},ht(yt(i.prototype),"_getDefaultProp",this).call(this)),{},{duration:1e3,reset:!1,destroyOnEnd:!1})}},{key:"isPlaying",get:function(){return void 0!==this._animationFrame}},{key:"isReversed",get:function(){return this._isReversed}},{key:"isPaused",get:function(){return this._isPaused}},{key:"play",value:function(){this._destroyed||(this.prop.reset&&1===this.progress&&(this._progress=0),this._isReversed=!1,this._isPaused=!1,this.isPlaying||(this._animationFrameLastTime=+new Date,this._animate()))}},{key:"reverse",value:function(){this._destroyed||(this.prop.reset&&0===this.progress&&(this._progress=1),this._isReversed=!0,this._isPaused=!1,this.isPlaying||(this._animationFrameLastTime=+new Date,this._animate()))}},{key:"pause",value:function(){this._destroyed||(this._isPaused=!0,this._animationFrame&&window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}},{key:"_animate",value:function(){if(!this._isPaused){var e=this.isReversed,t=+new Date,r=Math.abs(this._animationFrameLastTime-t);this._animationFrameLastTime=t;var n=r/this.prop.duration/(e?-1:1),o=ne(this.progress+n,[0,1]);if(this.progress=o,1===o&&!e||0===o&&e)return this._isReversed=!1,this._isPaused=!1,void(this._animationFrame=void 0);this._animationFrame=window.requestAnimationFrame(this._animate.bind(this))}}},{key:"_handleProgress",value:function(){ht(yt(i.prototype),"_handleProgress",this).call(this);var e=this._progress;0===e?this.callbacks.tbt("start",!1):1===e&&(this.callbacks.tbt("end",!1),this.prop.destroyOnEnd&&this.destroy())}},{key:"_destroy",value:function(){this.pause(),ht(yt(i.prototype),"_destroy",this).call(this)}}])&&at(t.prototype,r),n&&at(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(nt);function _t(e){var t=e.container,r=void 0===t?window:t,n=e.top,o=void 0===n?0:n,i=e.left,s=void 0===i?0:i,c=e.duration,a=void 0===c?250:c;return new Promise((function(e,t){var n=Ve(r);if(n){var i=new bt({duration:a});return i.addCallback("progress",(function(e){r&&r.scrollTo({top:n.scrollTop+(o-n.scrollTop)*e.easing,left:n.scrollLeft+(s-n.scrollLeft)*e.easing,behavior:"auto"})})),i.addCallback("end",(function(){e()})),void i.play()}t()}))}function gt(e){var t=e.container,r=void 0===t?window:t,n=e.el,o=e.top,i=void 0===o?0:o,s=e.left,c=void 0===s?0:s,a=e.duration,u=void 0===a?250:a;return new Promise((function(e,t){var o=Ve(r);if(o){var s=g(n);if(s){var a=s.getBoundingClientRect(),l=ne(a.top+o.scrollTop-i,[0,1/0]),f=ne(a.left+o.scrollLeft-c,[0,1/0]);_t({container:r,top:l,left:f,duration:u}).then((function(){e()})).catch((function(){t()}))}}else t()}))}class mt extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class wt{static fn(e){return(...t)=>new wt(((r,n,o)=>{t.push(o),e(...t).then(r,n)}))}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(((t,r)=>{this._reject=r;const n=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};Object.defineProperties(n,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e((e=>{this._isCanceled&&n.shouldReject||(this._isPending=!1,t(e))}),(e=>{this._isPending=!1,r(e)}),n)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(const e of this._cancelHandlers)e()}catch(t){return void this._reject(t)}this._rejectOnCancel&&this._reject(new mt(e))}}get isCanceled(){return this._isCanceled}}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.setPrototypeOf(wt.prototype,Promise.prototype);var jt=[];function Et(e,t){var r=Pt(Pt({},{crossOrigin:null,useCache:!1}),t),n="string"==typeof e?e:e.src;return new wt((function(t,o){var i=r.useCache&&jt.find((function(e){return e.src===n}));if(i)t(i.image);else{if("string"==typeof e){var s=new Image;return s.crossOrigin=r.crossOrigin,s.onload=function(){r.useCache&&jt.push({src:n,image:s}),t(s)},s.onerror=function(){o()},void(s.src=e)}e instanceof HTMLImageElement&&(e.complete?t(e):(e.addEventListener("load",(function(){r.useCache&&jt.push({src:n,image:e}),t(e)})),e.addEventListener("error",(function(){o()}))))}}))}function St(e){return Object.keys(e).map((function(t){var r=e[t];if(r)return"".concat(r," ").concat(t,"w")})).filter((function(e){return!!e})).join(", ")}function Tt(e){var t=window.vevetApp,r=e.original;e.thumb&&(r=e.thumb),t&&t.supportsWebp&&e.thumbWebp&&(r=e.thumbWebp);var n="";return t&&t.supportsWebp&&"sizesWebp"in e&&e.sizesWebp?n=St(e.sizesWebp):"sizes"in e&&e.sizes&&(n=St(e.sizes)),{src:r,srcSet:n}}var xt=/iPhone/i,Rt=/iPod/i,Ct=/iPad/i,Lt=/\biOS-universal(?:.+)Mac\b/i,Dt=/\bAndroid(?:.+)Mobile\b/i,Mt=/Android/i,Wt=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,It=/Silk/i,Bt=/Windows Phone/i,At=/\bWindows(?:.+)ARM\b/i,zt=/BlackBerry/i,Ft=/BB10/i,Ht=/Opera Mini/i,Nt=/\b(CriOS|Chrome)(?:.+)Mobile/i,Vt=/Mobile(?:.+)Firefox\b/i,Xt=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function Qt(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var o=function(e){return function(t){return t.test(e)}}(r),i={apple:{phone:o(xt)&&!o(Bt),ipod:o(Rt),tablet:!o(xt)&&(o(Ct)||Xt(t))&&!o(Bt),universal:o(Lt),device:(o(xt)||o(Rt)||o(Ct)||o(Lt)||Xt(t))&&!o(Bt)},amazon:{phone:o(Wt),tablet:!o(Wt)&&o(It),device:o(Wt)||o(It)},android:{phone:!o(Bt)&&o(Wt)||!o(Bt)&&o(Dt),tablet:!o(Bt)&&!o(Wt)&&!o(Dt)&&(o(It)||o(Mt)),device:!o(Bt)&&(o(Wt)||o(It)||o(Dt)||o(Mt))||o(/\bokhttp\b/i)},windows:{phone:o(Bt),tablet:o(At),device:o(Bt)||o(At)},other:{blackberry:o(zt),blackberry10:o(Ft),opera:o(Ht),firefox:o(Vt),chrome:o(Nt),device:o(zt)||o(Ft)||o(Ht)||o(Vt)||o(Nt)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}var Ut,$t,Yt=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},qt=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},Jt=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},Kt=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},Gt=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Zt=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},er=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,tr=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],rr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function nr(e){return e?ir(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Zt:"undefined"!=typeof navigator?ir(navigator.userAgent):"undefined"!=typeof process&&process.version?new Jt(process.version.slice(1)):null}function or(e){return""!==e&&tr.reduce((function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]}),!1)}function ir(e){var t=or(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new Gt;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=Yt(Yt([],o,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),s=function(e){for(var t=0,r=rr.length;t<r;t++){var n=rr[t],o=n[0];if(n[1].exec(e))return o}return null}(e),c=er.exec(e);return c&&c[1]?new Kt(r,i,s,c[1]):new qt(r,i,s)}function sr(e){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(e)}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ar(){return ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=ur(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ar.apply(this,arguments)}function ur(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dr(e)););return e}function lr(e,t){return lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lr(e,t)}function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dr(e);if(t){var o=dr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pr(this,r)}}function pr(e,t){if(t&&("object"===sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e){return dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dr(e)}function yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.Desktop="desktop",e.Tablet="tablet",e.Phone="phone"}(Ut||(Ut={})),function(e){e.Landscape="landscape",e.Portrait="portrait"}($t||($t={}));var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lr(e,t)}(i,e);var t,r,n,o=fr(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),yr(hr(e=o.call(this,!1)),"_width",void 0),yr(hr(e),"_height",void 0),yr(hr(e),"_radius",void 0),yr(hr(e),"_prevSize",void 0),yr(hr(e),"_isDesktop",void 0),yr(hr(e),"_isTablet",void 0),yr(hr(e),"_isPhone",void 0),yr(hr(e),"_resizeTimeout",void 0),e._width=0,e._height=0,e._radius=0,e._prevSize={w:0,h:0},e._isDesktop=!1,e._isTablet=!1,e._isPhone=!1,e._init(),e}return t=i,r=[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"radius",get:function(){return Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/2}},{key:"vw",get:function(){return this.width/100}},{key:"vh",get:function(){return this.height/100}},{key:"vr",get:function(){return this.radius/100}},{key:"prevSize",get:function(){return this._prevSize}},{key:"isLandscape",get:function(){return this.width>this.height}},{key:"isPortrait",get:function(){return this.width<this.height}},{key:"isDesktop",get:function(){return this._isDesktop}},{key:"isTablet",get:function(){return this._isTablet}},{key:"isPhone",get:function(){return this._isPhone}},{key:"dpr",get:function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1}},{key:"lowerDesktopDPR",get:function(){return this._app.isDesktop?1:this.dpr}},{key:"_constructor",value:function(){ar(dr(i.prototype),"_constructor",this).call(this),this._setValues()}},{key:"_setEvents",value:function(){var e=this;window.addEventListener("resize",(function(){e._resizeTimeout&&e._resizeTimeout.clear(),e._resizeTimeout=d((function(){e._onResize()}),e._app.prop.viewportResizeTimeout)}))}},{key:"_setValues",value:function(){var e=this._app,t=e.html,r=e.prop;this._width=t.clientWidth,this._height=t.clientHeight,this._prevSize={w:this._width,h:this._height};var n=this.width;this._isDesktop=n>=r.tablet,this._isTablet=n<=r.tablet&&n>r.phone,this._isPhone=n<=r.phone,this._updateClasses(),this._updateCSSVars()}},{key:"_updateClasses",value:function(){var e=[Ut.Desktop,Ut.Tablet,Ut.Phone];this.isDesktop?this._updateBreakpointClasses(Ut.Desktop,e):this.isTablet?this._updateBreakpointClasses(Ut.Tablet,e):this._updateBreakpointClasses(Ut.Phone,e);var t=[$t.Landscape,$t.Portrait];this.isLandscape?this._updateBreakpointClasses($t.Landscape,t):this.isPortrait?this._updateBreakpointClasses($t.Portrait,t):this._updateBreakpointClasses("",t)}},{key:"_updateBreakpointClasses",value:function(e,t){var r=this._app.html,n=this._app.prefix;t.forEach((function(t){t===e?r.classList.add("".concat(n,"viewport-").concat(t)):r.classList.remove("".concat(n,"viewport-").concat(t))}))}},{key:"_updateCSSVars",value:function(){var e=this._app.html;e.style.setProperty("--vw","".concat(this.vw,"px")),e.style.setProperty("--vh","".concat(this.vh,"px")),e.style.setProperty("--vr","".concat(this.vr,"px"))}},{key:"_onResize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._prevSize.w,r=this._prevSize.h;this._setValues();var n=this.width,o=this.height,i={widthChanged:n!==t,heightChanged:o!==r,orientationChanged:n>o!=t>r};(e||n!==t&&o===r)&&this.tbt("w_",i),(e||o!==r&&n===t)&&this.tbt("h_",i),(e||n!==t&&o!==r)&&(this.tbt("wh",i),this.tbt("hw",i)),(e||n!==t)&&this.tbt("w",i),(e||o!==r)&&this.tbt("h",i),this.tbt("",i)}},{key:"forceResize",value:function(){this._onResize(!0)}}],r&&cr(t.prototype,r),n&&cr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(D);function br(e){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(e)}function _r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gr(e,t){return gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gr(e,t)}function mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pr(e);if(t){var o=Pr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wr(this,r)}}function wr(e,t){if(t&&("object"===br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e){return Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pr(e)}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gr(e,t)}(i,e);var t,r,n,o=mr(i);function i(){var e,t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,!1),t=Or(e),n=void 0,(r="_loaded")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e._loaded=!1,e._init(),e}return t=i,(r=[{key:"loaded",get:function(){return this._loaded}},{key:"_setEvents",value:function(){var e=this;"complete"===document.readyState?this._handleLoaded():window.addEventListener("load",(function(){e._handleLoaded()}))}},{key:"_handleLoaded",value:function(){var e=this._app,t=e.prefix;this._loaded=!0,e.html.classList.remove("".concat(t,"loading")),e.body.classList.remove("".concat(t,"loading")),e.html.classList.add("".concat(t,"loaded")),this.tbt("",!1)}},{key:"onLoaded",value:function(e){if(!this.loaded)return this.add("",e.bind(this));e()}}])&&_r(t.prototype,r),n&&_r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(D);function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rr=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Sr(this,e),xr(this,"_prop",void 0),xr(this,"_prefix",void 0),xr(this,"_isPhone",void 0),xr(this,"_isTablet",void 0),xr(this,"_isMobile",void 0),xr(this,"_isDesktop",void 0),xr(this,"_osName",void 0),xr(this,"_browserName",void 0),xr(this,"_supportsWebp",void 0),xr(this,"_pages",[]),xr(this,"_page",!1),xr(this,"_pageLoad",void 0),xr(this,"_viewport",void 0),window.vevetApp)throw new Error("Vevet Application already exists!");this._prop=Er(Er({},this.defaultProp),r),this._prefix=this.prop.prefix,this._sayHi(),window.vevetApp=this;var n=Qt();this._isPhone=n.phone,this.html.classList.toggle("".concat(this.prefix,"phone"),this._isPhone),this._isTablet=n.tablet,this.html.classList.toggle("".concat(this.prefix,"tablet"),this._isTablet),this._isMobile=n.phone||n.tablet,this.html.classList.toggle("".concat(this.prefix,"mobile"),this._isMobile),this._isDesktop=!this._isMobile,this.html.classList.toggle("".concat(this.prefix,"desktop"),this._isDesktop);var o=nr();if(null!=o&&o.os){var i=o.os.split(" ")[0].toLowerCase();this.html.classList.add("".concat(this.prefix,"os-").concat(i)),this._osName=i}else this._osName="";if(null!=o&&o.name){var s=o.name.toLowerCase();this.html.classList.add("".concat(this.prefix,"browser-").concat(s)),this._browserName=s}else this._browserName="";if(this._pageLoad=new kr,this._viewport=new vr,this.prop.webpSupport){var c=new Image;c.onload=function(){t._supportsWebp=1===c.width},c.onerror=function(){t._supportsWebp=!1},c.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}else this._supportsWebp=!1}var t,r,n;return t=e,(r=[{key:"version",get:function(){return"2.17.0"}},{key:"prop",get:function(){return this._prop}},{key:"defaultProp",get:function(){return{sayHi:!0,tablet:1199,phone:899,prefix:"v-",easing:[.25,.1,.25,1],viewportResizeTimeout:0,webpSupport:!1}}},{key:"prefix",get:function(){return this._prefix}},{key:"isPhone",get:function(){return this._isPhone}},{key:"isTablet",get:function(){return this._isTablet}},{key:"isMobile",get:function(){return this._isMobile}},{key:"isDesktop",get:function(){return this._isDesktop}},{key:"osName",get:function(){return this._osName}},{key:"browserName",get:function(){return this._browserName}},{key:"supportsWebp",get:function(){return this._supportsWebp}},{key:"doc",get:function(){return document}},{key:"html",get:function(){return document.documentElement}},{key:"body",get:function(){return document.body}},{key:"pages",get:function(){return this._pages}},{key:"page",get:function(){return this._page},set:function(e){this._page=e}},{key:"onPageCreated",value:function(){var e=this;return new wt((function(t){e._page?e._page.onCreate().then((function(){t(e.page)})):setTimeout((function(){e.onPageCreated().then((function(){t(e.page)}))}),30)}))}},{key:"onPageShown",value:function(){var e=this;return new wt((function(t){e.onPageCreated().then((function(){e._page&&e._page.onShow().then((function(){t(e.page)}))}))}))}},{key:"pageLoad",get:function(){return this._pageLoad}},{key:"onPageLoaded",value:function(){var e=this;return new wt((function(t){e._pageLoad.onLoaded((function(){t()}))}))}},{key:"viewport",get:function(){return this._viewport}},{key:"_sayHi",value:function(){if(this.prop.sayHi){var e="Vevet ".concat(this.version),t=["padding: 1rem 1.5rem;","background: #5F2580;","font: 1rem/1 Arial;","color: #ffffff;"].join("");console.log("%c%s",t,e)}}}])&&Tr(t.prototype,r),n&&Tr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dr(){return Dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Mr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Dr.apply(this,arguments)}function Mr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zr(e)););return e}function Wr(e,t){return Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wr(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zr(e);if(t){var o=zr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Br(this,r)}}function Br(e,t){if(t&&("object"===Cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zr(e)}var Fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}(i,e);var t,r,n,o=Ir(i);function i(e){var t,r,n,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e,!1),r=Ar(t),s=void 0,(n="_component")in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,t}return t=i,(r=[{key:"component",get:function(){return this._component}},{key:"init",value:function(){if(!this._component)throw new Error("Component is not set. Be sure that initlugin is called before.");Dr(zr(i.prototype),"init",this).call(this)}},{key:"initPlugin",value:function(e){this._inited||(this._component=e,this.init())}}])&&Lr(t.prototype,r),n&&Lr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(X);function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach((function(t){Zr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ur(e,t){return Ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ur(e,t)}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gr(e);if(t){var o=Gr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yr(this,r)}}function Yr(e,t){if(t&&("object"===Hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(){return Jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Kr(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Jr.apply(this,arguments)}function Kr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gr(e)););return e}function Gr(e){return Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gr(e)}function Zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}(i,e);var t,r,n,o=$r(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Xr(this,i),Zr(qr(t=o.call(this,e,!1)),"_container",void 0),Zr(qr(t),"_startTime",void 0),Zr(qr(t),"_endTime",void 0),Zr(qr(t),"_toBeHidden",void 0),Zr(qr(t),"_isHidden",void 0),Zr(qr(t),"_pageLoadEvent",void 0),t.prop.container){var n=g(t.prop.container);n instanceof HTMLElement&&(t._container=n)}return t._container&&t._container.classList.add(t.prefix),t._startTime=+new Date,t._endTime=1/0,t._toBeHidden=!1,t._isHidden=!1,r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return Vr(Vr({},Jr(Gr(i.prototype),"_getDefaultProp",this).call(this)),{},{container:"#".concat(this.prefix),hide:250})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"preloader")}},{key:"container",get:function(){return this._container}},{key:"startTime",get:function(){return this._startTime}},{key:"endTime",get:function(){return this._endTime}},{key:"totalTime",get:function(){return this._endTime-this._startTime}},{key:"isHidden",get:function(){return this._isHidden}},{key:"_setEvents",value:function(){var e=this;Jr(Gr(i.prototype),"_setEvents",this).call(this),this._onLoaded().then((function(){e._endTime=+new Date,e._handleLoaded()}))}},{key:"_onLoaded",value:function(){var e=this;return new wt((function(t){e._app.pageLoad.loaded?t():e._pageLoadEvent=e._app.pageLoad.add("",(function(){t()}))}))}},{key:"_handleLoaded",value:function(){this.callbacks.tbt("loaded",!1),"boolean"!=typeof this.prop.hide&&this.hideContainer()}},{key:"hideContainer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"boolean"!=typeof this.prop.hide?this.prop.hide:250;return this.callbacks.tbt("hide",!1),this._toBeHidden=!0,new wt((function(r){var n=e._container;if(!n)return e._handleHidden(),void r();n.style.transition="opacity ".concat(t,"ms, visibility ").concat(t,"ms"),n.style.opacity="0",n.style.visibility="hidden",d((function(){n.style.display="none",e._handleHidden(),r()}),t)}))}},{key:"_handleHidden",value:function(){this._isHidden=!0,this.callbacks.tbt("hidden",!1)}},{key:"onHide",value:function(e){if(!this._toBeHidden)return this.callbacks.add("hide",(function(){e()}));e()}},{key:"onHidden",value:function(e){if(!this._isHidden)return this.callbacks.add("hidden",(function(){e()}));e()}},{key:"_destroy",value:function(){var e;Jr(Gr(i.prototype),"_destroy",this).call(this),null===(e=this._pageLoadEvent)||void 0===e||e.remove()}}],r&&Qr(t.prototype,r),n&&Qr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(r),!0).forEach((function(t){dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cn(e,t){return cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cn(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hn(e);if(t){var o=hn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return un(this,r)}}function un(e,t){if(t&&("object"===tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(){return fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=pn(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},fn.apply(this,arguments)}function pn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hn(e)););return e}function hn(e){return hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hn(e)}function dn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}(i,e);var t,r,n,o=an(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return on(this,i),dn(ln(t=o.call(this,e,!1)),"_imgs",void 0),dn(ln(t),"_videos",void 0),dn(ln(t),"_customResources",void 0),dn(ln(t),"_resourcesTotal",void 0),dn(ln(t),"_resourcesLoaded",void 0),dn(ln(t),"_progress",void 0),dn(ln(t),"_animationFrame",void 0),dn(ln(t),"_endTimeline",void 0),t._imgs=[],t._videos=[],t._customResources=[],t._resourcesTotal=1+t.prop.resources,t._resourcesLoaded=0,t._progress=0,r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return nn(nn({},fn(hn(i.prototype),"_getDefaultProp",this).call(this)),{},{resources:0,loaders:{img:!0,video:!0,custom:".js-preload",ignoreClassName:"js-preload-ignore"},calc:{lerp:.1,forceEnd:500}})}},{key:"imgs",get:function(){return this._imgs}},{key:"videos",get:function(){return this._videos}},{key:"customResources",get:function(){return this._customResources}},{key:"resourcesTotal",get:function(){return this._resourcesTotal}},{key:"resourcesLoaded",get:function(){return this._resourcesLoaded}},{key:"loadProgress",get:function(){return this.resourcesLoaded/this.resourcesTotal}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this._handleProgress()}},{key:"_constructor",value:function(){fn(hn(i.prototype),"_constructor",this).call(this),this._getResources()}},{key:"_setEvents",value:function(){var e=this;fn(hn(i.prototype),"_setEvents",this).call(this);var t=this.prop.calc.lerp;"number"==typeof t&&(this._animationFrame=new je,this._animationFrame.addCallback("frame",(function(){e.progress=oe(e.progress,e.loadProgress,t)})),this._animationFrame.play()),this._preloadResources(),this._app.onPageLoaded().then((function(){e._handleLoadedResource()}))}},{key:"_onLoaded",value:function(){var e=this;return new wt((function(t){var r=!1;e.callbacks.add("progress",(function(e){e.progress>=1&&!r&&(t(),r=!0)}),{protected:!0})}))}},{key:"_getResources",value:function(){var e=this,t=this.prop.loaders;t.img&&m("img").forEach((function(r){r.classList.contains(t.ignoreClassName)||(e._imgs.push(r),e._resourcesTotal+=1)})),t.video&&m("video").forEach((function(r){r.classList.contains(t.ignoreClassName)||(e._videos.push(r),e._resourcesTotal+=1)})),t.custom&&(Array.from(m(t.custom)).forEach((function(t){var r=parseInt(t.getAttribute("data-load-count")||"1",10);r=Number.isNaN(r)?1:ne(r,[1,1/0]);for(var n=1;n<=r;n+=1){var o=n/r;e._customResources.push({el:t,targetProgress:o})}})),this._resourcesTotal+=this._customResources.length)}},{key:"_preloadResources",value:function(){var e=this;0===this._resourcesTotal&&(this._resourcesTotal=1,this._handleLoadedResource()),this._imgs.forEach((function(t){if(t.complete)e._handleLoadedResource();else{var r=new Image;t.addEventListener("load",(function(){e._handleLoadedResource()})),t.addEventListener("error",(function(){e._handleLoadedResource()})),r.src=t.currentSrc||t.src}})),this._videos.forEach((function(t){if(t.readyState>0)e._handleLoadedResource();else{if("none"===t.preload)return void e._handleLoadedResource();t.addEventListener("error",(function(){e._handleLoadedResource()})),t.addEventListener("loadedmetadata",(function(){e._handleLoadedResource()}))}})),this._customResources.forEach((function(t){e._seekCustomResourceLoaded(t).then((function(){e._handleLoadedResource()}))}))}},{key:"_seekCustomResourceLoaded",value:function(e){var t=this;return new Promise((function(r){var n=e.el,o=e.targetProgress,i=0;if(void 0!==n.isComplete?"boolean"==typeof n.isComplete?n.isComplete&&(i=o):"number"==typeof n.isComplete&&(i=n.isComplete):void 0!==n.isLoaded&&("boolean"==typeof n.isLoaded?n.isLoaded&&(i=o):"number"==typeof n.isLoaded&&(i=n.isLoaded)),0===i){var s=n.getAttribute("data-is-loaded");if(null!==s&&""!==s){var c=parseFloat(s);i=Number.isNaN(c)?o:c}}i>=o?r():setTimeout((function(){t.destroyed||t._seekCustomResourceLoaded(e).then((function(){r()}))}),50)}))}},{key:"addResourcesLoaded",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;t<e;t+=1)this._handleLoadedResource()}},{key:"addResourcesTotal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._resourcesTotal+=e}},{key:"_handleLoadedResource",value:function(){this.loadProgress>=1||(this._resourcesLoaded+=1,this.callbacks.tbt("resourceLoad",!1),this._animationFrame||(this.progress=this.loadProgress))}},{key:"_handleProgress",value:function(){var e=this;if(this.callbacks.tbt("progress",{progress:this._progress}),this.progress>=1)this._animationFrame&&(this._animationFrame.destroy(),this._animationFrame=void 0);else if("number"==typeof this.prop.calc.forceEnd&&this.loadProgress>=1&&!this._endTimeline){this._animationFrame&&(this._animationFrame.destroy(),this._animationFrame=void 0),this._endTimeline=new bt({duration:this.prop.calc.forceEnd});var t=this.progress;this._endTimeline.addCallback("progress",(function(r){var n=1-t;e.progress=t+n*r.progress})),this._endTimeline.play()}}},{key:"_destroy",value:function(){fn(hn(i.prototype),"_destroy",this).call(this),this._animationFrame&&this._animationFrame.destroy()}}],r&&sn(t.prototype,r),n&&sn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(en);function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(r),!0).forEach((function(t){Tn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wn(){return wn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=On(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},wn.apply(this,arguments)}function On(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sn(e)););return e}function Pn(e,t){return Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pn(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Sn(e);if(t){var o=Sn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jn(this,r)}}function jn(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return En(e)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e){return Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sn(e)}function Tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(i,e);var t,r,n,o=kn(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gn(this,i),Tn(En(t=o.call(this,e,!1)),"_blocked",void 0),Tn(En(t),"_created",void 0),Tn(En(t),"_beforeShown",void 0),Tn(En(t),"_shown",void 0),Tn(En(t),"_hidden",void 0),Tn(En(t),"_viaAJAX",void 0),t._blocked=!1,t._created=!1,t._beforeShown=!1,t._shown=!1,t._hidden=!1,t._destroyed=!1,t._viaAJAX=!1,r&&t.init(),t}return t=i,r=[{key:"blocked",get:function(){return this._blocked}},{key:"created",get:function(){return this._created}},{key:"beforeShown",get:function(){return this._beforeShown}},{key:"shown",get:function(){return this._shown}},{key:"hidden",get:function(){return this._hidden}},{key:"viaAJAX",get:function(){return this._viaAJAX}},{key:"pageClassName",get:function(){return"".concat(this._app.prefix,"page-").concat(this.prop.name)}},{key:"_getDefaultProp",value:function(){return _n(_n({},wn(Sn(i.prototype),"_getDefaultProp",this).call(this)),{},{name:"home",hasInnerPreloader:!1})}},{key:"create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(r,n){e.canCreate().then((function(){e.created||e.blocked?n():(e._blocked=!0,e._beforeShown=!1,e._shown=!1,e._hidden=!1,e._destroyed=!1,e._viaAJAX=t,e._app.page=e,e._app.html.classList.add(e.pageClassName),e._create().then((function(){e.callbacks.tbt("create",!1),e._blocked=!1,e._created=!0,r()})).catch((function(){n()})))})).catch((function(){n()}))}))}},{key:"_create",value:function(){return new Promise((function(e){e()}))}},{key:"canCreate",value:function(){var e=this;return new Promise((function(t,r){e.created?r():t()}))}},{key:"show",value:function(){var e=this;return new Promise((function(t,r){e.canShow().then((function(){e.shown||e.blocked?r():(e._blocked=!0,e._created=!0,e._hidden=!1,e._destroyed=!1,e.callbacks.tbt("beforeshow",!1),e._beforeShown=!0,e._show().then((function(){e.callbacks.tbt("show",!1),e._blocked=!1,e._shown=!0,t()})).catch((function(){r()})))})).catch((function(){r()}))}))}},{key:"_show",value:function(){var e=this._ignorePreventPageShow();return this.addCallback("destroy",(function(){e.cancel()})),new Promise((function(t,r){e.then((function(){t()})).catch((function(){r()}))}))}},{key:"_ignorePreventPageShow",value:function(){var e=this;return new wt((function(t,r){e._destroyed&&r(),0===m("[data-prevent-page-show]").length?t():setTimeout((function(){e._ignorePreventPageShow().then((function(){t()})).catch((function(){r()}))}),30)}))}},{key:"canShow",value:function(){var e=this;return new Promise((function(t,r){!e.created||e.shown?r():e.prop.hasInnerPreloader?new yn({parent:e,container:!1,hide:!1,loaders:{img:!1,video:!1,custom:".js-preload-inner"},calc:{lerp:!1}}).addCallback("loaded",(function(){t()})):t()}))}},{key:"hide",value:function(){var e=this;return new Promise((function(t,r){e.canHide().then((function(){e.hidden||e.blocked?r():(e._blocked=!0,e._created=!0,e._beforeShown=!1,e._shown=!1,e._destroyed=!1,e._hide().then((function(){e.callbacks.tbt("hide",!1),e._blocked=!1,e._hidden=!0,t()})).catch((function(){r()})))})).catch((function(){r()}))}))}},{key:"_hide",value:function(){return new Promise((function(e){e()}))}},{key:"canHide",value:function(){var e=this;return new Promise((function(t,r){e.created&&e.shown&&!e.hidden?t():r()}))}},{key:"destroy",value:function(){var e=this;return new Promise((function(t,r){e.canDestroy().then((function(){e.destroyed||e.blocked?r():(e._blocked=!0,e._created=!1,e._beforeShown=!1,e._shown=!1,e._hidden=!0,e._app.page=!1,e._app.html.classList.remove(e.pageClassName),e._destroy().then((function(){e._blocked=!1,e._destroyed=!0,t()})).catch((function(){r()})))})).catch((function(){r()}))}))}},{key:"_destroy",value:function(){var e=this;return new Promise((function(t){wn(Sn(i.prototype),"_destroy",e).call(e),t()}))}},{key:"canDestroy",value:function(){var e=this;return new Promise((function(t,r){e.created&&e.hidden&&!e.destroyed?t():r()}))}},{key:"onCreate",value:function(){var e=this;return new wt((function(t){e.created?t():e.addCallback("create",(function(){t()}),{once:!0})}))}},{key:"onShow",value:function(){var e=this;return new wt((function(t){e.shown?t():e.addCallback("show",(function(){t()}),{once:!0})}))}},{key:"onBeforeShow",value:function(){var e=this;return new wt((function(t){e.shown||e.beforeShown?t():e.addCallback("beforeshow",(function(){t()}),{once:!0})}))}},{key:"onHide",value:function(){var e=this;return new wt((function(t){e.hidden?t():e.addCallback("hide",(function(){t()}),{once:!0})}))}}],r&&mn(t.prototype,r),n&&mn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){Nn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wn(e,t){return Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wn(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Hn(e);if(t){var o=Hn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bn(this,r)}}function Bn(e,t){if(t&&("object"===Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return An(e)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(){return zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Fn(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},zn.apply(this,arguments)}function Fn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hn(e)););return e}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}function Nn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wn(e,t)}(i,e);var t,r,n,o=In(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Dn(this,i),Nn(An(t=o.call(this,e,!1)),"_wheelListener",void 0),Nn(An(t),"_lockWheel",void 0),Nn(An(t),"_lockWheelTimeout",void 0),t._wheelListener=void 0,t._lockWheel=!1,r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Ln(Ln({},zn(Hn(i.prototype),"_getDefaultProp",this).call(this)),{},{container:!1,enabled:!0,stopPropagation:!1,threshold:20})}},{key:"container",get:function(){return this.prop.container?this.prop.container:window}},{key:"_setEvents",value:function(){zn(Hn(i.prototype),"_setEvents",this).call(this),this.container instanceof Window?this._toggleWheelEvent():(this._listeners.push(k(this.container,"mouseenter",this._handleMouseEnter.bind(this))),this._listeners.push(k(this.container,"mouseleave",this._handleMouseLeave.bind(this))))}},{key:"_onPropMutate",value:function(){zn(Hn(i.prototype),"_onPropMutate",this).call(this),this._toggleWheelEvent()}},{key:"_handleMouseEnter",value:function(){this.prop.enabled&&this._createWheelEvent()}},{key:"_handleMouseLeave",value:function(){this._destroyWheelEvent()}},{key:"_toggleWheelEvent",value:function(){this.prop.enabled?this._createWheelEvent():this._destroyWheelEvent()}},{key:"_createWheelEvent",value:function(){this._wheelListener||(this._lockWheel=!1,this._lockWheelTimeout&&clearTimeout(this._lockWheelTimeout),this._wheelListener=k(this.container,"wheel",this._handleWheel.bind(this)))}},{key:"_destroyWheelEvent",value:function(){this._wheelListener&&(this._wheelListener.remove(),this._wheelListener=void 0)}},{key:"_handleWheel",value:function(e){var t=this;if(this._wheelListener){if(this.prop.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this._lockWheel)return this._lockWheelTimeout&&clearTimeout(this._lockWheelTimeout),void(this._lockWheelTimeout=setTimeout((function(){t._lockWheel=!1}),300));var r=S()(e),n=this.prop.threshold,o=!1;r.pixelY>n?(this._callbacks.tbt("down",!1),o=!0):r.pixelY<-1*n&&(this._callbacks.tbt("up",!1),o=!0),r.pixelX>n?(this._callbacks.tbt("right",!1),o=!0):r.pixelX<-1*n&&(this._callbacks.tbt("left",!1),o=!0),o&&(this._lockWheel=!0)}}},{key:"_destroy",value:function(){zn(Hn(i.prototype),"_destroy",this).call(this),this._destroyWheelEvent()}}])&&Mn(t.prototype,r),n&&Mn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(X);function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){ro(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qn(e,t){return qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qn(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=to(e);if(t){var o=to(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kn(this,r)}}function Kn(e,t){if(t&&("object"===Xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zn(){return Zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=eo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Zn.apply(this,arguments)}function eo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=to(e)););return e}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},to(e)}function ro(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var no=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qn(e,t)}(i,e);var t,r,n,o=Jn(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if($n(this,i),ro(Gn(t=o.call(this,e,!1)),"_container",void 0),ro(Gn(t),"_runtimeEvents",void 0),ro(Gn(t),"_isDragging",void 0),ro(Gn(t),"_pointerID",void 0),ro(Gn(t),"_coords",void 0),ro(Gn(t),"_prevCoords",void 0),ro(Gn(t),"_startCoords",void 0),t._container=g(t.prop.container),!b(t._container)&&!_(t._container))throw new Error("No container");return t._runtimeEvents=[],t._isDragging=!1,t._pointerID=null,t._coords={x:0,y:0},t._prevCoords={x:0,y:0},t._startCoords={x:0,y:0},r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Un(Un({},Zn(to(i.prototype),"_getDefaultProp",this).call(this)),{},{container:"#".concat(this.prefix),usePassive:!1,enabled:!0})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"dragger")}},{key:"container",get:function(){return this._container}},{key:"isDragging",get:function(){return this._isDragging}},{key:"coords",get:function(){return this._coords}},{key:"startCoords",get:function(){return this._startCoords}},{key:"_setEvents",value:function(){var e=this.container,t=this.prop.usePassive;this.addEventListeners(e,"mousedown",this._handleStart.bind(this),{passive:t}),this.addEventListeners(e,"touchstart",this._handleStart.bind(this),{passive:t})}},{key:"_addRuntimeEvents",value:function(){var e=this.prop.usePassive;this._runtimeEvents.push(k(window,"mouseup",this._handleEnd.bind(this),{passive:e})),this._runtimeEvents.push(k(window,"touchend",this._handleEnd.bind(this),{passive:e})),this._runtimeEvents.push(k(window,"touchcancel",this.cancel.bind(this),{passive:e})),this._runtimeEvents.push(k(window,"blur",this.cancel.bind(this),{passive:e}))}},{key:"_removeRuntimeEvents",value:function(){this._runtimeEvents.forEach((function(e){e.remove()})),this._runtimeEvents=[]}},{key:"_normalizeEvent",value:function(e){if(e.type.includes("touch")){var t=e,r=t.targetTouches[0]||t.changedTouches[0];return{x:r.clientX,y:r.clientY,id:r.identifier}}var n=e;return{x:n.clientX,y:n.clientY,id:null}}},{key:"_handleStart",value:function(e){if(!this.prop.enabled)return!1;if(this.isDragging)return!1;var t=this._normalizeEvent(e);if("mousedown"===e.type){if(1!==e.which)return!1;e.stopPropagation()}return this._isDragging=!0,this._pointerID=t.id,this._coords={x:t.x,y:t.y},this._prevCoords={x:t.x,y:t.y},this._startCoords={x:t.x,y:t.y},this._addRuntimeEvents(),this.callbacks.tbt("start",{evt:e}),!0}},{key:"_handleEnd",value:function(e){var t=this._normalizeEvent(e);return!(!this.isDragging||t.id!==this._pointerID||(this.cancel(),0))}},{key:"cancel",value:function(){this._removeRuntimeEvents(),this._isDragging=!1,this.callbacks.tbt("end",!1)}},{key:"_destroy",value:function(){Zn(to(i.prototype),"_destroy",this).call(this),this._removeRuntimeEvents()}}])&&Yn(t.prototype,r),n&&Yn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function so(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function co(){return co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=ao(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},co.apply(this,arguments)}function ao(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=po(e)););return e}function uo(e,t){return uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uo(e,t)}function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=po(e);if(t){var o=po(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fo(this,r)}}function fo(e,t){if(t&&("object"===oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}var ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uo(e,t)}(i,e);var t,r,n,o=lo(i);function i(){return io(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"stepCoords",get:function(){return{x:this._coords.x-this._prevCoords.x,y:this._coords.y-this._prevCoords.y}}},{key:"_addRuntimeEvents",value:function(){co(po(i.prototype),"_addRuntimeEvents",this).call(this);var e=this.prop.usePassive;this._runtimeEvents.push(k(window,"mousemove",this._handleMove.bind(this),{passive:e})),this._runtimeEvents.push(k(window,"touchmove",this._handleMove.bind(this),{passive:e}))}},{key:"_handleMove",value:function(e){var t=this._normalizeEvent(e);return!(!this.isDragging||t.id!==this._pointerID||(this._prevCoords={x:this._coords.x,y:this._coords.y},this._coords={x:t.x,y:t.y},this.callbacks.tbt("move",{evt:e,start:this.startCoords,coords:this.coords,step:this.stepCoords}),0))}},{key:"_destroy",value:function(){co(po(i.prototype),"_destroy",this).call(this)}}])&&so(t.prototype,r),n&&so(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(no);function yo(e){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(e)}function vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(r),!0).forEach((function(t){_o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wo(){return wo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Oo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},wo.apply(this,arguments)}function Oo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Eo(e)););return e}function Po(e,t){return Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Po(e,t)}function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Eo(e);if(t){var o=Eo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jo(this,r)}}function jo(e,t){if(t&&("object"===yo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Eo(e)}var So=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Po(e,t)}(i,e);var t,r,n,o=ko(i);function i(){return go(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"_getDefaultProp",value:function(){return bo(bo({},wo(Eo(i.prototype),"_getDefaultProp",this).call(this)),{},{min:75})}},{key:"_handleEnd",value:function(e){var t=wo(Eo(i.prototype),"_handleEnd",this).call(this,e);if(!t)return t;var r=this._normalizeEvent(e),n=this.startCoords,o=Math.abs(this.prop.min);return n.y>r.y&&Math.abs(r.y-n.y)>=o&&this.callbacks.tbt("up",!1),n.y<r.y&&Math.abs(r.y-n.y)>=o&&this.callbacks.tbt("down",!1),n.x>r.x&&Math.abs(r.x-n.x)>=o&&this.callbacks.tbt("left",!1),n.x<r.x&&Math.abs(r.x-n.x)>=o&&this.callbacks.tbt("right",!1),!0}}])&&mo(t.prototype,r),n&&mo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(no);function To(e){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(e)}function xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(r),!0).forEach((function(t){Fo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Do(){return Do="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Mo(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Do.apply(this,arguments)}function Mo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zo(e)););return e}function Wo(e,t){return Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wo(e,t)}function Io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zo(e);if(t){var o=zo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bo(this,r)}}function Bo(e,t){if(t&&("object"===To(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ao(e)}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zo(e)}function Fo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wo(e,t)}(i,e);var t,r,n,o=Io(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Co(this,i),Fo(Ao(t=o.call(this,e,!1)),"_canvas",void 0),Fo(Ao(t),"_ctx",void 0),Fo(Ao(t),"_width",void 0),Fo(Ao(t),"_height",void 0),Fo(Ao(t),"_dpr",void 0),t._width=0,t._height=0,t._dpr=1;var n=t.prop,s=n.append,c=n.container,a=s&&c?c:void 0;return t._canvas=O("canvas",{parent:a}),t._ctx=t._canvas.getContext("2d"),t.prop.initialResize&&t.resize(),r&&t.init(),t}return t=i,(r=[{key:"container",get:function(){return this.prop.container}},{key:"canvas",get:function(){return this._canvas}},{key:"ctx",get:function(){return this._ctx}},{key:"width",get:function(){return this._width}},{key:"nonDPRWidth",get:function(){return this.width/this.dpr}},{key:"clientWidth",get:function(){return this.width/this.dpr}},{key:"height",get:function(){return this._height}},{key:"nonDPRHeight",get:function(){return this.height/this.dpr}},{key:"clientHeight",get:function(){return this.height/this.dpr}},{key:"dpr",get:function(){return this._dpr}},{key:"canRender",get:function(){return this.width>0&&this.height>0}},{key:"_getDefaultProp",value:function(){return Ro(Ro({},Do(zo(i.prototype),"_getDefaultProp",this).call(this)),{},{container:!1,append:!0,updateOnResize:!1,initialResize:!0,resizeTimeout:0,width:!1,height:!1,dpr:!1})}},{key:"_setEvents",value:function(){var e=this;if(Do(zo(i.prototype),"_setEvents",this).call(this),!1!==this.prop.updateOnResize){var t="boolean"==typeof this.prop.updateOnResize?"":this.prop.updateOnResize;this.addViewportCallback(t,(function(){e.resize()}),{timeout:this.prop.resizeTimeout}),this.resize()}}},{key:"_onPropMutate",value:function(){Do(zo(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"resize",value:function(){var e=this.prop,t=this.canvas;if(t){var r=this._app.viewport;"number"==typeof e.dpr?this._dpr=e.dpr:this._dpr=r.dpr;var n=this._dpr,o=0,i=0;"number"==typeof e.width&&"number"==typeof e.height?(o=e.width,i=e.height):this.container?(o=this.container.clientWidth,i=this.container.clientHeight):(o=r.width,i=r.height),o*=n,i*=n,this._width=o,this._height=i,t.width=o,t.height=i,this.callbacks.tbt("resize",!1)}}},{key:"_destroy",value:function(){Do(zo(i.prototype),"_destroy",this).call(this),this.canvas&&this.canvas.remove()}}])&&Lo(t.prototype,r),n&&Lo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function No(e){const t=function(e){if("container"in e)return{width:e.container.clientWidth,height:e.container.clientHeight};return{width:e.width,height:e.height}}(e),r=function(e){const{source:t}=e;if(e.sourceWidth&&e.sourceHeight)return{width:e.sourceWidth,height:e.sourceHeight};if(t instanceof HTMLVideoElement)return{width:t.videoWidth,height:t.videoHeight};if(t instanceof HTMLImageElement)return{width:t.naturalWidth,height:t.naturalHeight};return{width:t.width,height:t.height}}(e);let n;return"cover"===e.rule?n=function(e,t,r){let n=t.width*Vo(e),o=r.height*n/r.width;o/Vo(e)<t.height&&(o=t.height*Vo(e),n=r.width*o/r.height);const i=(t.width-n)/2,s=(t.height-o)/2;return{width:n,height:o,x:i,y:s}}(e,t,r):"contain"===e.rule?n=function(e,t,r){let n=0,o=0;const i=r.width/r.height;t.width>t.height?(o=t.height,n=o*i,n>t.width&&(n=t.width,o=n/i)):t.height>=t.width&&(n=t.width,o=n/i,o>t.height&&(o=t.height,n=o*i));n*=Vo(e),o*=Vo(e);const s=(t.width-n)/2,c=(t.height-o)/2;return{width:n,height:o,x:s,y:c}}(e,t,r):"top-left"===e.rule?n=function(e,t){const r=t.width*Vo(e),n=t.height*Vo(e);return{width:r,height:n,x:0,y:0}}(e,r):"top-right"===e.rule?n=function(e,t,r){const n=r.width*Vo(e),o=r.height*Vo(e),i=t.width-r.width;return{width:n,height:o,x:i,y:0}}(e,t,r):"bottom-left"===e.rule?n=function(e,t,r){const n=r.width*Vo(e),o=r.height*Vo(e),i=t.height-r.height;return{width:n,height:o,x:0,y:i}}(e,t,r):"bottom-right"===e.rule?n=function(e,t,r){const n=r.width*Vo(e),o=r.height*Vo(e),i=t.width-r.width,s=t.height-r.height;return{width:n,height:o,x:i,y:s}}(e,t,r):"center"===e.rule&&(n=function(e,t,r){const n=r.width*Vo(e),o=r.height*Vo(e),i=(t.width-r.width)/2,s=(t.height-r.height)/2;return{width:n,height:o,x:i,y:s}}(e,t,r)),Object.assign(n,{sourceWidth:r.width,sourceHeight:r.height})}function Vo(e){return void 0!==e.scale?e.scale:1}function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(r),!0).forEach((function(t){$o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jo(){return Jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ko(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Jo.apply(this,arguments)}function Ko(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ti(e)););return e}function Go(e,t){return Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Go(e,t)}function Zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ti(e);if(t){var o=ti(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ei(this,r)}}function ei(e,t){if(t&&("object"===Xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ti(e)}var ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Go(e,t)}(i,e);var t,r,n,o=Zo(i);function i(){return Yo(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Uo(Uo({},Jo(ti(i.prototype),"_getDefaultProp",this).call(this)),{},{media:!1,posRule:"cover"})}},{key:"resize",value:function(){Jo(ti(i.prototype),"resize",this).call(this),this._prerender()}},{key:"_prerender",value:function(){if(0!==this.width&&0!==this.height){var e=this.prop.media;if(e){var t,r,n;e instanceof Ho?(t=e.canvas,r=e.width,n=e.height):t=e;var o=No({source:t,sourceWidth:r,sourceHeight:n,rule:this.prop.posRule,scale:1,width:this.width,height:this.height});this._ctx.clearRect(0,0,this.width,this.height),this._ctx.drawImage(t,o.x,o.y,o.width,o.height),this.callbacks.tbt("prerender",!1)}}}}])&&qo(t.prototype,r),n&&qo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ho);function ni(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ii=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oi(this,"_prop",void 0),oi(this,"_outer",void 0),oi(this,"_thumb",void 0),oi(this,"_outerHeight",void 0),oi(this,"_outerWidth",void 0),oi(this,"_thumbHeight",void 0),oi(this,"_thumbWidth",void 0),oi(this,"_scrollVal",void 0),oi(this,"_coordsAtDragStart",void 0),oi(this,"_listeners",void 0),oi(this,"_scrollEvent",void 0),oi(this,"_actionTimeout",void 0),oi(this,"_dragger",void 0),this._prop=t;var r=t.prefix,n=t.dir,o=t.domParent,i=t.container,s=t.autoHide;this._outerHeight=0,this._outerWidth=0,this._thumbHeight=0,this._thumbWidth=0,this._scrollVal=0,this._coordsAtDragStart={left:0,top:0},this._scrollEvent=void 0,this._actionTimeout=void 0,this._dragger=void 0;var c="".concat(r," ").concat(r,"_").concat(n);i instanceof Window&&(c+=" in-window"),this._outer=O("div",{parent:o,class:c}),this._thumb=O("div",{parent:this._outer,class:"".concat(r,"__thumb ").concat(r,"__thumb_").concat(n)}),s&&this.outer.classList.add("auto-hide"),this._listeners=[],this._setEvents()}var t,r,n;return t=e,(r=[{key:"outer",get:function(){return this._outer}},{key:"thumb",get:function(){return this._thumb}},{key:"prefix",get:function(){return this._prop.prefix}},{key:"isX",get:function(){return"x"===this.prop.dir}},{key:"isY",get:function(){return!this.isX}},{key:"scrollElement",get:function(){return this.prop.container instanceof Window?document.documentElement:this.prop.container}},{key:"scrollLine",get:function(){var e=this.scrollElement;return this.isX?e.scrollWidth-e.clientWidth:e.scrollHeight-e.clientHeight}},{key:"scrollWidth",get:function(){return this.scrollElement.scrollWidth}},{key:"scrollHeight",get:function(){return this.scrollElement.scrollHeight}},{key:"prop",get:function(){return this._prop}},{key:"scrollValues",get:function(){var e=this.prop.container,t=0,r=0;return e instanceof Window?(t=e.pageYOffset,r=e.pageXOffset):e instanceof ze?(t=e.targetTop,r=e.targetLeft):(t=e.scrollTop,r=e.scrollLeft),{left:r,top:t}}},{key:"_setEvents",value:function(){var e=this;this._listeners.push(k(this.outer,"mouseenter",this._handleHover.bind(this,!0))),this._listeners.push(k(this.outer,"mouseleave",this._handleHover.bind(this,!1))),this._scrollEvent=He({container:this.prop.container,callback:function(t){e._handleScroll(t)}}),this.prop.isDraggable&&(this._dragger=new ho({container:this.thumb}),this._dragger.addCallback("start",(function(){e.thumb.classList.add("in-action"),e._disableScrollBehaviour(!0),e._coordsAtDragStart=e.scrollValues})),this._dragger.addCallback("move",(function(t){e._handleThumbDrag(t)})),this._dragger.addCallback("end",(function(){e.thumb.classList.remove("in-action"),e._disableScrollBehaviour(!1)})))}},{key:"_disableScrollBehaviour",value:function(e){var t=e?"auto":"unset";(this.prop.container instanceof Window||this.prop.container instanceof HTMLElement)&&(document.documentElement.style.scrollBehavior=t)}},{key:"_handleHover",value:function(e){this.outer.classList.toggle("is-hovered",e)}},{key:"_handleScroll",value:function(e){var t=this;this.prop.optimizeCalculations||this.resize();var r=!1;this.isX?(r=e.scrollLeft!==this._scrollVal,this._scrollVal=e.scrollLeft):(r=e.scrollTop!==this._scrollVal,this._scrollVal=e.scrollTop),r&&(this.prop.autoHide&&r&&(this.outer.classList.add("in-action"),this._actionTimeout&&(clearTimeout(this._actionTimeout),this._actionTimeout=void 0),this._actionTimeout=setTimeout((function(){t.outer.classList.remove("in-action")}),500)),this.prop.optimizeCalculations&&this._renderThumb())}},{key:"_handleThumbDrag",value:function(e){e.evt.preventDefault();var t=this.prop.container,r=(e.coords.x-e.start.x)/(this._outerWidth-this._thumbWidth)*this.scrollLine,n=(e.coords.y-e.start.y)/(this._outerHeight-this._thumbHeight)*this.scrollLine,o=this._coordsAtDragStart,i=o.left,s=o.top;this.isX?i+=r:s+=n,t.scrollTo({top:s,left:i,behavior:t instanceof ze?this.prop.draggableScrollBehavior:"auto"})}},{key:"_renderThumb",value:function(){var e=ne(this._scrollVal/this.scrollLine,[0,1]),t=this.isX?(this._outerWidth-this._thumbWidth)*e:0,r=this.isY?(this._outerHeight-this._thumbHeight)*e:0;this._thumb.style.transform="translate(".concat(t,"px, ").concat(r,"px)")}},{key:"resize",value:function(){var e=this.outer,t=this.thumb,r=this.scrollLine,n=this.prop.minSize;if(this._outerHeight=e.clientHeight,this._outerWidth=e.clientWidth,this.prop.autoSize)if(this.isX){var o=ne(this._outerWidth/(this.scrollWidth/(this.scrollWidth-r)),[n,1/0]);t.style.width="".concat(o,"px")}else{var i=ne(this._outerHeight/(this.scrollHeight/(this.scrollHeight-r)),[n,1/0]);t.style.height="".concat(i,"px")}this._thumbHeight=t.clientHeight,this._thumbWidth=t.clientWidth,e.classList.toggle("is-empty",0===r),this._renderThumb()}},{key:"destroy",value:function(){this._listeners.forEach((function(e){e.remove()})),this._scrollEvent&&this._scrollEvent.remove(),this._actionTimeout&&clearTimeout(this._actionTimeout),this._dragger&&this._dragger.destroy(),this._outer.remove()}}])&&ni(t.prototype,r),n&&ni(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(r),!0).forEach((function(t){_i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function li(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fi(e,t){return fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fi(e,t)}function pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=bi(e);if(t){var o=bi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return hi(this,r)}}function hi(e,t){if(t&&("object"===si(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yi(){return yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=vi(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},yi.apply(this,arguments)}function vi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bi(e)););return e}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bi(e)}function _i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fi(e,t)}(i,e);var t,r,n,o=pi(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ui(this,i),_i(di(t=o.call(this,e,!1)),"_container",void 0),_i(di(t),"_scrollWrapper",void 0),_i(di(t),"_xBar",void 0),_i(di(t),"_yBar",void 0);var n=t.prop,s=n.autoHide,c=n.autoSize,a=n.minSize,u=n.optimizeCalculations,l=n.isDraggable,f=n.draggableScrollBehavior;if("string"==typeof t.prop.container){var p=g(t.prop.container);if(!p)throw new Error("No scroll container");t._container=p}else t._container=t.prop.container;if(t.container instanceof Element){var h=t.container.parentElement;h&&(t._scrollWrapper=O("div"),t._scrollWrapper.style.position="relative",t._scrollWrapper.style.display="inline-block",h.insertBefore(t._scrollWrapper,t.container),t._scrollWrapper.appendChild(t.container),t._scrollWrapper.classList.add("".concat(t.prefix,"-wrapper")))}var d={container:t.container,domParent:t.domParent,autoHide:s,autoSize:c,minSize:a,optimizeCalculations:u,prefix:t.prefix,isDraggable:l,draggableScrollBehavior:f};return t._xBar=new ii(ai({dir:"x"},d)),t._yBar=new ii(ai({dir:"y"},d)),t.scrollableElement.classList.add("".concat(t.prefix,"-parent")),r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return ai(ai({},yi(bi(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window,domParent:!1,draggable:!0,autoSize:!0,autoHide:!0,minSize:50,optimizeCalculations:!1,resizeTimeout:0,isDraggable:!0,draggableScrollBehavior:"smooth"})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"scrollbar")}},{key:"container",get:function(){return this._container}},{key:"scrollableElement",get:function(){var e=this.container;return e instanceof Window?this._app.body:e instanceof Element?e:e.outer}},{key:"domParent",get:function(){var e=this.prop.domParent,t=this.container;return e||(this._scrollWrapper?this._scrollWrapper:t instanceof Window?this._app.body:t instanceof Element?t:t.outer)}},{key:"_setEvents",value:function(){var e=this;yi(bi(i.prototype),"_setEvents",this).call(this);var t=this.container;t instanceof ze?t.addCallback("resize",(function(){e.resize()}),{name:this.name}):this.addViewportCallback("",(function(){e.resize()}),{timeout:this.prop.resizeTimeout}),this.resize()}},{key:"_onPropMutate",value:function(){yi(bi(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"resize",value:function(){this._xBar.resize(),this._yBar.resize()}},{key:"_destroy",value:function(){if(yi(bi(i.prototype),"_destroy",this).call(this),this._xBar.destroy(),this._yBar.destroy(),this._scrollWrapper&&this.container instanceof Element){var e=this._scrollWrapper.parentElement;e&&e.insertBefore(this.container,this._scrollWrapper),this._scrollWrapper.remove()}this.scrollableElement.classList.remove("".concat(this.prefix,"-parent"))}}])&&li(t.prototype,r),n&&li(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function mi(e){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mi(e)}function wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(r),!0).forEach((function(t){Li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ki(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ji(e,t){return ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ji(e,t)}function Ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ci(e);if(t){var o=Ci(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Si(this,r)}}function Si(e,t){if(t&&("object"===mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ti(e)}function Ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xi(){return xi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ri(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xi.apply(this,arguments)}function Ri(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ci(e)););return e}function Ci(e){return Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ci(e)}function Li(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ji(e,t)}(i,e);var t,r,n,o=Ei(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Pi(this,i),Li(Ti(t=o.call(this,e,!1)),"_scrollContainer",void 0),"string"==typeof t.prop.container?t._scrollContainer=g(t.prop.container):t._scrollContainer=t.prop.container,r&&t.init(),t}return t=i,(r=[{key:"_getDefaultProp",value:function(){return Oi(Oi({},xi(Ci(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window,intersectionRoot:!1})}},{key:"scrollContainer",get:function(){return this._scrollContainer}},{key:"scrollableElement",get:function(){return this._scrollContainer instanceof Window?this._app.html:this._scrollContainer}},{key:"domParent",get:function(){var e=this.scrollContainer;return e instanceof Window?this._app.body:e instanceof Element?e:e.outer}},{key:"intersectionRoot",get:function(){if(!1===this.prop.intersectionRoot){var e=this.scrollContainer;return e instanceof Window?null:e instanceof Element?e:e.outer}return this.prop.intersectionRoot}},{key:"scrollContainerBounding",get:function(){if(this.intersectionRoot){var e=this.intersectionRoot.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:0,left:0,width:this._app.viewport.width,height:this._app.viewport.height}}}])&&ki(t.prototype,r),n&&ki(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function Wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(r),!0).forEach((function(t){Yi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bi(e){return function(e){if(Array.isArray(e))return Ai(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ai(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hi(e,t){return Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hi(e,t)}function Ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$i(e);if(t){var o=$i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Vi(this,r)}}function Vi(e,t){if(t&&("object"===Mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xi(e)}function Xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(){return Qi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ui(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Qi.apply(this,arguments)}function Ui(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$i(e)););return e}function $i(e){return $i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$i(e)}function Yi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hi(e,t)}(i,e);var t,r,n,o=Ni(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return zi(this,i),Yi(Xi(t=o.call(this,e,!1)),"_scrollEvent",void 0),Yi(Xi(t),"_intersectionObserverIn",void 0),Yi(Xi(t),"_intersectionObserverOut",void 0),Yi(Xi(t),"_firstStart",void 0),Yi(Xi(t),"_elements",void 0),t._scrollEvent=void 0,t._intersectionObserverIn=void 0,t._intersectionObserverOut=void 0,t._firstStart=!0,t._elements=Bi(t.prop.elements),r&&t.init(),t}return t=i,r=[{key:"prefix",get:function(){return"".concat(this._app.prefix,"scroll-view")}},{key:"_getDefaultProp",value:function(){return Ii(Ii({},Qi($i(i.prototype),"_getDefaultProp",this).call(this)),{},{enabled:!0,container:window,elements:[],threshold:.9,states:"in",classToToggle:"viewed",useDelay:!1,useIntersectionObserver:!0,viewportTarget:"",resizeTimeout:0})}},{key:"elements",get:function(){return this._elements}},{key:"init",value:function(){Qi($i(i.prototype),"init",this).call(this)}},{key:"_setEvents",value:function(){var e=this;Qi($i(i.prototype),"_setEvents",this).call(this),this.resize(),this.addViewportCallback(this.prop.viewportTarget,(function(){e.resize()}),{timeout:this.prop.resizeTimeout})}},{key:"_onPropMutate",value:function(){Qi($i(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"resize",value:function(){this._removeViewEvents(),this.prop.enabled&&(this._setViewEvents(),this.seekBounding())}},{key:"_setViewEvents",value:function(){var e=this;if(Ne()&&this.prop.useIntersectionObserver){var t=this.scrollContainerBounding,r=this._firstStart?0:t.width*(1-this.prop.threshold)*-1,n=this._firstStart?0:t.height*(1-this.prop.threshold)*-1;this._intersectionObserverIn=new IntersectionObserver(this._handleIntersectionObserverIn.bind(this),{root:this.intersectionRoot,threshold:0,rootMargin:"0px ".concat(r,"px ").concat(n,"px 0px")}),this.elements.forEach((function(t){var r;null===(r=e._intersectionObserverIn)||void 0===r||r.observe(t)})),"inout"===this.prop.states&&(this._intersectionObserverOut=new IntersectionObserver(this._handleIntersectionObserverOut.bind(this),{root:this.intersectionRoot,threshold:0,rootMargin:"0px 0px 0px 0px"}),this.elements.forEach((function(t){var r;null===(r=e._intersectionObserverOut)||void 0===r||r.observe(t)})))}else this._scrollEvent=He({container:this.prop.container,callback:this._handleScroll.bind(this)})}},{key:"_removeViewEvents",value:function(){var e,t;this._scrollEvent&&(this._scrollEvent.remove(),this._scrollEvent=void 0),null===(e=this._intersectionObserverIn)||void 0===e||e.disconnect(),this._intersectionObserverIn=void 0,null===(t=this._intersectionObserverOut)||void 0===t||t.disconnect(),this._intersectionObserverOut=void 0}},{key:"_handleIntersectionObserverIn",value:function(e){for(var t=!!this._firstStart&&this.scrollContainerBounding,r=0;r<e.length;r+=1){var n=e[r],o=0;this._firstStart&&t&&n.isIntersecting&&(o=this._elementInViewportData(n.target,t).delay),n.isIntersecting&&this._handleInOut(n.target,n.isIntersecting,o)}this._processUnusedElements(),this._firstStart&&(this._firstStart=!1,this.resize())}},{key:"_handleIntersectionObserverOut",value:function(e){for(var t=0;t<e.length;t+=1){var r=e[t];r.isIntersecting||this._handleInOut(r.target,r.isIntersecting,0)}}},{key:"_handleScroll",value:function(){this.seekBounding()}},{key:"seekBounding",value:function(){if(!Ne()||!this.prop.useIntersectionObserver){for(var e=this.scrollContainerBounding,t=0;t<this.elements.length;t+=1){var r=this.elements[t],n=this._elementInViewportData(r,e),o=n.isIntersecting?n.delay:0;"boolean"==typeof n.isIntersecting&&this._handleInOut(r,n.isIntersecting,o)}this._processUnusedElements(),this._firstStart&&(this._firstStart=!1)}}},{key:"_elementInViewportData",value:function(e,t){var r,n=this.prop,o=n.threshold,i=n.states,s=n.useDelay,c=this._firstStart?1:o,a=e.getBoundingClientRect();a.top<t.top+t.height*c&&a.left<t.left+t.width*c?r="in"===i||!(a.right<t.left*c||a.bottom<t.top*c):(a.top>t.top+t.height||a.left>t.left+t.width)&&(r=!1);var u=0;return s&&this._firstStart&&(u=ne("x"===s.dir?(a.left-t.left)/t.width:(a.top-t.top)/t.height,[0,1])*s.max),{isIntersecting:r,delay:u}}},{key:"_handleInOut",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.prop.states;e.scrollViewIn&&t||!e.scrollViewIn&&!t||(e.scrollViewIn=t,this.prop.classToToggle&&d((function(){e.classList.toggle(r.prop.classToToggle,t)}),n),!t||"in"!==o&&"inout"!==o?t||"inout"!==o||d((function(){r.callbacks.tbt("out",e)}),n):d((function(){r.callbacks.tbt("in",e)}),n))}},{key:"_processUnusedElements",value:function(){var e=this;"in"===this.prop.states&&(this._elements.filter((function(e){return e.scrollViewIn})).forEach((function(t){var r,n;null===(r=e._intersectionObserverIn)||void 0===r||r.unobserve(t),null===(n=e._intersectionObserverOut)||void 0===n||n.unobserve(t)})),this._elements=this._elements.filter((function(e){return!e.scrollViewIn})))}},{key:"addElement",value:function(e){var t,r,n=this;return e.scrollViewIn=void 0,this._elements.push(e),null===(t=this._intersectionObserverIn)||void 0===t||t.observe(e),null===(r=this._intersectionObserverOut)||void 0===r||r.observe(e),this.prop.enabled&&this.seekBounding(),{remove:function(){n.removeElement(e)}}}},{key:"removeElement",value:function(e){var t,r;e.scrollViewIn=void 0,this._elements=this._elements.filter((function(t){return t!==e})),null===(t=this._intersectionObserverIn)||void 0===t||t.unobserve(e),null===(r=this._intersectionObserverOut)||void 0===r||r.unobserve(e)}},{key:"removeElements",value:function(){var e=this;this._elements.forEach((function(t){e.removeElement(t)})),this._elements=[]}},{key:"_destroy",value:function(){Qi($i(i.prototype),"_destroy",this).call(this),this._removeViewEvents()}}],r&&Fi(t.prototype,r),n&&Fi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Di);function Ji(e){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(e)}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zi(){return Zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=es(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Zi.apply(this,arguments)}function es(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=os(e)););return e}function ts(e,t){return ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ts(e,t)}function rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=os(e);if(t){var o=os(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ns(this,r)}}function ns(e,t){if(t&&("object"===Ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},os(e)}var is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ts(e,t)}(i,e);var t,r,n,o=rs(i);function i(){return Ki(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"_setEvents",value:function(){var e=this;Zi(os(i.prototype),"_setEvents",this).call(this),this.addEventListeners(window,"keydown",(function(t){e._handleKeydown(t)}))}},{key:"_handleKeydown",value:function(e){var t=this._component;if(t.prop.enabled)if(9!==e.keyCode){var r=document.activeElement;if(!r||!(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)){var n=this._app.viewport,o=t.outer.getBoundingClientRect();if(o.left<n.width&&o.right>0&&o.top<n.height&&o.bottom>0){var i=40;switch(e.keyCode){case 38:t.targetTop-=i;break;case 40:t.targetTop+=i;break;case 39:t.targetLeft+=i;break;case 37:t.targetLeft-=i;break;case 34:t.targetTop+=400;break;case 33:t.targetTop-=400;break;case 36:t.targetTop=0,t.targetLeft=0;break;case 35:t.targetTop=t.scrollHeight,t.targetLeft=t.scrollWidth;break;case 32:t.targetTop+=200}}}}else this._handleTab()}},{key:"_handleTab",value:function(){var e=this;d((function(){var t=e._component,r=document.activeElement;if(r instanceof HTMLElement&&y(r,t.outer)){var n=t.outer.getBoundingClientRect(),o=r.getBoundingClientRect(),i=t.scrollTop+(o.top-n.top)-(t.clientHeight/2-o.height/2),s=t.scrollLeft+(o.left-n.left)-(t.clientWidth/2-o.width/2);t.targetTop=i,t.targetLeft=s}}),120)}}])&&Gi(t.prototype,r),n&&Gi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Fr);function ss(e){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(e)}function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(r),!0).forEach((function(t){bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function us(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ls(e,t){return ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ls(e,t)}function fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vs(e);if(t){var o=vs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ps(this,r)}}function ps(e,t){if(t&&("object"===ss(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hs(e)}function hs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ds(){return ds="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=ys(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},ds.apply(this,arguments)}function ys(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vs(e)););return e}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vs(e)}function bs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _s="is-dragging",gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ls(e,t)}(i,e);var t,r,n,o=fs(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),bs(hs(t=o.call(this,e)),"_dragger",void 0),bs(hs(t),"_componentEvents",void 0),bs(hs(t),"_currentLerp",void 0),t._dragger=void 0,t._componentEvents=[],t._currentLerp=!1,t}return t=i,r=[{key:"_getDefaultProp",value:function(){return as(as({},ds(vs(i.prototype),"_getDefaultProp",this).call(this)),{},{enabled:!0,speed:1,lerp:!1,reverseDir:!1,stopPropagation:!1})}},{key:"isDragging",get:function(){return!!this._dragger&&this._dragger.isDragging}},{key:"_constructor",value:function(){ds(vs(i.prototype),"_constructor",this).call(this),this._toggleDragger()}},{key:"_onPropMutate",value:function(){ds(vs(i.prototype),"_onPropMutate",this).call(this),this._toggleDragger()}},{key:"_toggleDragger",value:function(){this.prop.enabled?this._addDragger():this._removeDragger()}},{key:"_addDragger",value:function(){var e=this;if(!this._dragger){var t=this.component;this._dragger=new ho({container:t.outer}),this._dragger.addCallback("start",this._handleDragStart.bind(this)),this._dragger.addCallback("move",(function(t){e._handleDragMove(t)})),this._dragger.addCallback("end",this._handleDragEnd.bind(this)),this._componentEvents.push(t.addCallback("wheel",(function(){var t;null===(t=e._dragger)||void 0===t||t.cancel()})))}}},{key:"_removeDragger",value:function(){this._dragger&&(this._dragger.destroy(),this._dragger=void 0,this._componentEvents.forEach((function(e){e.remove()})),this._componentEvents=[])}},{key:"_handleDragStart",value:function(){var e=this.component;if(e.prop.enabled&&!(e.maxScrollableWidth<=0&&e.maxScrollableHeight<=0)){var t=this.prop.lerp;"boolean"!=typeof t&&(this._currentLerp=e.prop.render.lerp,e.changeProp({render:{lerp:t}})),this._callbacks.tbt("start",!1)}}},{key:"_handleDragMove",value:function(e){var t=this.component;if(t.prop.enabled&&!(t.maxScrollableWidth<=0&&t.maxScrollableHeight<=0)){var r=e.evt,n=this.prop.stopPropagation;if(n){if(!r.cancelable)return;var o=Math.abs(e.coords.x-e.start.x),i=Math.abs(e.coords.y-e.start.y);(o>n.threshold&&"x"===n.dir||i>n.threshold&&"y"===n.dir)&&r.cancelable&&(r.preventDefault(),r.stopPropagation())}var s=this.prop,c=s.speed,a=s.reverseDir,u=e.step.x*c,l=e.step.y*c;t.targetLeft-=a?l:u,t.targetTop-=a?u:l,t.outer.classList.add(_s),t.container.classList.add(_s),this._callbacks.tbt("move",!1)}}},{key:"_handleDragEnd",value:function(){var e=this.component;e.outer.classList.remove(_s),e.container.classList.remove(_s),"boolean"!=typeof this._currentLerp&&(e.changeProp({render:{lerp:this._currentLerp}}),this._currentLerp=!1),this._callbacks.tbt("end",!1)}},{key:"_destroy",value:function(){ds(vs(i.prototype),"_destroy",this).call(this),this._removeDragger()}}],r&&us(t.prototype,r),n&&us(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Fr);function ms(e){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(e)}function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(r),!0).forEach((function(t){Ls(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ks(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function js(e,t){return js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},js(e,t)}function Es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Cs(e);if(t){var o=Cs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ss(this,r)}}function Ss(e,t){if(t&&("object"===ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ts(e)}function Ts(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xs(){return xs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Rs(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},xs.apply(this,arguments)}function Rs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cs(e)););return e}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cs(e)}function Ls(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&js(e,t)}(i,e);var t,r,n,o=Es(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ps(this,i),Ls(Ts(t=o.call(this,e,!1)),"_scrollContainer",void 0),Ls(Ts(t),"_section",void 0),Ls(Ts(t),"_scrollEvent",void 0),Ls(Ts(t),"_loadedEvent",void 0),Ls(Ts(t),"_scopeScroll",void 0),Ls(Ts(t),"_scopeIn",void 0),Ls(Ts(t),"_scopeMove",void 0),Ls(Ts(t),"_scopeOut",void 0),Ls(Ts(t),"_progress",void 0),"string"==typeof t.prop.container?t._scrollContainer=g(t.prop.container):t._scrollContainer=t.prop.container,"string"==typeof t.prop.section?t._section=g(t.prop.section):t._section=t.prop.section,t._progress=-.001,t._scopeScroll=[0,0],t._scopeIn=[0,0],t._scopeMove=[0,0],t._scopeOut=[0,0],r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return Os(Os({},xs(Cs(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window,viewportTarget:"",resizeTimeout:0})}},{key:"scrollContainer",get:function(){return this._scrollContainer}},{key:"section",get:function(){return this._section}},{key:"scopeScroll",get:function(){return this._scopeScroll}},{key:"scopeIn",get:function(){return this._scopeIn}},{key:"scopeMove",get:function(){return this._scopeMove}},{key:"scopeOut",get:function(){return this._scopeOut}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e}},{key:"init",value:function(){xs(Cs(i.prototype),"init",this).call(this)}},{key:"_setEvents",value:function(){var e=this;xs(Cs(i.prototype),"_setEvents",this).call(this),this.addViewportCallback(this.prop.viewportTarget,(function(){e.resize()}),{timeout:this.prop.resizeTimeout}),this._loadedEvent=this._app.onPageLoaded(),this._loadedEvent.then((function(){e.resize()})).catch((function(){})),this._scrollEvent=He({container:this.prop.container,callback:this._handleScroll.bind(this)})}},{key:"_onPropMutate",value:function(){xs(Cs(i.prototype),"_onPropMutate",this).call(this),this.resize()}},{key:"progressIn",get:function(){return ae(this.progress,this.scopeIn)||0}},{key:"progressOut",get:function(){return ae(this.progress,this.scopeOut)||0}},{key:"progressMove",get:function(){return ae(this.progress,this.scopeMove)||0}},{key:"_handleScroll",value:function(){var e=Ve(this.scrollContainer);e&&this._render(e)}},{key:"resize",value:function(){var e=Ve(this.scrollContainer);if(e){var t=this.section.getBoundingClientRect(),r=this._app.viewport.height,n=e.scrollTop+t.top-r,o=e.scrollTop+t.top+t.height,i=o-n;this._scopeScroll=[n,o],this._scopeIn=[0,r/i],this._scopeOut=[1-r/i,1],this._scopeMove=[this._scopeIn[1],this._scopeOut[0]],this.callbacks.tbt("resize",!1),this._render(e,!0)}}},{key:"_render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._canRender(e,t);r&&this.callbacks.tbt("render",!1)}},{key:"_canRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;var r=e.scrollTop,n=this.progress,o=ae(r,[this._scopeScroll[0],this._scopeScroll[1]])||0;return this.progress=o,t||o!==n}},{key:"_destroy",value:function(){var e,t;xs(Cs(i.prototype),"_destroy",this).call(this),null===(e=this._scrollEvent)||void 0===e||e.remove(),null===(t=this._loadedEvent)||void 0===t||t.cancel()}}],r&&ks(t.prototype,r),n&&ks(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function Ms(e){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(e)}function Ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(r),!0).forEach((function(t){Us(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ws(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function As(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zs(e,t){return zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zs(e,t)}function Fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qs(e);if(t){var o=Qs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hs(this,r)}}function Hs(e,t){if(t&&("object"===Ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ns(e)}function Ns(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vs(){return Vs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Xs(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Vs.apply(this,arguments)}function Xs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Qs(e)););return e}function Qs(e){return Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qs(e)}function Us(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zs(e,t)}(i,e);var t,r,n,o=Fs(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Bs(this,i),Us(Ns(t=o.call(this,e,!1)),"_initText",void 0),Us(Ns(t),"_initHTML",void 0),Us(Ns(t),"_isPrimarySplit",void 0),Us(Ns(t),"_container",void 0),Us(Ns(t),"_letters",void 0),Us(Ns(t),"_words",void 0),Us(Ns(t),"_lines",void 0),t.prop.container){var n=g(t.prop.container);n instanceof HTMLElement&&(t._container=n)}t._container.translate=!1,t._container&&t._container.classList.add(t.prefix),t._initHTML=t._container.innerHTML;var s=t._container[t.prop.textSource].trim();return t._initText=s||"no rendered text",t._initText=t._initText.replace(/\s+\n/gm,"\n"),t._initText=t._initText.replace(/<br>/gm,String.fromCharCode(10)),t._initText=t._initText.replace(/<br\/>/gm,String.fromCharCode(10)),t._initText=t._initText.replace(/<br \/>/gm,String.fromCharCode(10)),t._container.ariaLabel=t._initText,t._isPrimarySplit=!1,t._letters=[],t._words=[],t._lines=[],r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return Is(Is({},Vs(Qs(i.prototype),"_getDefaultProp",this).call(this)),{},{container:"#".concat(this.prefix),textSource:"innerText",appendLetters:!0,appendLines:!1,viewportTarget:"",resizeTimeout:0})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"split-text")}},{key:"container",get:function(){return this._container}},{key:"letters",get:function(){return this._letters}},{key:"words",get:function(){return this._words}},{key:"lines",get:function(){return this._lines}},{key:"_setEvents",value:function(){var e=this;Vs(Qs(i.prototype),"_setEvents",this).call(this),this.splitText(),this.prop.appendLines&&this.addViewportCallback(this.prop.viewportTarget,(function(){e.splitText()}),{timeout:this.prop.resizeTimeout})}},{key:"splitText",value:function(){this._isPrimarySplit||(this.container.innerHTML="",this._splitIntoWords(),this._splitIntoLetters(),this._appendWords(),this._isPrimarySplit=!0),this.prop.appendLines&&this._splitIntoLines(),this.callbacks.tbt("split",!1)}},{key:"_splitIntoWords",value:function(){var e,t=this,r=this._initText.split(""),n=0;r.forEach((function(e){var r=t._words[n]||{content:"",hasNewLine:!1,el:O("span",{class:"".concat(t.prefix,"__word"),attr:[["aria-hidden","true"]]}),letters:[]};r.el.style.display="inline-block",t._words[n]=r;var o=e.charCodeAt(0),i=32===o||160===o,s=[45,8208,8211,8212,8722].includes(o),c=10===o;i&&(r.whitespace=document.createTextNode(" ")),c&&(r.br=O("br")),r.hasNewLine=c,i||c?n+=1:(r.content+=e,t.prop.appendLetters||(r.el.innerHTML=r.content),s&&(n+=1))})),this._words=this._words.filter((function(e,r){return 0!==e.content.length||(r>0&&(t._words[r-1].whitespace=e.whitespace,t._words[r-1].br=e.br),!1)})),this._words.forEach((function(t){e&&e.whitespace&&t.el.classList.add("pre-whitespace"),t.whitespace&&t.el.classList.add("has-whitespace"),e=t}))}},{key:"_appendWords",value:function(){var e=this;this._words.forEach((function(t){e.container.appendChild(t.el),t.whitespace&&e.container.appendChild(t.whitespace),t.br&&e.container.appendChild(t.br)}))}},{key:"_removeWords",value:function(){this._words.forEach((function(e){e.el.remove(),e.whitespace&&e.whitespace.remove(),e.br&&e.br.remove()}))}},{key:"_splitIntoLetters",value:function(){var e=this;this.prop.appendLetters&&(this._words.forEach((function(t){var r=t.content.split(""),n=[];r.forEach((function(r){var o={el:O("span",{class:"".concat(e.prefix,"__letter"),html:r,attr:[["aria-hidden","true"]]}),content:r,word:t};o.el.style.display="inline-block",e._letters.push(o),n.push(o)})),t.letters=n})),this._letters.forEach((function(e){e.word.el.appendChild(e.el)})))}},{key:"_splitIntoLines",value:function(){var e=this;this._removeLines();var t=!1,r=1/0,n=!1;this.words.forEach((function(o){var i=!1,s=o.el.offsetTop;i=!(!n||!n.br)||s!==r,n=o,r=s,i&&((t={el:O("span",{class:"".concat(e.prefix,"__line"),attr:[["aria-hidden","true"]]}),content:"",words:[]}).el.style.display="block",e._lines.push(t)),t&&t.words.push(o)})),this._lines.forEach((function(e){e.content=e.words.map((function(e){return e.content})).join(" ")})),this._lines.forEach((function(t){t.words.forEach((function(e){t.el.appendChild(e.el),e.br&&e.br.remove(),e.whitespace&&t.el.appendChild(e.whitespace)})),e.container.appendChild(t.el)}))}},{key:"_removeLines",value:function(){this._lines.forEach((function(e){e.el.remove()})),this._lines=[],this._appendWords()}},{key:"_destroy",value:function(){Vs(Qs(i.prototype),"_destroy",this).call(this),this._lines=[],this._words=[],this._letters=[],this._container.innerHTML=this._initHTML}}],r&&As(t.prototype,r),n&&As(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re);function Ys(e){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(e)}function qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(r),!0).forEach((function(t){sc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zs(e,t){return Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zs(e,t)}function ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ic(e);if(t){var o=ic(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tc(this,r)}}function tc(e,t){if(t&&("object"===Ys(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rc(e)}function rc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nc(){return nc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=oc(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},nc.apply(this,arguments)}function oc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ic(e)););return e}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ic(e)}function sc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zs(e,t)}(i,e);var t,r,n,o=ec(i);function i(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ks(this,i),sc(rc(t=o.call(this,e,!1)),"_container",void 0),sc(rc(t),"_containerIsWindow",void 0),sc(rc(t),"_outerCursor",void 0),sc(rc(t),"_innerCursor",void 0),sc(rc(t),"_hoveredEl",void 0),sc(rc(t),"_animationFrame",void 0),sc(rc(t),"_currentFPS",void 0),sc(rc(t),"_canPlay",void 0),sc(rc(t),"_coords",void 0),sc(rc(t),"_targetCoords",void 0);var n=g(t.prop.container);if(!n)throw new Error("No cursor container for ".concat(t.prop.container));return t._container=n,t._containerIsWindow=n instanceof Window,t._coords={x:0,y:0,w:0,h:0},t._targetCoords={x:0,y:0,w:0,h:0},t._currentFPS=60,t._canPlay=t.prop.run,r&&t.init(),t}return t=i,r=[{key:"_getDefaultProp",value:function(){return Js(Js({},nc(ic(i.prototype),"_getDefaultProp",this).call(this)),{},{container:window,run:!0,hideNativeCursor:!1,size:{width:50,height:50},render:{lerp:.2,lerpToFixed:2,normalizeLerp:!1},hover:{sticky:!1,autoSize:!1},autoStop:!0})}},{key:"prefix",get:function(){return"".concat(this._app.prefix,"custom-cursor")}},{key:"container",get:function(){return this._container}},{key:"eventsContainer",get:function(){return this._container}},{key:"domContainer",get:function(){return this.container instanceof Window?this._app.html:this.container}},{key:"outerCursor",get:function(){return this._outerCursor}},{key:"innerCursor",get:function(){return this._innerCursor}},{key:"hoveredEl",get:function(){return this._hoveredEl},set:function(e){this._hoveredEl=e}},{key:"coords",get:function(){return this._coords}},{key:"targetCoords",get:function(){var e=this.hoveredEl,t=this.prop,r=t.size,n=this._targetCoords.x,o=this._targetCoords.y,i=r.width,s=r.height,c=0;if(e){var a,u,l,f=e.el.getBoundingClientRect();t.hover.sticky&&(n=f.left+f.width/2,o=f.top+f.height/2),t.hover.autoSize&&(i=(null===(a=this.hoveredEl)||void 0===a?void 0:a.width)||f.width,s=(null===(u=this.hoveredEl)||void 0===u?void 0:u.height)||f.height,c=(null===(l=this.hoveredEl)||void 0===l?void 0:l.padding)||0)}return{x:n,y:o,w:i+=2*c,h:s+=2*c}}},{key:"_constructor",value:function(){nc(ic(i.prototype),"_constructor",this).call(this),this._createCursor()}},{key:"_setEvents",value:function(){var e=this;nc(ic(i.prototype),"_setEvents",this).call(this);var t=this.domContainer;this._animationFrame=new je,this._animationFrame.addCallback("frame",(function(t){e._currentFPS=t.realFPS,e.render()})),this._canPlay&&this.enable(),this.addEventListeners(t,"mouseenter",this._handleMouseEnter.bind(this)),this.addEventListeners(t,"mouseleave",this._handleMouseLeave.bind(this)),this.addEventListeners(t,"mousemove",this._handleMouseMove.bind(this)),this.addEventListeners(t,"mousedown",this._handleMouseDown.bind(this)),this.addEventListeners(t,"mouseup",this._handleMouseUp.bind(this)),this.addEventListeners(window,"blur",this._handleWindowBlur.bind(this))}},{key:"addHoverEl",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=e.el,i=k(o,"mouseenter",(function(){t=d((function(){r.hoveredEl=Js({},e)}),n)})),s=k(o,"mouseleave",(function(){r.hoveredEl=void 0,t&&t.clear()}));return{remove:function(){var e,n;(null===(e=r.hoveredEl)||void 0===e?void 0:e.el)===o&&(r.hoveredEl=void 0),i.remove(),s.remove(),null===(n=t)||void 0===n||n.clear()}}}},{key:"_createCursor",value:function(){var e=this.prefix,t=this.container,r=this.domContainer;this.prop.hideNativeCursor&&(r.style.cursor="none",r.classList.add("hide-defaut-cursor")),r.classList.add("".concat(e,"-container")),this._outerCursor=O("div",{class:"".concat(e," ").concat(t instanceof Window?"in-window":"in-element"," disabled"),parent:r}),this._innerCursor=O("div",{class:"".concat(e,"__inner disabled"),parent:this._outerCursor}),this.callbacks.tbt("create",{outerCursor:this.outerCursor,innerCursor:this.innerCursor})}},{key:"_destroyCursor",value:function(){var e=this.prefix,t=this.domContainer;t.style.cursor="",t.classList.remove("hide-defaut-cursor"),t.classList.remove("".concat(e,"-container")),this._outerCursor.remove(),this._innerCursor.remove()}},{key:"_handleMouseEnter",value:function(e){this._coords.x=e.clientX,this._coords.y=e.clientY,this._targetCoords.x=e.clientX,this._targetCoords.y=e.clientY,this.outerCursor.classList.add("in-action")}},{key:"_handleMouseLeave",value:function(){this.outerCursor.classList.remove("in-action")}},{key:"_handleMouseMove",value:function(e){this._targetCoords.x=e.clientX,this._targetCoords.y=e.clientY,this.outerCursor.classList.add("in-action"),this._canPlay&&this._animationFrame.play()}},{key:"_handleMouseDown",value:function(e){1===e.which&&(this.outerCursor.classList.add("click"),this.innerCursor.classList.add("click"))}},{key:"_handleMouseUp",value:function(){this.outerCursor.classList.remove("click"),this.innerCursor.classList.remove("click")}},{key:"_handleWindowBlur",value:function(){this._handleMouseUp()}},{key:"render",value:function(){var e=this.prop,t=this.targetCoords;this._calcCoords();var r=this._renderElements();e.autoStop&&this.coords.x===t.x&&this.coords.y===t.y&&this.coords.w===t.w&&this.coords.h===t.h&&this._animationFrame.pause(),this._callbacks.tbt("render",r)}},{key:"_calcCoords",value:function(){this._coords.x=this._lerp(this._coords.x,this.targetCoords.x),this._coords.y=this._lerp(this._coords.y,this.targetCoords.y),this._coords.w=this._lerp(this._coords.w,this.targetCoords.w),this._coords.h=this._lerp(this._coords.h,this.targetCoords.h)}},{key:"_lerp",value:function(e,t){var r=this.prop.render,n=r.normalizeLerp,o=r.lerp,i=r.lerpToFixed,s=oe(e,t,o*(n?60/this._currentFPS:1),.02);if("number"==typeof i){var c=Math.round(Math.abs(i));s=parseFloat(s.toFixed(c))}return s}},{key:"_renderElements",value:function(){var e=this.domContainer,t=this.outerCursor,r=this.coords,n=r.x,o=r.y,i=this.coords,s=i.w,c=i.h;if(!this._containerIsWindow){var a=e.getBoundingClientRect();n-=a.left,o-=a.top}return t.style.transform="translate(".concat(n,"px, ").concat(o,"px)"),t.style.setProperty("--cursor-w","".concat(s,"px")),t.style.setProperty("--cursor-h","".concat(c,"px")),{x:n,y:o,w:s,h:c}}},{key:"enable",value:function(){this._canPlay=!0,this.outerCursor.classList.remove("disabled"),this.innerCursor.classList.remove("disabled"),this._animationFrame.play()}},{key:"disable",value:function(){this._canPlay=!1,this.outerCursor.classList.add("disabled"),this.innerCursor.classList.add("disabled"),this._animationFrame.pause()}},{key:"_destroy",value:function(){nc(ic(i.prototype),"_destroy",this).call(this),this._destroyCursor(),this._animationFrame.destroy()}}],r&&Gs(t.prototype,r),n&&Gs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(re),ac={common:n,listeners:i,math:o,scroll:s,image:c}},286:(e,t,r)=>{"use strict";function n(e,t){const[r,n,i,s]=t;if(r===n&&i===s)return e;const c=[];for(let a=0;a<11;++a)c[a]=o(.1*a,r,i);return 0===e?0:1===e?1:o(function(e,t,r){const n=e[0],i=e[2];let s=0,c=1;for(;10!==c&&r[c]<=t;++c)s+=.1;--c;const u=(t-r[c])/(r[c+1]-r[c]),l=s+.1*u,f=a(l,n,i);if(f>=.001)return function(e,t,r,n){for(let i=0;i<4;++i){const i=a(t,r,n);if(0===i)return t;t-=(o(t,r,n)-e)/i}return t}(t,l,n,i);if(0===f)return l;return function(e,t,r,n,i){let s,c,a=0;do{c=t+(r-t)/2,s=o(c,n,i)-e,s>0?r=c:t=c}while(Math.abs(s)>1e-7&&++a<10);return c}(t,s,s+.1,n,i)}(t,e,c),n,s)}function o(e,t,r){return((i(t,r)*e+s(t,r))*e+c(t))*e}function i(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function c(e){return 3*e}function a(e,t,r){return 3*i(t,r)*e*e+2*s(t,r)*e+c(t)}var u;function l(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375}function f(e,t){switch(t){case u.easeInSine:return r=e,1-Math.cos(r*Math.PI/2);case u.easeOutSine:return function(e){return Math.sin(e*Math.PI/2)}(e);case u.easeInOutSine:return function(e){return-(Math.cos(Math.PI*e)-1)/2}(e);case u.easeInQuad:return function(e){return Math.pow(e,2)}(e);case u.easeOutQuad:return function(e){return 1-Math.pow(1-e,2)}(e);case u.easeInOutQuad:return function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}(e);case u.easeInCubic:return function(e){return Math.pow(e,3)}(e);case u.easeOutCubic:return function(e){return 1-Math.pow(1-e,3)}(e);case u.easeInOutCubic:return function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}(e);case u.easeInQuart:return function(e){return Math.pow(e,4)}(e);case u.easeOutQuart:return function(e){return 1-Math.pow(1-e,4)}(e);case u.easeInOutQuart:return function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2}(e);case u.easeInQuint:return function(e){return Math.pow(e,5)}(e);case u.easeOutQuint:return function(e){return 1-Math.pow(1-e,5)}(e);case u.easeInOutQuint:return function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}(e);case u.easeInExpo:return function(e){return 0===e?0:Math.pow(2,10*e-10)}(e);case u.easeOutExpo:return function(e){return 1===e?1:1-Math.pow(2,-10*e)}(e);case u.easeInOutExpo:return function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}(e);case u.easeInCirc:return function(e){return 1-Math.sqrt(1-Math.pow(e,2))}(e);case u.easeOutCirc:return function(e){return Math.sqrt(1-Math.pow(e-1,2))}(e);case u.easeInOutCirc:return function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}(e);case u.easeInBack:return function(e){return 2.70158*e*e*e-1.70158*e*e}(e);case u.easeOutBack:return function(e){const t=1.70158;return 1+2.70158*Math.pow(e-1,3)+t*Math.pow(e-1,2)}(e);case u.easeInOutBack:return function(e){const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2}(e);case u.easeInElastic:return function(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)}(e);case u.easeOutElastic:return function(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}(e);case u.easeInOutElastic:return function(e){const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}(e);case u.easeInBounce:return function(e){return 1-l(1-e)}(e);case u.easeOutBounce:return l(e);case u.easeInOutBounce:return function(e){return e<.5?(1-l(1-2*e))/2:(1+l(2*e-1))/2}(e);default:return e}var r}function p(e,t=!1){return t?Array.isArray(t)?n(e,t):"function"==typeof t?t(e):f(e,t):e}r.d(t,{o:()=>u,Z:()=>p}),function(e){e.easeInSine="easeInSine",e.easeOutSine="easeOutSine",e.easeInOutSine="easeInOutSine",e.easeInQuad="easeInQuad",e.easeOutQuad="easeOutQuad",e.easeInOutQuad="easeInOutQuad",e.easeInCubic="easeInCubic",e.easeOutCubic="easeOutCubic",e.easeInOutCubic="easeInOutCubic",e.easeInQuart="easeInQuart",e.easeOutQuart="easeOutQuart",e.easeInOutQuart="easeInOutQuart",e.easeInQuint="easeInQuint",e.easeOutQuint="easeOutQuint",e.easeInOutQuint="easeInOutQuint",e.easeInExpo="easeInExpo",e.easeOutExpo="easeOutExpo",e.easeInOutExpo="easeInOutExpo",e.easeInCirc="easeInCirc",e.easeOutCirc="easeOutCirc",e.easeInOutCirc="easeInOutCirc",e.easeInBack="easeInBack",e.easeOutBack="easeOutBack",e.easeInOutBack="easeInOutBack",e.easeInElastic="easeInElastic",e.easeOutElastic="easeOutElastic",e.easeInOutElastic="easeInOutElastic",e.easeInBounce="easeInBounce",e.easeOutBounce="easeOutBounce",e.easeInOutBounce="easeInOutBounce"}(u||(u={}))},554:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Function]",c="[object Object]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[s]=l["[object Map]"]=l["[object Number]"]=l[c]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,p="object"==typeof self&&self&&self.Object===Object&&self,h=f||p||Function("return this")(),d=t&&!t.nodeType&&t,y=d&&e&&!e.nodeType&&e,v=y&&y.exports===d,b=v&&f.process,_=function(){try{var e=y&&y.require&&y.require("util").types;return e||b&&b.binding&&b.binding("util")}catch(t){}}(),g=_&&_.isTypedArray;function m(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var w,O,P,k=Array.prototype,j=Function.prototype,E=Object.prototype,S=h["__core-js_shared__"],T=j.toString,x=E.hasOwnProperty,R=(w=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",C=E.toString,L=T.call(Object),D=RegExp("^"+T.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=v?h.Buffer:void 0,W=h.Symbol,I=h.Uint8Array,B=M?M.allocUnsafe:void 0,A=(O=Object.getPrototypeOf,P=Object,function(e){return O(P(e))}),z=Object.create,F=E.propertyIsEnumerable,H=k.splice,N=W?W.toStringTag:void 0,V=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),X=M?M.isBuffer:void 0,Q=Math.max,U=Date.now,$=ye(h,"Map"),Y=ye(Object,"create"),q=function(){function e(){}return function(t){if(!Se(t))return{};if(z)return z(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function J(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function G(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=this.__data__=new K(e);this.size=t.size}function ee(e,t){var r=Oe(e),n=!r&&we(e),o=!r&&!n&&ke(e),i=!r&&!n&&!o&&xe(e),s=r||n||o||i,c=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],a=c.length;for(var u in e)!t&&!x.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ve(u,a))||c.push(u);return c}function te(e,t,r){(void 0!==r&&!me(e[t],r)||void 0===r&&!(t in e))&&oe(e,t,r)}function re(e,t,r){var n=e[t];x.call(e,t)&&me(n,r)&&(void 0!==r||t in e)||oe(e,t,r)}function ne(e,t){for(var r=e.length;r--;)if(me(e[r][0],t))return r;return-1}function oe(e,t,r){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}J.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(Y){var r=t[e];return r===n?void 0:r}return x.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:x.call(t,e)},J.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Y&&void 0===t?n:t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,r=ne(t,e);return!(r<0)&&(r==t.length-1?t.pop():H.call(t,r,1),--this.size,!0)},K.prototype.get=function(e){var t=this.__data__,r=ne(t,e);return r<0?void 0:t[r][1]},K.prototype.has=function(e){return ne(this.__data__,e)>-1},K.prototype.set=function(e,t){var r=this.__data__,n=ne(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},G.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new($||K),string:new J}},G.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},G.prototype.get=function(e){return de(this,e).get(e)},G.prototype.has=function(e){return de(this,e).has(e)},G.prototype.set=function(e,t){var r=de(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new K,this.size=0},Z.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Z.prototype.get=function(e){return this.__data__.get(e)},Z.prototype.has=function(e){return this.__data__.has(e)},Z.prototype.set=function(e,t){var r=this.__data__;if(r instanceof K){var n=r.__data__;if(!$||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new G(n)}return r.set(e,t),this.size=r.size,this};var ie,se=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),s=i.length;s--;){var c=i[ie?s:++n];if(!1===t(o[c],c,o))break}return e};function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":N&&N in Object(e)?function(e){var t=x.call(e,N),r=e[N];try{e[N]=void 0;var n=!0}catch(i){}var o=C.call(e);n&&(t?e[N]=r:delete e[N]);return o}(e):function(e){return C.call(e)}(e)}function ae(e){return Te(e)&&ce(e)==i}function ue(e){return!(!Se(e)||function(e){return!!R&&R in e}(e))&&(je(e)?D:a).test(function(e){if(null!=e){try{return T.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function le(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=be(e),r=[];for(var n in e)("constructor"!=n||!t&&x.call(e,n))&&r.push(n);return r}function fe(e,t,r,n,o){e!==t&&se(t,(function(i,s){if(o||(o=new Z),Se(i))!function(e,t,r,n,o,i,s){var a=_e(e,r),u=_e(t,r),l=s.get(u);if(l)return void te(e,r,l);var f=i?i(a,u,r+"",e,t,s):void 0,p=void 0===f;if(p){var h=Oe(u),d=!h&&ke(u),y=!h&&!d&&xe(u);f=u,h||d||y?Oe(a)?f=a:Te(m=a)&&Pe(m)?f=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(a):d?(p=!1,f=function(e,t){if(t)return e.slice();var r=e.length,n=B?B(r):new e.constructor(r);return e.copy(n),n}(u,!0)):y?(p=!1,v=u,b=!0?(_=v.buffer,g=new _.constructor(_.byteLength),new I(g).set(new I(_)),g):v.buffer,f=new v.constructor(b,v.byteOffset,v.length)):f=[]:function(e){if(!Te(e)||ce(e)!=c)return!1;var t=A(e);if(null===t)return!0;var r=x.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&T.call(r)==L}(u)||we(u)?(f=a,we(a)?f=function(e){return function(e,t,r,n){var o=!r;r||(r={});var i=-1,s=t.length;for(;++i<s;){var c=t[i],a=n?n(r[c],e[c],c,r,e):void 0;void 0===a&&(a=e[c]),o?oe(r,c,a):re(r,c,a)}return r}(e,Re(e))}(a):Se(a)&&!je(a)||(f=function(e){return"function"!=typeof e.constructor||be(e)?{}:q(A(e))}(u))):p=!1}var v,b,_,g;var m;p&&(s.set(u,f),o(f,u,n,i,s),s.delete(u));te(e,r,f)}(e,t,s,r,fe,n,o);else{var a=n?n(_e(e,s),i,s+"",e,t,o):void 0;void 0===a&&(a=i),te(e,s,a)}}),Re)}function pe(e,t){return ge(function(e,t,r){return t=Q(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Q(n.length-t,0),s=Array(i);++o<i;)s[o]=n[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=n[o];return c[t]=r(s),m(e,this,c)}}(e,t,De),e+"")}var he=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:De;function de(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ye(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(r)?r:void 0}function ve(e,t){var r=typeof e;return!!(t=null==t?o:t)&&("number"==r||"symbol"!=r&&u.test(e))&&e>-1&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}function _e(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ge=function(e){var t=0,r=0;return function(){var n=U(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(he);function me(e,t){return e===t||e!=e&&t!=t}var we=ae(function(){return arguments}())?ae:function(e){return Te(e)&&x.call(e,"callee")&&!F.call(e,"callee")},Oe=Array.isArray;function Pe(e){return null!=e&&Ee(e.length)&&!je(e)}var ke=X||function(){return!1};function je(e){if(!Se(e))return!1;var t=ce(e);return t==s||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){return null!=e&&"object"==typeof e}var xe=g?function(e){return function(t){return e(t)}}(g):function(e){return Te(e)&&Ee(e.length)&&!!l[ce(e)]};function Re(e){return Pe(e)?ee(e,!0):le(e)}var Ce,Le=(Ce=function(e,t,r,n){fe(e,t,r,n)},pe((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=Ce.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!Se(r))return!1;var n=typeof t;return!!("number"==n?Pe(r)&&ve(t,r.length):"string"==n&&t in r)&&me(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var s=t[r];s&&Ce(e,s,r,o)}return e})));function De(e){return e}e.exports=Le},473:()=>{},796:(e,t,r)=>{e.exports=r(643)},264:e=>{"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=r},518:e=>{var t,r,n,o,i,s,c,a,u,l,f,p,h,d,y,v=!1;function b(){if(!v){v=!0;var e=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),_=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(p=/\b(iPhone|iP[ao]d)/.exec(e),h=/\b(iP[ao]d)/.exec(e),l=/Android/i.exec(e),d=/FBAN\/\w+;/i.exec(e),y=/Mobile/i.exec(e),f=!!/Win64/.exec(e),b){(t=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN)&&document&&document.documentMode&&(t=document.documentMode);var g=/(?:Trident\/(\d+.\d+))/.exec(e);s=g?parseFloat(g[1])+4:t,r=b[2]?parseFloat(b[2]):NaN,n=b[3]?parseFloat(b[3]):NaN,(o=b[4]?parseFloat(b[4]):NaN)?(b=/(?:Chrome\/(\d+\.\d+))/.exec(e),i=b&&b[1]?parseFloat(b[1]):NaN):i=NaN}else t=r=n=i=o=NaN;if(_){if(_[1]){var m=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!m||parseFloat(m[1].replace("_","."))}else c=!1;a=!!_[2],u=!!_[3]}else c=a=u=!1}}var _={ie:function(){return b()||t},ieCompatibilityMode:function(){return b()||s>t},ie64:function(){return _.ie()&&f},firefox:function(){return b()||r},opera:function(){return b()||n},webkit:function(){return b()||o},safari:function(){return _.webkit()},chrome:function(){return b()||i},windows:function(){return b()||a},osx:function(){return b()||c},linux:function(){return b()||u},iphone:function(){return b()||p},mobile:function(){return b()||p||h||l||y},nativeApp:function(){return b()||d},android:function(){return b()||l},ipad:function(){return b()||h}};e.exports=_},534:(e,t,r)=>{"use strict";var n,o=r(264);o.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,i=r in document;if(!i){var s=document.createElement("div");s.setAttribute(r,"return;"),i="function"==typeof s[r]}return!i&&n&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},643:(e,t,r)=>{"use strict";var n=r(518),o=r(534);function i(e){var t=0,r=0,n=0,o=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=10*t,o=10*r,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||o)&&e.deltaMode&&(1==e.deltaMode?(n*=40,o*=40):(n*=800,o*=800)),n&&!t&&(t=n<1?-1:1),o&&!r&&(r=o<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:o}}i.getEventType=function(){return n.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=i},379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},s=[],c=0;c<e.length;c++){var a=e[c],u=n.base?a[0]+n.base:a[0],l=i[u]||0,f="".concat(u," ").concat(l);i[u]=l+1;var p=r(f),h={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var d=o(h,n);n.byIndex=c,t.splice(c,0,{identifier:f,updater:d,references:1})}s.push(f)}return s}function o(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var c=r(i[s]);t[c].references--}for(var a=n(e,o),u=0;u<i.length;u++){var l=r(i[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=a}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(n){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return r[e](i,i.exports,o),i.loaded=!0,i.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>"assets/js/"+e+"."+{50:"1c3ffad99ed493bb9dbc",203:"58f76a2a31dc60a61fde",208:"2c4fa009d645d9563713",209:"9986b9f0da4dc658c357",231:"f3be51768602d0065f1b",287:"9fac584754bc560a720e",294:"c4046e716ec4d03b29de",306:"a96013b899ca5596639f",330:"72e917c86a86b3fa8bb5",408:"348f77a848911e7eb3c6",451:"44fbf9deb12e216dbbff",556:"ef81ec2cff7d907da3e3",579:"3dca92ba7ddf75989c02",700:"d3c12f5e1913af9559af",725:"da6a06024c6dcde152f3",754:"36e0f92d8b9bac420674",836:"dbdfcc6a63f58b11429f",838:"5a01f589adfa737f7ae3",852:"c669f6245cc8f0845196",908:"18d08ce00625f930b2fe"}[e]+".js",o.miniCssF=e=>{},o.h=()=>"b09f2b69580eb0b45845",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="vevet:",o.l=(r,n,i,s)=>{if(e[r])e[r].push(n);else{var c,a;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){c=f;break}}c||(a=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",t+i),c.src=r),e[r]=[n];var p=(t,n)=>{c.onerror=c.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),a&&document.head.appendChild(c)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/vevet/",(()=>{var e={826:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=i);var s=o.p+o.u(t),c=new Error;o.l(s,(r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,n[1](c)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[s,c,a]=r,u=0;if(s.some((t=>0!==e[t]))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(a)a(o)}for(t&&t(r);u<s.length;u++)i=s[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkvevet=self.webpackChunkvevet||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=o(379),t=o.n(e),r=o(795),n=o.n(r),i=o(569),s=o.n(i),c=o(565),a=o.n(c),u=o(216),l=o.n(u),f=o(589),p=o.n(f),h=o(473),d=o.n(h),y={};y.styleTagTransform=p(),y.setAttributes=a(),y.insert=s().bind(null,"head"),y.domAPI=n(),y.insertStyleElement=l();t()(d(),y);d()&&d().locals&&d().locals;var v=o(532);window.Vevet=v,window.history.scrollRestoration="manual";var b=document.documentElement.getAttribute("data-page-name");if(null!=b&&b.includes("app/"))switch(b.split("app/")[1]){case"index":o.e(408).then(o.bind(o,408));break;case"page-load":o.e(208).then(o.bind(o,208));break;case"viewport":o.e(209).then(o.bind(o,209))}if(null!=b&&b.includes("components/"))switch(b.split("components/")[1]){case"animation-frame":o.e(287).then(o.bind(o,287));break;case"ctx2d":o.e(50).then(o.bind(o,50));break;case"ctx2d-prerender":o.e(838).then(o.bind(o,838));break;case"custom-cursor":o.e(231).then(o.bind(o,231));break;case"dragger-direction":o.e(579).then(o.bind(o,579));break;case"dragger-move":o.e(451).then(o.bind(o,451));break;case"preloader":o.e(836).then(o.bind(o,836));break;case"preloader-progress":o.e(306).then(o.bind(o,306));break;case"page":o.e(754).then(o.bind(o,754));break;case"scroll-view":o.e(203).then(o.bind(o,203));break;case"scrollbar":o.e(294).then(o.bind(o,294));break;case"smooth-scroll":o.e(700).then(o.bind(o,700));break;case"split-text":o.e(908).then(o.bind(o,908));break;case"timeline":o.e(556).then(o.bind(o,556));break;case"timeline-static":o.e(330).then(o.bind(o,330));break;case"timeline-nested":o.e(725).then(o.bind(o,725))}if(null!=b&&b.includes("handlers/")&&"wheel"===b.split("handlers/")[1])o.e(852).then(o.bind(o,852))})()})();