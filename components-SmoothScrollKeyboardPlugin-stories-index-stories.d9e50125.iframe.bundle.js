"use strict";(self.webpackChunkvevet=self.webpackChunkvevet||[]).push([[800],{"./src/components/SmoothScrollKeyboardPlugin/stories/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),childOf=__webpack_require__("./node_modules/vevet-dom/dist/es/childOf.js"),Plugin=__webpack_require__("./src/base/Plugin/index.ts"),getApp=__webpack_require__("./src/utils/internal/getApp.ts");class SmoothScrollKeyboardPlugin extends Plugin.k{_getDefaultProps(){return{...super._getDefaultProps(),iterator:40}}_init(){super._init(),this.addEventListener(window,"keydown",(event=>this._handleKeydown(event)))}_canIgnoreKeyboardEvents(){const{activeElement}=document;return activeElement instanceof HTMLInputElement||activeElement instanceof HTMLTextAreaElement||activeElement instanceof HTMLSelectElement}_checkScrollContainerInViewport(){const{viewport}=(0,getApp.S)(),bounding=this.component.container.getBoundingClientRect();return bounding.left<viewport.width&&bounding.right>0&&bounding.top<viewport.height&&bounding.bottom>0}_checkIsEndOfScroll(){const{component}=this;return component.targetTop>=component.maxScrollableHeight&&component.targetLeft>=component.maxScrollableWidth}_handleKeydown(event){const{component}=this,{iterator}=this.props;if(component.props.isEnabled)if(9!==event.keyCode){if(!this._canIgnoreKeyboardEvents()&&this._checkScrollContainerInViewport())switch(!this._checkIsEndOfScroll()&&[38,40,39,37,34,33,36,35,32].includes(event.keyCode)&&event.preventDefault(),event.keyCode){case 38:component.targetTop-=iterator;break;case 40:component.targetTop+=iterator;break;case 39:component.targetLeft+=iterator;break;case 37:component.targetLeft-=iterator;break;case 34:component.targetTop+=10*iterator;break;case 33:component.targetTop-=10*iterator;break;case 36:component.targetTop=0,component.targetLeft=0;break;case 35:component.targetTop=component.scrollHeight,component.targetLeft=component.scrollWidth;break;case 32:component.targetTop+=5*iterator}}else this._handleTab()}_handleTab(){this._tabDebounceTimeout&&clearTimeout(this._tabDebounceTimeout),this._tabDebounceTimeout=setTimeout((()=>{const scroll=this.component,{activeElement}=document;if(!(activeElement instanceof HTMLElement&&(0,childOf.G)(activeElement,scroll.container)))return;const scrollOuterBounding=scroll.container.getBoundingClientRect(),activeElementBounding=activeElement.getBoundingClientRect(),top=scroll.scrollTop+(activeElementBounding.top-scrollOuterBounding.top)-(scroll.clientHeight/2-activeElementBounding.height/2),left=scroll.scrollLeft+(activeElementBounding.left-scrollOuterBounding.left)-(scroll.clientWidth/2-activeElementBounding.width/2);scroll.targetTop=top,scroll.targetLeft=left}),120)}_destroy(){super._destroy(),this._tabDebounceTimeout&&clearTimeout(this._tabDebounceTimeout)}}var SmoothScroll=__webpack_require__("./src/components/SmoothScroll/index.ts"),times=__webpack_require__("./src/utils/common/times.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Component=()=>{const containerRef=(0,react.useRef)(null),[smoothScroll,setSmoothScroll]=(0,react.useState)();return(0,react.useEffect)((()=>{if(!containerRef.current)return;const instance=new SmoothScroll.W({container:containerRef.current});return setSmoothScroll(instance),instance.addPlugin(new SmoothScrollKeyboardPlugin),()=>instance.destroy()}),[]),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>smoothScroll?.changeProps({isEnabled:!0}),children:"Enable"}),(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>smoothScroll?.changeProps({isEnabled:!1}),children:"Disable"}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{ref:containerRef,className:"v-smooth-scroll",style:{height:500,maxWidth:500,backgroundColor:"#ccc"},children:(0,jsx_runtime.jsxs)("div",{className:"v-smooth-scroll__wrapper",children:[(0,jsx_runtime.jsx)("button",{type:"button",children:"Test button"}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Test input"}),(0,times.H)((index=>(0,jsx_runtime.jsxs)("div",{children:["Lorem ipsum dolor sit amet ",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("button",{type:"button",children:"Test button"})]},index)),40),(0,jsx_runtime.jsx)("button",{type:"button",children:"Test button"})]})})]})};Component.displayName="Component";try{Component.displayName="Component",Component.__docgenInfo={description:"",displayName:"Component",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SmoothScrollKeyboardPlugin/stories/index.tsx#Component"]={docgenInfo:Component.__docgenInfo,name:"Component",path:"src/components/SmoothScrollKeyboardPlugin/stories/index.tsx#Component"})}catch(__react_docgen_typescript_loader_error){}const index_stories={title:"Components/SmoothScrollKeyboardPlugin",component:Component},Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/base/Plugin/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>Plugin});var _Module__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/base/Module/index.ts");class Plugin extends _Module__WEBPACK_IMPORTED_MODULE_0__.n{constructor(initialProps){super(initialProps,!1)}get component(){return this._component}set component(value){this._component=value}init(){if(!this.component)throw new Error("Component is unknown. Be sure that `plugin.component` is non-nullable.");super.init()}}},"./src/utils/common/times.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function times(callback,count){let index=0;const list=[];for(;index<count;)list.push(callback(index,count)),index+=1;return list}__webpack_require__.d(__webpack_exports__,{H:()=>times})},"./node_modules/vevet-dom/dist/es/childOf.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function childOf(element,parent){return childOfCheck(element,parent)}function childOfCheck(el,parent){return el===parent||null!==el&&childOfCheck(el.parentNode,parent)}__webpack_require__.d(__webpack_exports__,{G:()=>childOf})}}]);